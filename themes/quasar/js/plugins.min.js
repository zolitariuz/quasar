<<<<<<< HEAD
!function(){for(var t,e=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=i.length,n=window.console=window.console||{};r--;)t=i[r],n[t]||(n[t]=e)}(),function(t,e,i){t.fn.backstretch=function(r,n){return(r===i||0===r.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),i=e.data("backstretch");if(i){if("string"==typeof r&&"function"==typeof i[r])return i[r](n),void 0;n=t.extend(i.options,n),i.destroy(!0)}i=new s(this,r,n),e.data("backstretch",i)})},t.backstretch=function(e,i){return t("body").backstretch(e,i).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==i},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var r={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},n={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},s=function(i,n,s){this.options=t.extend({},t.fn.backstretch.defaults,s||{}),this.images=t.isArray(n)?n:[n],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=t(i),this.$root=this.isBody?a?t(e):t(document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:t('<div class="backstretch"></div>').css(r).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),n=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===n?0:n,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&a?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};s.prototype={resize:function(){try{var t,i={left:0,top:0},r=this.isBody?this.$root.width():this.$root.innerWidth(),n=r,s=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),a=n/this.$img.data("ratio");a>=s?(t=(a-s)/2,this.options.centeredY&&(i.top="-"+t+"px")):(a=s,n=a*this.$img.data("ratio"),t=(n-r)/2,this.options.centeredX&&(i.left="-"+t+"px")),this.$wrap.css({width:r,height:s}).find("img:not(.deleteable)").css({width:n,height:a}).css(i)}catch(o){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){var i=this,r=i.$wrap.find("img").addClass("deleteable"),s={relatedTarget:i.$container[0]};return i.$container.trigger(t.Event("backstretch.before",s),[i,e]),this.index=e,clearInterval(i.interval),i.$img=t("<img />").css(n).bind("load",function(n){var a=this.width||t(n.target).width();n=this.height||t(n.target).height(),t(this).data("ratio",a/n),t(this).fadeIn(i.options.speed||i.options.fade,function(){r.remove(),i.paused||i.cycle(),t(["after","show"]).each(function(){i.$container.trigger(t.Event("backstretch."+this,s),[i,e])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[e]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var a,o=navigator.userAgent,d=navigator.platform,u=o.match(/AppleWebKit\/([0-9]+)/),u=!!u&&u[1],l=o.match(/Fennec\/([0-9]+)/),l=!!l&&l[1],h=o.match(/Opera Mobi\/([0-9]+)/),c=!!h&&h[1],m=o.match(/MSIE ([0-9]+)/),m=!!m&&m[1];a=!((-1<d.indexOf("iPhone")||-1<d.indexOf("iPad")||-1<d.indexOf("iPod"))&&u&&534>u||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||h&&7458>c||-1<o.indexOf("Android")&&u&&533>u||l&&6>l||"palmGetResource"in e&&u&&534>u||-1<o.indexOf("MeeGo")&&-1<o.indexOf("NokiaBrowser/8.5.0")||m&&6>=m)}(jQuery,window),!function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&r.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},r=this;return t.each(e.split(/\s/),function(t,e){i[e]=r.attr(e),r.removeAttr(e)}),i},rules:function(e,i){var r,n,s,a,o,d,u=this[0];if(e)switch(r=t.data(u.form,"validator").settings,n=r.rules,s=t.validator.staticRules(u),e){case"add":t.extend(s,t.validator.normalizeRule(i)),delete s.messages,n[u.name]=s,i.messages&&(r.messages[u.name]=t.extend(r.messages[u.name],i.messages));break;case"remove":return i?(d={},t.each(i.split(/\s/),function(e,i){d[i]=s[i],delete s[i],"required"===i&&t(u).removeAttr("aria-required")}),d):(delete n[u.name],s)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),a.required&&(o=a.required,delete a.required,a=t.extend({required:o},a),t(u).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,r){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(r):t(e).addClass(i).removeClass(r)},unhighlight:function(e,i,r){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(r):t(e).removeClass(i).addClass(r)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),r="on"+e.type.replace(/^validate/,""),n=i.settings;n[r]&&!this.is(n.ignore)&&n[r].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){r[i]=e})}),i=this.settings.rules,t.each(i,function(e,r){i[e]=t.validator.normalizeRule(r)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),r=this.validationTargetFor(i),n=!0;return this.lastElement=r,void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=t(r),n=this.check(r)!==!1,n?delete this.invalid[r.name]:this.invalid[r.name]=!0),t(e).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,r=t(e),n=r.attr("type");return"radio"===n||"checkbox"===n?t("input[name='"+r.attr("name")+"']:checked").val():(i=r.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,r,n,s=t(e).rules(),a=t.map(s,function(t,e){return e}).length,o=!1,d=this.elementValue(e);for(r in s){n={method:r,parameters:s[r]};try{if(i=t.validator.methods[r].call(this,d,e,n.parameters),"dependency-mismatch"===i&&1===a){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,n),!1}catch(u){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+n.method+"' method.",u),u}}return o?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg"+i[0].toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var r=this.defaultMessage(e,i.method),n=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,e):n.test(r)&&(r=t.validator.format(r.replace(n,"{$1}"),i.parameters)),this.errorList.push({message:r,element:e,method:i.method}),this.errorMap[e.name]=r,this.submitted[e.name]=r},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var r=this.errorsFor(e);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,t(e)):r.insertAfter(e))),!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,e)),this.toShow=this.toShow.add(r)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},r=t(e).attr("class");return r&&t.each(r.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,r,n={},s=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(r=e.getAttribute(i),""===r&&(r=!0),r=!!r):r=s.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(r=Number(r)),r||0===r?n[i]=r:a===i&&"range"!==a&&(n[i]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var i,r,n={},s=t(e);for(i in t.validator.methods)r=s.data("rule"+i[0].toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(n[i]=r);return n},staticRules:function(e){var i={},r=t.data(e.form,"validator");return r.settings.rules&&(i=t.validator.normalizeRule(r.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(r,n){if(n===!1)return void delete e[r];if(n.param||n.depends){var s=!0;switch(typeof n.depends){case"string":s=!!t(n.depends,i.form).length;break;case"function":s=n.depends.call(i,i)}s?e[r]=void 0!==n.param?n.param:!0:delete e[r]}}),t.each(e,function(r,n){e[r]=t.isFunction(n)?n(i):n}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,r){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==r?r:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=t(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,r,n=0,s=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)r=t.charAt(i),s=parseInt(r,10),a&&(s*=2)>9&&(s-=9),n+=s,a=!a;return 0===n%10},minlength:function(e,i,r){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||n>=r},maxlength:function(e,i,r){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=n},rangelength:function(e,i,r){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||n>=r[0]&&n<=r[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,r){var n=t(r);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===n.val()},remote:function(e,i,r){if(this.optional(i))return"dependency-mismatch";var n,s,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,r="string"==typeof r&&{url:r}||r,a.old===e?a.valid:(a.old=e,n=this,this.startRequest(i),s={},s[i.name]=e,t.ajax(t.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:n.currentForm,success:function(r){var s,o,d,u=r===!0||"true"===r;n.settings.messages[i.name].remote=a.originalMessage,u?(d=n.formSubmitted,n.prepareElement(i),n.formSubmitted=d,n.successList.push(i),delete n.invalid[i.name],n.showErrors()):(s={},o=r||n.defaultMessage(i,"remote"),s[i.name]=a.message=t.isFunction(o)?o(e):o,n.invalid[i.name]=!0,n.showErrors(s)),a.valid=u,n.stopRequest(i,u)}},r)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(t){var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,r){var n=t.port;"abort"===t.mode&&(i[n]&&i[n].abort(),i[n]=r)}):(e=t.ajax,t.ajax=function(r){var n=("mode"in r?r:t.ajaxSettings).mode,s=("port"in r?r:t.ajaxSettings).port;return"abort"===n?(i[s]&&i[s].abort(),i[s]=e.apply(this,arguments),i[s]):e.apply(this,arguments)})}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,r){return this.bind(i,function(i){var n=t(i.target);return n.is(e)?r.apply(n,arguments):void 0})}})}(jQuery),function(t){t.extend(t.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida.",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número entero válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensión aceptada.",maxlength:t.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:t.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:t.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:t.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:t.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:t.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF válido.",nieES:"Por favor, escribe un NIE válido.",cifES:"Por favor, escribe un CIF válido."})}(jQuery),function(t){var e=!1,i=!1,r={isUrl:function(t){var e=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return e.test(t)?!0:!1},loadContent:function(t,e){t.html(e)},addPrefix:function(t){var e=t.attr("id"),i=t.attr("class");"string"==typeof e&&""!==e&&t.attr("id",e.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof i&&""!==i&&"sidr-inner"!==i&&t.attr("class",i.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),t.removeAttr("style")},execute:function(r,s,a){"function"==typeof s?(a=s,s="sidr"):s||(s="sidr");var o,d,u,l=t("#"+s),h=t(l.data("body")),c=t("html"),m=l.outerWidth(!0),f=l.data("speed"),g=l.data("side"),p=l.data("displace"),v=l.data("onOpen"),b=l.data("onClose"),F="sidr"===s?"sidr-open":"sidr-open "+s+"-open";if("open"===r||"toggle"===r&&!l.is(":visible")){if(l.is(":visible")||e)return;if(i!==!1)return n.close(i,function(){n.open(s)}),void 0;e=!0,"left"===g?(o={left:m+"px"},d={left:"0px"}):(o={right:m+"px"},d={right:"0px"}),h.is("body")&&(u=c.scrollTop(),c.css("overflow-x","hidden").scrollTop(u)),p?h.addClass("sidr-animating").css({width:h.width(),position:"absolute"}).animate(o,f,function(){t(this).addClass(F)}):setTimeout(function(){t(this).addClass(F)},f),l.css("display","block").animate(d,f,function(){e=!1,i=s,"function"==typeof a&&a(s),h.removeClass("sidr-animating")}),v()}else{if(!l.is(":visible")||e)return;e=!0,"left"===g?(o={left:0},d={left:"-"+m+"px"}):(o={right:0},d={right:"-"+m+"px"}),h.is("body")&&(u=c.scrollTop(),c.removeAttr("style").scrollTop(u)),h.addClass("sidr-animating").animate(o,f).removeClass(F),l.animate(d,f,function(){l.removeAttr("style").hide(),h.removeAttr("style"),t("html").removeAttr("style"),e=!1,i=!1,"function"==typeof a&&a(s),h.removeClass("sidr-animating")}),b()}}},n={open:function(t,e){r.execute("open",t,e)},close:function(t,e){r.execute("close",t,e)},toggle:function(t,e){r.execute("toggle",t,e)},toogle:function(t,e){r.execute("toggle",t,e)}};t.sidr=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.sidr"),void 0):n.toggle.apply(this,arguments)},t.fn.sidr=function(e){var i=t.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},e),s=i.name,a=t("#"+s);if(0===a.length&&(a=t("<div />").attr("id",s).appendTo(t("body"))),a.addClass("sidr").addClass(i.side).data({speed:i.speed,side:i.side,body:i.body,displace:i.displace,onOpen:i.onOpen,onClose:i.onClose}),"function"==typeof i.source){var o=i.source(s);r.loadContent(a,o)}else if("string"==typeof i.source&&r.isUrl(i.source))t.get(i.source,function(t){r.loadContent(a,t)});else if("string"==typeof i.source){var d="",u=i.source.split(",");if(t.each(u,function(e,i){d+='<div class="sidr-inner">'+t(i).html()+"</div>"}),i.renaming){var l=t("<div />").html(d);l.find("*").each(function(e,i){var n=t(i);r.addPrefix(n)}),d=l.html()}r.loadContent(a,d)}else null!==i.source&&t.error("Invalid Sidr Source");return this.each(function(){var e=t(this),i=e.data("sidr");i||(e.data("sidr",s),"ontouchstart"in document.documentElement?(e.bind("touchstart",function(t){t.originalEvent.touches[0],this.touched=t.timeStamp}),e.bind("touchend",function(t){var e=Math.abs(t.timeStamp-this.touched);200>e&&(t.preventDefault(),n.toggle(s))})):e.click(function(t){t.preventDefault(),n.toggle(s)}))})}}(jQuery);
=======
!function(){for(var e,t=function(){},a=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=a.length,n=window.console=window.console||{};s--;)e=a[s],n[e]||(n[e]=t)}(),function(e,t,a){e.fn.backstretch=function(s,n){return(s===a||0===s.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),a=t.data("backstretch");if(a){if("string"==typeof s&&"function"==typeof a[s])return a[s](n),void 0;n=e.extend(a.options,n),a.destroy(!0)}a=new i(this,s,n),t.data("backstretch",a)})},e.backstretch=function(t,a){return e("body").backstretch(t,a).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==a},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var s={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},n={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},i=function(a,n,i){this.options=e.extend({},e.fn.backstretch.defaults,i||{}),this.images=e.isArray(n)?n:[n],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=a===document.body,this.$container=e(a),this.$root=this.isBody?r?e(t):e(document):this.$container,a=this.$container.children(".backstretch").first(),this.$wrap=a.length?a:e('<div class="backstretch"></div>').css(s).appendTo(this.$container),this.isBody||(a=this.$container.css("position"),n=this.$container.css("zIndex"),this.$container.css({position:"static"===a?"relative":a,zIndex:"auto"===n?0:n,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&r?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};i.prototype={resize:function(){try{var e,a={left:0,top:0},s=this.isBody?this.$root.width():this.$root.innerWidth(),n=s,i=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),r=n/this.$img.data("ratio");r>=i?(e=(r-i)/2,this.options.centeredY&&(a.top="-"+e+"px")):(r=i,n=r*this.$img.data("ratio"),e=(n-s)/2,this.options.centeredX&&(a.left="-"+e+"px")),this.$wrap.css({width:s,height:i}).find("img:not(.deleteable)").css({width:n,height:r}).css(a)}catch(o){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var a=this,s=a.$wrap.find("img").addClass("deleteable"),i={relatedTarget:a.$container[0]};return a.$container.trigger(e.Event("backstretch.before",i),[a,t]),this.index=t,clearInterval(a.interval),a.$img=e("<img />").css(n).bind("load",function(n){var r=this.width||e(n.target).width();n=this.height||e(n.target).height(),e(this).data("ratio",r/n),e(this).fadeIn(a.options.speed||a.options.fade,function(){s.remove(),a.paused||a.cycle(),e(["after","show"]).each(function(){a.$container.trigger(e.Event("backstretch."+this,i),[a,t])})}),a.resize()}).appendTo(a.$wrap),a.$img.attr("src",a.images[t]),a}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(a){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),a||this.$wrap.remove(),this.$container.removeData("backstretch")}};var r,o=navigator.userAgent,c=navigator.platform,l=o.match(/AppleWebKit\/([0-9]+)/),l=!!l&&l[1],d=o.match(/Fennec\/([0-9]+)/),d=!!d&&d[1],u=o.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1],p=o.match(/MSIE ([0-9]+)/),p=!!p&&p[1];r=!((-1<c.indexOf("iPhone")||-1<c.indexOf("iPad")||-1<c.indexOf("iPod"))&&l&&534>l||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>h||-1<o.indexOf("Android")&&l&&533>l||d&&6>d||"palmGetResource"in t&&l&&534>l||-1<o.indexOf("MeeGo")&&-1<o.indexOf("NokiaBrowser/8.5.0")||p&&6>=p)}(jQuery,window),!function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var a=e.data(this[0],"validator");return a?a:(this.attr("novalidate","novalidate"),a=new e.validator(t,this[0]),e.data(this[0],"validator",a),a.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){a.settings.submitHandler&&(a.submitButton=t.target),e(t.target).hasClass("cancel")&&(a.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(a.cancelSubmit=!0)}),this.submit(function(t){function s(){var s;return a.settings.submitHandler?(a.submitButton&&(s=e("<input type='hidden'/>").attr("name",a.submitButton.name).val(e(a.submitButton).val()).appendTo(a.currentForm)),a.settings.submitHandler.call(a,a.currentForm,t),a.submitButton&&s.remove(),!1):!0}return a.settings.debug&&t.preventDefault(),a.cancelSubmit?(a.cancelSubmit=!1,s()):a.form()?a.pendingRequest?(a.formSubmitted=!0,!1):s():(a.focusInvalid(),!1)})),a)},valid:function(){var t,a;return e(this[0]).is("form")?t=this.validate().form():(t=!0,a=e(this[0].form).validate(),this.each(function(){t=a.element(this)&&t})),t},removeAttrs:function(t){var a={},s=this;return e.each(t.split(/\s/),function(e,t){a[t]=s.attr(t),s.removeAttr(t)}),a},rules:function(t,a){var s,n,i,r,o,c,l=this[0];if(t)switch(s=e.data(l.form,"validator").settings,n=s.rules,i=e.validator.staticRules(l),t){case"add":e.extend(i,e.validator.normalizeRule(a)),delete i.messages,n[l.name]=i,a.messages&&(s.messages[l.name]=e.extend(s.messages[l.name],a.messages));break;case"remove":return a?(c={},e.each(a.split(/\s/),function(t,a){c[a]=i[a],delete i[a],"required"===a&&e(l).removeAttr("aria-required")}),c):(delete n[l.name],i)}return r=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),r.required&&(o=r.required,delete r.required,r=e.extend({required:o},r),e(l).attr("aria-required","true")),r.remote&&(o=r.remote,delete r.remote,r=e.extend(r,{remote:o})),r}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,a){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=a,this.init()},e.validator.format=function(t,a){return 1===arguments.length?function(){var a=e.makeArray(arguments);return a.unshift(t),e.validator.format.apply(this,a)}:(arguments.length>2&&a.constructor!==Array&&(a=e.makeArray(arguments).slice(1)),a.constructor!==Array&&(a=[a]),e.each(a,function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return a})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,a,s){"radio"===t.type?this.findByName(t.name).addClass(a).removeClass(s):e(t).addClass(a).removeClass(s)},unhighlight:function(t,a,s){"radio"===t.type?this.findByName(t.name).removeClass(a).addClass(s):e(t).removeClass(a).addClass(s)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var a=e.data(this[0].form,"validator"),s="on"+t.type.replace(/^validate/,""),n=a.settings;n[s]&&!this.is(n.ignore)&&n[s].call(a,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var a,s=this.groups={};e.each(this.settings.groups,function(t,a){"string"==typeof a&&(a=a.split(/\s/)),e.each(a,function(e,a){s[a]=t})}),a=this.settings.rules,e.each(a,function(t,s){a[t]=e.validator.normalizeRule(s)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var a=this.clean(t),s=this.validationTargetFor(a),n=!0;return this.lastElement=s,void 0===s?delete this.invalid[a.name]:(this.prepareElement(s),this.currentElements=e(s),n=this.check(s)!==!1,n?delete this.invalid[s.name]:this.invalid[s.name]=!0),e(t).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var a in t)this.errorList.push({message:t[a],element:this.findByName(a)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,a=0;for(t in e)a++;return a},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,a={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in a||!t.objectLength(e(this).rules())?!1:(a[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var a,s=e(t),n=s.attr("type");return"radio"===n||"checkbox"===n?e("input[name='"+s.attr("name")+"']:checked").val():(a=s.val(),"string"==typeof a?a.replace(/\r/g,""):a)},check:function(t){t=this.validationTargetFor(this.clean(t));var a,s,n,i=e(t).rules(),r=e.map(i,function(e,t){return t}).length,o=!1,c=this.elementValue(t);for(s in i){n={method:s,parameters:i[s]};try{if(a=e.validator.methods[s].call(this,c,t,n.parameters),"dependency-mismatch"===a&&1===r){o=!0;continue}if(o=!1,"pending"===a)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!a)return this.formatAndAdd(t,n),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",l),l}}return o?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,a){return e(t).data("msg"+a[0].toUpperCase()+a.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var a=this.settings.messages[e];return a&&(a.constructor===String?a:a[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,a){return this.findDefined(this.customMessage(t.name,a),this.customDataMessage(t,a),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[a],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,a){var s=this.defaultMessage(t,a.method),n=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,a.parameters,t):n.test(s)&&(s=e.validator.format(s.replace(n,"{$1}"),a.parameters)),this.errorList.push({message:s,element:t,method:a.method}),this.errorMap[t.name]=s,this.submitted[t.name]=s},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,a;for(e=0;this.errorList[e];e++)a=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass),this.showLabel(a.element,a.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,a){var s=this.errorsFor(t);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(a)):(s=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(a||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,e(t)):s.insertAfter(t))),!a&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var a=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===a})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,a){switch(a.nodeName.toLowerCase()){case"select":return e("option:selected",a).length;case"input":if(this.checkable(a))return this.findByName(a.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,a){return!!e(t,a.form).length},"function":function(e,t){return e(t)}},optional:function(t){var a=this.elementValue(t);return!e.validator.methods.required.call(this,a,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,a){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],a&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!a&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,a){t.constructor===String?this.classRuleSettings[t]=a:e.extend(this.classRuleSettings,t)},classRules:function(t){var a={},s=e(t).attr("class");return s&&e.each(s.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(a,e.validator.classRuleSettings[this])}),a},attributeRules:function(t){var a,s,n={},i=e(t),r=t.getAttribute("type");for(a in e.validator.methods)"required"===a?(s=t.getAttribute(a),""===s&&(s=!0),s=!!s):s=i.attr(a),/min|max/.test(a)&&(null===r||/number|range|text/.test(r))&&(s=Number(s)),s||0===s?n[a]=s:r===a&&"range"!==r&&(n[a]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var a,s,n={},i=e(t);for(a in e.validator.methods)s=i.data("rule"+a[0].toUpperCase()+a.substring(1).toLowerCase()),void 0!==s&&(n[a]=s);return n},staticRules:function(t){var a={},s=e.data(t.form,"validator");return s.settings.rules&&(a=e.validator.normalizeRule(s.settings.rules[t.name])||{}),a},normalizeRules:function(t,a){return e.each(t,function(s,n){if(n===!1)return void delete t[s];if(n.param||n.depends){var i=!0;switch(typeof n.depends){case"string":i=!!e(n.depends,a.form).length;break;case"function":i=n.depends.call(a,a)}i?t[s]=void 0!==n.param?n.param:!0:delete t[s]}}),e.each(t,function(s,n){t[s]=e.isFunction(n)?n(a):n}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var a;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(a=t[this].split(/[\s,]+/),t[this]=[Number(a[0]),Number(a[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var a={};e.each(t.split(/\s/),function(){a[this]=!0}),t=a}return t},addMethod:function(t,a,s){e.validator.methods[t]=a,e.validator.messages[t]=void 0!==s?s:e.validator.messages[t],a.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,a,s){if(!this.depend(s,a))return"dependency-mismatch";if("select"===a.nodeName.toLowerCase()){var n=e(a).val();return n&&n.length>0}return this.checkable(a)?this.getLength(t,a)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var a,s,n=0,i=0,r=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(a=e.length-1;a>=0;a--)s=e.charAt(a),i=parseInt(s,10),r&&(i*=2)>9&&(i-=9),n+=i,r=!r;return 0===n%10},minlength:function(t,a,s){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||n>=s},maxlength:function(t,a,s){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||s>=n},rangelength:function(t,a,s){var n=e.isArray(t)?t.length:this.getLength(e.trim(t),a);return this.optional(a)||n>=s[0]&&n<=s[1]},min:function(e,t,a){return this.optional(t)||e>=a},max:function(e,t,a){return this.optional(t)||a>=e},range:function(e,t,a){return this.optional(t)||e>=a[0]&&e<=a[1]},equalTo:function(t,a,s){var n=e(s);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(a).valid()}),t===n.val()},remote:function(t,a,s){if(this.optional(a))return"dependency-mismatch";var n,i,r=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),r.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===t?r.valid:(r.old=t,n=this,this.startRequest(a),i={},i[a.name]=t,e.ajax(e.extend(!0,{url:s,mode:"abort",port:"validate"+a.name,dataType:"json",data:i,context:n.currentForm,success:function(s){var i,o,c,l=s===!0||"true"===s;n.settings.messages[a.name].remote=r.originalMessage,l?(c=n.formSubmitted,n.prepareElement(a),n.formSubmitted=c,n.successList.push(a),delete n.invalid[a.name],n.showErrors()):(i={},o=s||n.defaultMessage(a,"remote"),i[a.name]=r.message=e.isFunction(o)?o(t):o,n.invalid[a.name]=!0,n.showErrors(i)),r.valid=l,n.stopRequest(a,l)}},s)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."}}(jQuery),function(e){var t,a={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,s){var n=e.port;"abort"===e.mode&&(a[n]&&a[n].abort(),a[n]=s)}):(t=e.ajax,e.ajax=function(s){var n=("mode"in s?s:e.ajaxSettings).mode,i=("port"in s?s:e.ajaxSettings).port;return"abort"===n?(a[i]&&a[i].abort(),a[i]=t.apply(this,arguments),a[i]):t.apply(this,arguments)})}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,a,s){return this.bind(a,function(a){var n=e(a.target);return n.is(t)?s.apply(n,arguments):void 0})}})}(jQuery),function(e){e.extend(e.validator.messages,{required:"Este campo es obligatorio.",remote:"Por favor, rellena este campo.",email:"Por favor, escribe una dirección de correo válida.",url:"Por favor, escribe una URL válida.",date:"Por favor, escribe una fecha válida.",dateISO:"Por favor, escribe una fecha (ISO) válida.",number:"Por favor, escribe un número entero válido.",digits:"Por favor, escribe sólo dígitos.",creditcard:"Por favor, escribe un número de tarjeta válido.",equalTo:"Por favor, escribe el mismo valor de nuevo.",extension:"Por favor, escribe un valor con una extensión aceptada.",maxlength:e.validator.format("Por favor, no escribas más de {0} caracteres."),minlength:e.validator.format("Por favor, no escribas menos de {0} caracteres."),rangelength:e.validator.format("Por favor, escribe un valor entre {0} y {1} caracteres."),range:e.validator.format("Por favor, escribe un valor entre {0} y {1}."),max:e.validator.format("Por favor, escribe un valor menor o igual a {0}."),min:e.validator.format("Por favor, escribe un valor mayor o igual a {0}."),nifES:"Por favor, escribe un NIF válido.",nieES:"Por favor, escribe un NIE válido.",cifES:"Por favor, escribe un CIF válido."})}(jQuery),function(e){var t=!1,a=!1,s={isUrl:function(e){var t=RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)?!0:!1},loadContent:function(e,t){e.html(t)},addPrefix:function(e){var t=e.attr("id"),a=e.attr("class");"string"==typeof t&&""!==t&&e.attr("id",t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof a&&""!==a&&"sidr-inner"!==a&&e.attr("class",a.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),e.removeAttr("style")},execute:function(s,i,r){"function"==typeof i?(r=i,i="sidr"):i||(i="sidr");var o,c,l,d=e("#"+i),u=e(d.data("body")),h=e("html"),p=d.outerWidth(!0),f=d.data("speed"),m=d.data("side"),v=d.data("displace"),g=d.data("onOpen"),$=d.data("onClose"),b="sidr"===i?"sidr-open":"sidr-open "+i+"-open";if("open"===s||"toggle"===s&&!d.is(":visible")){if(d.is(":visible")||t)return;if(a!==!1)return n.close(a,function(){n.open(i)}),void 0;t=!0,"left"===m?(o={left:p+"px"},c={left:"0px"}):(o={right:p+"px"},c={right:"0px"}),u.is("body")&&(l=h.scrollTop(),h.css("overflow-x","hidden").scrollTop(l)),v?u.addClass("sidr-animating").css({width:u.width(),position:"absolute"}).animate(o,f,function(){e(this).addClass(b)}):setTimeout(function(){e(this).addClass(b)},f),d.css("display","block").animate(c,f,function(){t=!1,a=i,"function"==typeof r&&r(i),u.removeClass("sidr-animating")}),g()}else{if(!d.is(":visible")||t)return;t=!0,"left"===m?(o={left:0},c={left:"-"+p+"px"}):(o={right:0},c={right:"-"+p+"px"}),u.is("body")&&(l=h.scrollTop(),h.removeAttr("style").scrollTop(l)),u.addClass("sidr-animating").animate(o,f).removeClass(b),d.animate(c,f,function(){d.removeAttr("style").hide(),u.removeAttr("style"),e("html").removeAttr("style"),t=!1,a=!1,"function"==typeof r&&r(i),u.removeClass("sidr-animating")}),$()}}},n={open:function(e,t){s.execute("open",e,t)},close:function(e,t){s.execute("close",e,t)},toggle:function(e,t){s.execute("toggle",e,t)},toogle:function(e,t){s.execute("toggle",e,t)}};e.sidr=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof t&&"string"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.sidr"),void 0):n.toggle.apply(this,arguments)},e.fn.sidr=function(t){var a=e.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},t),i=a.name,r=e("#"+i);if(0===r.length&&(r=e("<div />").attr("id",i).appendTo(e("body"))),r.addClass("sidr").addClass(a.side).data({speed:a.speed,side:a.side,body:a.body,displace:a.displace,onOpen:a.onOpen,onClose:a.onClose}),"function"==typeof a.source){var o=a.source(i);s.loadContent(r,o)}else if("string"==typeof a.source&&s.isUrl(a.source))e.get(a.source,function(e){s.loadContent(r,e)});else if("string"==typeof a.source){var c="",l=a.source.split(",");if(e.each(l,function(t,a){c+='<div class="sidr-inner">'+e(a).html()+"</div>"}),a.renaming){var d=e("<div />").html(c);d.find("*").each(function(t,a){var n=e(a);s.addPrefix(n)}),c=d.html()}s.loadContent(r,c)}else null!==a.source&&e.error("Invalid Sidr Source");return this.each(function(){var t=e(this),a=t.data("sidr");a||(t.data("sidr",i),"ontouchstart"in document.documentElement?(t.bind("touchstart",function(e){e.originalEvent.touches[0],this.touched=e.timeStamp}),t.bind("touchend",function(e){var t=Math.abs(e.timeStamp-this.touched);200>t&&(e.preventDefault(),n.toggle(i))})):t.click(function(e){e.preventDefault(),n.toggle(i)}))})}}(jQuery),function e(t,a,s){function n(r,o){if(!a[r]){if(!t[r]){var c="function"==typeof require&&require;if(!o&&c)return c(r,!0);if(i)return i(r,!0);throw Error("Cannot find module '"+r+"'")}c=a[r]={exports:{}},t[r][0].call(c.exports,function(e){var a=t[r][1][e];return n(a?a:e)},c,c.exports,e,t,a,s)}return a[r].exports}for(var i="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(e,t){t={isDomPresent:!0,navigator:navigator,window:window,document:document,ajax:function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.overrideMimeType&&t.overrideMimeType("text/plain"),t.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),t.send(null),200!==t.status&&0!==t.status)throw"XMLHttpRequest failed, status code "+t.status;return t.responseText}},window.Processing=e("./src/")(t)},{"./src/":27}],2:[function(e,t){t.exports={name:"Processing.js",version:"1.4.8",dependencies:{argv:"~0.0.2",browserify:"~2.18.1",express:"~3.3.3","node-minify":"~0.7.3",nunjucks:"~0.1.9",open:"0.0.3"},devDependencies:{grunt:"~0.4.1","grunt-cli":"~0.1.8","grunt-contrib-jshint":"~0.4.3"}}},{}],3:[function(e,t){t.exports=function(e){if(!(e instanceof Array)){if(e.iterator instanceof Function)return e.iterator();throw"Unable to iterate: "+e}var t=-1;this.hasNext=function(){return++t<e.length},this.next=function(){return e[t]}}},{}],4:[function(e,t){t.exports={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:3.4028235e38,MIN_FLOAT:-3.4028235e38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" 	\n\r\f ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8}
},{}],5:[function(e,t){t.exports=function(e){function t(){}function a(e,t,a){if(e.hasOwnProperty(t)&&"function"==typeof e[t]){var s=e[t];if("$overloads"in s)s.$defaultOverload=a;else if("$overloads"in a||s.length!==a.length){var n;"$overloads"in a?(n=a.$overloads.slice(0),n[s.length]=s,s=a.$defaultOverload):(n=[],n[a.length]=a,n[s.length]=s);var i=function(){return(i.$overloads[arguments.length]||("$methodArgsIndex"in i&&arguments.length>i.$methodArgsIndex?i.$overloads[i.$methodArgsIndex]:null)||i.$defaultOverload).apply(this,arguments)};i.$overloads=n,"$methodArgsIndex"in a&&(i.$methodArgsIndex=a.$methodArgsIndex),i.$defaultOverload=s,i.name=t,e[t]=i}}else e[t]=a}function s(e,t){function s(a){n.defineProperty(e,a,{get:function(){return t[a]},set:function(e){t[a]=e},enumerable:!0})}var i,r=[];for(i in t)"function"==typeof t[i]?a(e,i,t[i]):"$"===i.charAt(0)||i in e||r.push(i);for(;0<r.length;)s(r.shift());e.$super=t}t.prototype=e.PConstants;var n=new t;return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.defineProperty=function(e,t,a){"defineProperty"in Object?Object.defineProperty(e,t,a):(a.hasOwnProperty("get")&&e.__defineGetter__(t,a.get),a.hasOwnProperty("set")&&e.__defineSetter__(t,a.set))},n.extendClassChain=function(e){for(var t=[e],a=e.$upcast;a;a=a.$upcast)s(a,e),t.push(a),e=a;for(;0<t.length;)t.pop().$self=e},n.extendStaticMembers=function(e,t){s(e,t)},n.extendInterfaceMembers=function(e,t){s(e,t)},n.addMethod=function(e,t,a,s){var n=e[t];if(n||s){var i=a.length;if("$overloads"in n)n.$overloads[i]=a;else{var r=function(){return(r.$overloads[arguments.length]||("$methodArgsIndex"in r&&arguments.length>r.$methodArgsIndex?r.$overloads[r.$methodArgsIndex]:null)||r.$defaultOverload).apply(this,arguments)},o=[];n&&(o[n.length]=n),o[i]=a,r.$overloads=o,r.$defaultOverload=n||a,s&&(r.$methodArgsIndex=i),r.name=t,e[t]=r}}else e[t]=a},n.createJavaArray=function(e,t){var a=null,s=null;if("string"==typeof e)if("boolean"===e)s=!1;else{var i;i="string"!=typeof e?!1:-1!=="byte int char color float long double".split(" ").indexOf(e),i&&(s=0)}if("number"==typeof t[0])if(i=0|t[0],1>=t.length){a=[],a.length=i;for(var r=0;i>r;++r)a[r]=s}else for(a=[],s=t.slice(1),r=0;i>r;++r)a.push(n.createJavaArray(e,s));return a},n.defineProperty(n,"screenWidth",{get:function(){return window.innerWidth}}),n.defineProperty(n,"screenHeight",{get:function(){return window.innerHeight}}),n}},{}],6:[function(e,t){t.exports=function(e,t){var a=t.window,s=t.document,n=a.XMLHttpRequest,i=t.noop,r=t.isDOMPresent,o=t.version;e.version=o?o:"@DEV-VERSION@",e.lib={},e.registerLibrary=function(t,a){e.lib[t]=a,a.hasOwnProperty("init")&&a.init(defaultScope)},e.Sketch=function(e){this.attachFunction=e,this.options={pauseOnBlur:!1,globalKeyEvents:!1},this.onExit=this.onFrameEnd=this.onFrameStart=this.onLoop=this.onPause=this.onSetup=this.onLoad=i,this.params={},this.imageCache={pending:0,images:{},operaCache:{},add:function(e,t){if(!this.images[e]&&(r||(this.images[e]=null),t||(t=new Image,t.onload=function(e){return function(){e.pending--}}(this),this.pending++,t.src=e),this.images[e]=t,a.opera)){var n=s.createElement("div");n.appendChild(t),n.style.position="absolute",n.style.opacity=0,n.style.width="1px",n.style.height="1px",this.operaCache[e]||(s.body.appendChild(n),this.operaCache[e]=n)}}},this.sourceCode=void 0,this.attach=function(e){if("function"==typeof this.attachFunction)this.attachFunction(e);else{if(!this.sourceCode)throw"Unable to attach sketch to the processing instance";var t=new Function("return ("+this.sourceCode+");")();t(e),this.attachFunction=t}},this.toString=function(){var e,t;t="((function(Sketch) {\n"+("var sketch = new Sketch(\n"+this.sourceCode+");\n");for(e in this.options)if(this.options.hasOwnProperty(e)){var a=this.options[e];t+="sketch.options."+e+" = "+("string"==typeof a?'"'+a+'"':""+a)+";\n"}for(e in this.imageCache)this.options.hasOwnProperty(e)&&(t+='sketch.imageCache.add("'+e+'");\n');return t+"return sketch;\n})(Processing.Sketch))"}};var c=e.loadSketchFromSources=function(t,i){function r(e,t){var s=new n;s.onreadystatechange=function(){if(4===s.readyState){var e;200!==s.status&&0!==s.status?e="Invalid XHR status "+s.status:""===s.responseText&&(e="withCredentials"in new n&&!1===(new n).withCredentials&&"file:"===a.location.protocol?"XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions.":"File is empty."),t(s.responseText,e)}},s.open("GET",e,!0),s.overrideMimeType&&s.overrideMimeType("application/json"),s.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT"),s.send(null)}function o(a,n){function i(s,i){if(c[a]=s,++u,i&&l.push(n+" ==> "+i),u===d){if(0!==l.length)throw"Processing.js: Unable to load pjs sketch files: "+l.join("\n");try{return new e(t,c.join("\n"))}catch(r){throw console.log("Processing.js: Unable to execute pjs sketch."),r}}}if("#"===n.charAt(0)){var o=s.getElementById(n.substring(1));o?i(o.text||o.textContent):i("","Unable to load pjs sketch: element with id '"+n.substring(1)+"' was not found")}else r(n,i)}for(var c=[],l=[],d=i.length,u=0,h=0;d>h;++h)o(h,i[h])},l=function(){s.removeEventListener("DOMContentLoaded",l,!1),processingInstances=[],e.instances=processingInstances;for(var t,a=s.getElementsByTagName("canvas"),n=0,i=a.length;i>n;n++){var r=a[n].getAttribute("data-processing-sources");if(null===r&&(r=a[n].getAttribute("data-src"),null===r&&(r=a[n].getAttribute("datasrc"))),r){for(t=r.split(/\s+/g),r=0;r<t.length;)t[r]?r++:t.splice(r,1);c(a[n],t)}}for(a=s.getElementsByTagName("script"),i=[],n=a.length-1;n>=0;n--)i.push(a[n]);for(n=0,r=i.length;r>n;n++)if(t=i[n],t.getAttribute&&(a=t.getAttribute("type"))&&("text/processing"===a.toLowerCase()||"application/processing"===a.toLowerCase())){var o=t.getAttribute("data-processing-target"),a=void 0;if(o)a=s.getElementById(o);else{for(o=t.nextSibling;o&&1!==o.nodeType;)o=o.nextSibling;o&&"canvas"===o.nodeName.toLowerCase()&&(a=o)}a&&(t.getAttribute("src")?(t=t.getAttribute("src").split(/\s+/),c(a,t)):(t=t.textContent||t.text,new e(a,t)))}};return s.addEventListener("DOMContentLoaded",l,!1),e.reload=function(){if(0<processingInstances.length)for(var e=processingInstances.length-1;e>=0;e--)processingInstances[e]&&processingInstances[e].exit();l()},e.disableInit=function(){s.removeEventListener("DOMContentLoaded",l,!1)},e}},{}],7:[function(e,t){t.exports=function(e,t){return null===e||null===t?null===e&&null===t:"string"==typeof e||"object"!=typeof e?e===t:e.equals instanceof Function?e.equals(t):e===t}},{}],8:[function(e,t){t.exports=function(e,t){if("string"==typeof e){for(var a=0,s=0;s<e.length;++s)a=4294967295&31*a+e.charCodeAt(s);return a}return"object"!=typeof e?4294967295&e:e.hashCode instanceof Function?e.hashCode():(e.$id===t&&(e.$id=Math.floor(65536*Math.random())-32768<<16|Math.floor(65536*Math.random())),e.$id)}},{}],9:[function(e,t){t.exports=function(e){function t(e){var t=-1;this.hasNext=function(){return t+1<e.length},this.next=function(){return e[++t]},this.remove=function(){e.splice(t--,1)}}function a(e){var n=[];e&&e.toArray&&(n=e.toArray()),this.get=function(e){return n[e]},this.contains=function(e){return-1<this.indexOf(e)},this.indexOf=function(e){for(var t=0,a=n.length;a>t;++t)if(s(e,n[t]))return t;return-1},this.lastIndexOf=function(e){for(var t=n.length-1;t>=0;--t)if(s(e,n[t]))return t;return-1},this.add=function(){if(1===arguments.length)n.push(arguments[0]);else{if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<=n.length))throw e+" is not a valid index";n.splice(e,0,arguments[1])}},this.addAll=function(e,t){var a;if("number"==typeof e){if(0>e||e>n.length)throw"Index out of bounds for addAll: "+e+" greater or equal than "+n.length;for(a=new ObjectIterator(t);a.hasNext();)n.splice(e++,0,a.next())}else for(a=new ObjectIterator(e);a.hasNext();)n.push(a.next())},this.set=function(){if(2!==arguments.length)throw"Please use the proper number of parameters.";var e=arguments[0];if("number"!=typeof e)throw typeof e+" is not a number";if(!(e>=0&&e<n.length))throw e+" is not a valid index.";n.splice(e,1,arguments[1])},this.size=function(){return n.length},this.clear=function(){n.length=0},this.remove=function(e){return"number"==typeof e?n.splice(e,1)[0]:(e=this.indexOf(e),e>-1?(n.splice(e,1),!0):!1)},this.removeAll=function(e){var t,s,n,i=new a;for(i.addAll(this),this.clear(),s=t=0;t<i.size();t++)n=i.get(t),e.contains(n)||this.add(s++,n);return this.size()<i.size()?!0:!1},this.isEmpty=function(){return!n.length},this.clone=function(){return new a(this)},this.toArray=function(){return n.slice(0)},this.iterator=function(){return new t(n)}}var s=e.virtEquals;return a}},{}],10:[function(e,t){t.exports=function(e,t){var a=function(s){return this.code="string"==typeof s&&1===s.length?s.charCodeAt(0):"number"==typeof s?s:s instanceof a?s:0/0,e[this.code]===t?e[this.code]=this:e[this.code]};return a.prototype.toString=function(){return String.fromCharCode(this.code)},a.prototype.valueOf=function(){return this.code},a}({})},{}],11:[function(e,t){t.exports=function(e){function t(){function e(e){return e=a(e)%d.length,0>e?d.length+e:e}function n(){if(!(u<=l*d.length)){for(var t=[],a=0;a<d.length;++a)void 0!==d[a]&&(t=t.concat(d[a]));for(a=2*d.length,d=[],d.length=a,a=0;a<t.length;++a){var s=e(t[a].key),n=d[s];void 0===n&&(d[s]=n=[]),n.push(t[a])}}}function i(e,t){function a(){for(;!r;)if(++i,n>=d.length)r=!0;else{if(!(void 0===d[n]||i>=d[n].length))break;i=-1,++n}}var s,n=0,i=-1,r=!1;this.hasNext=function(){return!r},this.next=function(){return s=e(d[n][i]),a(),s},this.remove=function(){void 0!==s&&(t(s),--i,a())},a()}function r(e,t,a){this.clear=function(){h.clear()},this.contains=function(e){return t(e)},this.containsAll=function(e){for(e=e.iterator();e.hasNext();)if(!this.contains(e.next()))return!1;return!0},this.isEmpty=function(){return h.isEmpty()},this.iterator=function(){return new i(e,a)},this.remove=function(e){return this.contains(e)?(a(e),!0):!1},this.removeAll=function(e){for(e=e.iterator();e.hasNext();){var t=e.next();this.contains(t)&&a(t)}return!0},this.retainAll=function(e){for(var t=this.iterator(),s=[];t.hasNext();){var n=t.next();e.contains(n)||s.push(n)}for(e=0;e<s.length;++e)a(s[e]);return 0<s.length},this.size=function(){return h.size()},this.toArray=function(){for(var e=[],t=this.iterator();t.hasNext();)e.push(t.next());return e}}function o(e){this._isIn=function(t){return t===h&&void 0===e.removed},this.equals=function(t){return s(e.key,t.getKey())},this.getKey=function(){return e.key},this.getValue=function(){return e.value},this.hashCode=function(){return a(e.key)},this.setValue=function(t){var a=e.value;return e.value=t,a}}if(1===arguments.length&&arguments[0]instanceof t)return arguments[0].clone();var c=0<arguments.length?arguments[0]:16,l=1<arguments.length?arguments[1]:.75,d=[];d.length=c;var u=0,h=this;this.clear=function(){u=0,d=[],d.length=c},this.clone=function(){var e=new t;return e.putAll(this),e},this.containsKey=function(t){var a=e(t),a=d[a];if(void 0===a)return!1;for(var n=0;n<a.length;++n)if(s(a[n].key,t))return!0;return!1},this.containsValue=function(e){for(var t=0;t<d.length;++t){var a=d[t];if(void 0!==a)for(var n=0;n<a.length;++n)if(s(a[n].value,e))return!0}return!1},this.entrySet=function(){return new r(function(e){return new o(e)},function(e){return e instanceof o&&e._isIn(h)},function(e){return h.remove(e.getKey())})},this.get=function(t){var a=e(t),a=d[a];if(void 0===a)return null;for(var n=0;n<a.length;++n)if(s(a[n].key,t))return a[n].value;return null},this.isEmpty=function(){return 0===u},this.keySet=function(){return new r(function(e){return e.key},function(e){return h.containsKey(e)},function(e){return h.remove(e)})},this.values=function(){return new r(function(e){return e.value},function(e){return h.containsValue(e)},function(e){return h.removeByValue(e)})},this.put=function(t,a){var i=e(t),r=d[i];if(void 0===r)return++u,d[i]=[{key:t,value:a}],n(),null;for(i=0;i<r.length;++i)if(s(r[i].key,t)){var o=r[i].value;return r[i].value=a,o}return++u,r.push({key:t,value:a}),n(),null},this.putAll=function(e){for(e=e.entrySet().iterator();e.hasNext();){var t=e.next();this.put(t.getKey(),t.getValue())}},this.remove=function(t){var a=e(t),n=d[a];if(void 0===n)return null;for(var i=0;i<n.length;++i)if(s(n[i].key,t))return--u,t=n[i].value,n[i].removed=!0,1<n.length?n.splice(i,1):d[a]=void 0,t;return null},this.removeByValue=function(e){var t,a,s,n;for(t in d)if(d.hasOwnProperty(t))for(a=0,s=d[t].length;s>a;a++)if(n=d[t][a],n.value===e)return d[t].splice(a,1),!0;return!1},this.size=function(){return u}}var a=e.virtHashCode,s=e.virtEquals;return t}},{}],12:[function(e,t){t.exports=function(e,t){function a(e,a){e===t&&(e=""),this.name=e,a===t&&(a=0),this.size=a,this.glyph=!1,this.descent=this.ascent=0,this.leading=1.2*a;var i=e.indexOf(" Italic Bold");if(-1!==i&&(e=e.substring(0,i)),this.style="normal",i=e.indexOf(" Italic"),-1!==i&&(e=e.substring(0,i),this.style="italic"),this.weight="normal",i=e.indexOf(" Bold"),-1!==i&&(e=e.substring(0,i),this.weight="bold"),this.family="sans-serif",e!==t)switch(e){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=e;break;default:this.family='"'+e+'", sans-serif'}var i=this.size/250,r=s.createElement("canvas");r.width=500,r.height=500,r.style.opacity=0;var o=this.getCSSDefinition("250px","normal"),c=r.getContext("2d");c.font=o,r.width=c.measureText("dbflkhyjqpg").width,c.font=o,o=s.createElement("div"),o.style.position="absolute",o.style.opacity=0,o.style.fontFamily='"'+this.name+'"',o.style.fontSize="250px",o.innerHTML="dbflkhyjqpg<br/>dbflkhyjqpg",s.body.appendChild(o);var l=r.width,d=r.height,r=d/2;c.fillStyle="white",c.fillRect(0,0,l,d),c.fillStyle="black",c.fillText("dbflkhyjqpg",0,r);for(var d=c.getImageData(0,0,l,d).data,u=0,h=4*l,p=d.length;++u<p&&255===d[u];)n();for(l=Math.round(u/h),u=p-1;0<--u&&255===d[u];)n();d=Math.round(u/h),this.ascent=i*(r-l),this.descent=i*(d-r),s.defaultView.getComputedStyle&&(r=s.defaultView.getComputedStyle(o,null).getPropertyValue("height"),r=i*r.replace("px",""),r>=2*this.size&&(this.leading=Math.round(r/2))),s.body.removeChild(o),i=this.caching?c:void 0,this.context2d=i,this.css=this.getCSSDefinition(),this.context2d&&(this.context2d.font=this.css)}var s=e.Browser.document,n=e.noop;return a.prototype.caching=!0,a.prototype.getCSSDefinition=function(e,a){return e===t&&(e=this.size+"px"),a===t&&(a=this.leading+"px"),[this.style,"normal",this.weight,e+"/"+a,this.family].join(" ")},a.prototype.measureTextWidth=function(e){return this.context2d.measureText(e).width},a.prototype.measureTextWidthFallback=function(e){var t=s.createElement("canvas").getContext("2d");return t.font=this.css,t.measureText(e).width},a.PFontCache={length:0},a.get=function(e,t){t=(0|10*t+.5)/10;var s=a.PFontCache,n=e+"/"+t;if(!s[n]){if(s[n]=new a(e,t),s.length++,50===s.length){a.prototype.measureTextWidth=a.prototype.measureTextWidthFallback,a.prototype.caching=!1;for(var i in s)"length"!==i&&(s[i].context2d=null);return new a(e,t)}if(400===s.length)return a.PFontCache={},a.get=a.getFallback,new a(e,t)}return s[n]},a.getFallback=function(e,t){return new a(e,t)},a.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]},a.preloading={template:{},initialized:!1,initialize:function(){var e=s.createElement("style");e.setAttribute("type","text/css"),e.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+function(){return"#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#".replace(/[#237]/g,function(e){return"AAAAAAAA".substr(~~e?7-e:6)})}()+"')\n       format('truetype');\n}",s.head.appendChild(e),e=s.createElement("span"),e.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;',e.innerHTML="AAAAAAAA",s.body.appendChild(e),this.template=e,this.initialized=!0},getElementWidth:function(e){return s.defaultView.getComputedStyle(e,"").getPropertyValue("width")},timeAttempted:0,pending:function(e){this.initialized||this.initialize();for(var t,a,n=this.getElementWidth(this.template),i=0;i<this.fontList.length;i++){if(t=this.fontList[i],a=this.getElementWidth(t),4e3>this.timeAttempted&&a===n)return this.timeAttempted+=e,!0;s.body.removeChild(t),this.fontList.splice(i--,1),this.timeAttempted=0}return 0===this.fontList.length?!1:!0},fontList:[],addedList:{},add:function(e){this.initialized||this.initialize();var t="object"==typeof e?e.fontFace:e;if(e="object"==typeof e?e.url:e,!this.addedList[t]){var a=s.createElement("style");a.setAttribute("type","text/css"),a.innerHTML="@font-face{\n  font-family: '"+t+"';\n  src:  url('"+e+"');\n}\n",s.head.appendChild(a),this.addedList[t]=!0,e=s.createElement("span"),e.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;",e.style.fontFamily='"'+t+'", "PjsEmptyFont", fantasy',e.innerHTML="AAAAAAAA",s.body.appendChild(e),this.fontList.push(e)}}},a}},{}],13:[function(e,t){t.exports=function(e){var t=e.p,a=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof a?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};return a.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof a?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new a;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var a,s;return e instanceof PVector?(a=e.x,s=e.y,t||(t=new PVector)):e instanceof Array&&(a=e[0],s=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2],t[1]=this.elements[3]*a+this.elements[4]*s+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*a+this.elements[1]*s+this.elements[2],t.y=this.elements[3]*a+this.elements[4]*s+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>PConstants.MIN_INT){var t=this.elements[0],a=this.elements[1],s=this.elements[2],n=this.elements[3],i=this.elements[4],r=this.elements[5];return this.elements[0]=i/e,this.elements[3]=-n/e,this.elements[1]=-a/e,this.elements[4]=t/e,this.elements[2]=(a*r-i*s)/e,this.elements[5]=(n*s-t*r)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof a?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],s=0,n=0;2>n;n++)for(var i=0;3>i;i++,s++)t[s]+=this.elements[3*n+0]*e[i+0]+this.elements[3*n+1]*e[i+3];this.elements=t.slice()},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof a?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var a=this.elements[0],s=this.elements[1];this.elements[0]=t*a+e*s,this.elements[1]=-e*a+t*s,a=this.elements[3],s=this.elements[4],this.elements[3]=t*a+e*s,this.elements[4]=-e*a+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=printMatrixHelper(this.elements),e=""+t.nfs(this.elements[0],e,4)+" "+t.nfs(this.elements[1],e,4)+" "+t.nfs(this.elements[2],e,4)+"\n"+t.nfs(this.elements[3],e,4)+" "+t.nfs(this.elements[4],e,4)+" "+t.nfs(this.elements[5],e,4)+"\n\n";t.println(e)}},a}},{}],14:[function(e,t){t.exports=function(e,t){var a=e.p,s=function(){this.reset()};return s.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof s?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new s;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,a,s){s===t&&(s=0),this.elements[3]+=e*this.elements[0]+a*this.elements[1]+s*this.elements[2],this.elements[7]+=e*this.elements[4]+a*this.elements[5]+s*this.elements[6],this.elements[11]+=e*this.elements[8]+a*this.elements[9]+s*this.elements[10],this.elements[15]+=e*this.elements[12]+a*this.elements[13]+s*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var a,s,n,i;return e instanceof PVector?(a=e.x,s=e.y,n=e.z,i=1,t||(t=new PVector)):e instanceof Array&&(a=e[0],s=e[1],n=e[2],i=e[3]||1,!t||3!==t.length&&4!==t.length)&&(t=[0,0,0]),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3],t[1]=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7],t[2]=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3]*i,t[1]=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7]*i,t[2]=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]*i,t[3]=this.elements[12]*a+this.elements[13]*s+this.elements[14]*n+this.elements[15]*i)),t instanceof PVector&&(t.x=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3],t.y=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7],t.z=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof s?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,n=0;4>n;n++)for(var i=0;4>i;i++,a++)t[a]+=this.elements[i+0]*e[4*n+0]+this.elements[i+4]*e[4*n+1]+this.elements[i+8]*e[4*n+2]+this.elements[i+12]*e[4*n+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof s?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,n=0;4>n;n++)for(var i=0;4>i;i++,a++)t[a]+=this.elements[4*n+0]*e[i+0]+this.elements[4*n+1]*e[i+4]+this.elements[4*n+2]*e[i+8]+this.elements[4*n+3]*e[i+12];this.elements=t.slice()},rotate:function(e,t,a,s){if(a){var n=Math.cos(e);e=Math.sin(e);var i=1-n;this.apply(i*t*t+n,i*t*a-e*s,i*t*s+e*a,0,i*t*a+e*s,i*a*a+n,i*a*s-e*t,0,i*t*s-e*a,i*a*s+e*t,i*s*s+n,0,0,0,0,1)}else this.rotateZ(e)},invApply:function(){inverseCopy===t&&(inverseCopy=new s);var e=arguments;return inverseCopy.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),inverseCopy.invert()?(this.preApply(inverseCopy),!0):!1},rotateX:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},rotateY:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,a){!e||t||a?e&&t&&!a&&(a=1):t=a=e,e&&t&&a&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=a,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=a,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=a,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=a)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,a,s){return a?s?this.elements[0]*e+this.elements[1]*t+this.elements[2]*a+this.elements[3]*s:this.elements[0]*e+this.elements[1]*t+this.elements[2]*a+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,a,s){return a?s?this.elements[4]*e+this.elements[5]*t+this.elements[6]*a+this.elements[7]*s:this.elements[4]*e+this.elements[5]*t+this.elements[6]*a+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,a,s){return s?this.elements[8]*e+this.elements[9]*t+this.elements[10]*a+this.elements[11]*s:this.elements[8]*e+this.elements[9]*t+this.elements[10]*a+this.elements[11]},multW:function(e,t,a,s){return s?this.elements[12]*e+this.elements[13]*t+this.elements[14]*a+this.elements[15]*s:this.elements[12]*e+this.elements[13]*t+this.elements[14]*a+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],a=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],s=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],n=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],i=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],r=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],o=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],c=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],l=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],d=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],u=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],h=e*u-t*d+a*l+s*c-n*o+i*r;if(1e-9>=Math.abs(h))return!1;var p=[];return p[0]=+this.elements[5]*u-this.elements[6]*d+this.elements[7]*l,p[4]=-this.elements[4]*u+this.elements[6]*c-this.elements[7]*o,p[8]=+this.elements[4]*d-this.elements[5]*c+this.elements[7]*r,p[12]=-this.elements[4]*l+this.elements[5]*o-this.elements[6]*r,p[1]=-this.elements[1]*u+this.elements[2]*d-this.elements[3]*l,p[5]=+this.elements[0]*u-this.elements[2]*c+this.elements[3]*o,p[9]=-this.elements[0]*d+this.elements[1]*c-this.elements[3]*r,p[13]=+this.elements[0]*l-this.elements[1]*o+this.elements[2]*r,p[2]=+this.elements[13]*i-this.elements[14]*n+this.elements[15]*s,p[6]=-this.elements[12]*i+this.elements[14]*a-this.elements[15]*t,p[10]=+this.elements[12]*n-this.elements[13]*a+this.elements[15]*e,p[14]=-this.elements[12]*s+this.elements[13]*t-this.elements[14]*e,p[3]=-this.elements[9]*i+this.elements[10]*n-this.elements[11]*s,p[7]=+this.elements[8]*i-this.elements[10]*a+this.elements[11]*t,p[11]=-this.elements[8]*n+this.elements[9]*a-this.elements[11]*e,p[15]=+this.elements[8]*s-this.elements[9]*t+this.elements[10]*e,e=1/h,p[0]*=e,p[1]*=e,p[2]*=e,p[3]*=e,p[4]*=e,p[5]*=e,p[6]*=e,p[7]*=e,p[8]*=e,p[9]*=e,p[10]*=e,p[11]*=e,p[12]*=e,p[13]*=e,p[14]*=e,p[15]*=e,this.elements=p.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=printMatrixHelper(this.elements),e=""+a.nfs(this.elements[0],e,4)+" "+a.nfs(this.elements[1],e,4)+" "+a.nfs(this.elements[2],e,4)+" "+a.nfs(this.elements[3],e,4)+"\n"+a.nfs(this.elements[4],e,4)+" "+a.nfs(this.elements[5],e,4)+" "+a.nfs(this.elements[6],e,4)+" "+a.nfs(this.elements[7],e,4)+"\n"+a.nfs(this.elements[8],e,4)+" "+a.nfs(this.elements[9],e,4)+" "+a.nfs(this.elements[10],e,4)+" "+a.nfs(this.elements[11],e,4)+"\n"+a.nfs(this.elements[12],e,4)+" "+a.nfs(this.elements[13],e,4)+" "+a.nfs(this.elements[14],e,4)+" "+a.nfs(this.elements[15],e,4)+"\n\n";a.println(e)},invTranslate:function(e,t,a){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-a,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,a){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/a,0,0,0,0,1])}},s}},{}],15:[function(e,t){t.exports=function(e){var t=e.PConstants,a=e.PMatrix2D,s=e.PMatrix3D;return e=function(e){this.family=e||t.GROUP,this.style=this.visible=!0,this.children=[],this.nameTable=[],this.params=[],this.name="",this.parent=this.height=this.width=this.close=this.kind=this.matrix=this.image=null},e.prototype={isVisible:function(){return this.visible},setVisible:function(e){this.visible=e},disableStyle:function(){this.style=!1;for(var e=0,t=this.children.length;t>e;e++)this.children[e].disableStyle()},enableStyle:function(){this.style=!0;for(var e=0,t=this.children.length;t>e;e++)this.children[e].enableStyle()},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(e){this.name=e},getName:function(){return this.name},draw:function(e){if(!e)throw"render context missing for draw() in PShape";this.visible&&(this.pre(e),this.drawImpl(e),this.post(e))},drawImpl:function(e){this.family===t.GROUP?this.drawGroup(e):this.family===t.PRIMITIVE?this.drawPrimitive(e):this.family===t.GEOMETRY?this.drawGeometry(e):this.family===t.PATH&&this.drawPath(e)},drawPath:function(e){var a,s;if(0!==this.vertices.length){if(e.beginShape(),0===this.vertexCodes.length)if(2===this.vertices[0].length)for(a=0,s=this.vertices.length;s>a;a++)e.vertex(this.vertices[a][0],this.vertices[a][1]);else for(a=0,s=this.vertices.length;s>a;a++)e.vertex(this.vertices[a][0],this.vertices[a][1],this.vertices[a][2]);else{var n=0;if(2===this.vertices[0].length)for(a=0,s=this.vertexCodes.length;s>a;a++)this.vertexCodes[a]===t.VERTEX?(e.vertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n].moveTo),e.breakShape=!1,n++):this.vertexCodes[a]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[n+0][0],this.vertices[n+0][1],this.vertices[n+1][0],this.vertices[n+1][1],this.vertices[n+2][0],this.vertices[n+2][1]),n+=3):this.vertexCodes[a]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[n][0],this.vertices[n][1]),n++):this.vertexCodes[a]===t.BREAK&&(e.breakShape=!0);
else for(a=0,s=this.vertexCodes.length;s>a;a++)this.vertexCodes[a]===t.VERTEX?(e.vertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n][2]),!0===this.vertices[n].moveTo?vertArray[vertArray.length-1].moveTo=!0:!1===this.vertices[n].moveTo&&(vertArray[vertArray.length-1].moveTo=!1),e.breakShape=!1):this.vertexCodes[a]===t.BEZIER_VERTEX?(e.bezierVertex(this.vertices[n+0][0],this.vertices[n+0][1],this.vertices[n+0][2],this.vertices[n+1][0],this.vertices[n+1][1],this.vertices[n+1][2],this.vertices[n+2][0],this.vertices[n+2][1],this.vertices[n+2][2]),n+=3):this.vertexCodes[a]===t.CURVE_VERTEX?(e.curveVertex(this.vertices[n][0],this.vertices[n][1],this.vertices[n][2]),n++):this.vertexCodes[a]===t.BREAK&&(e.breakShape=!0)}e.endShape(this.close?t.CLOSE:t.OPEN)}},drawGeometry:function(e){var t,a;if(e.beginShape(this.kind),this.style)for(t=0,a=this.vertices.length;a>t;t++)e.vertex(this.vertices[t]);else for(t=0,a=this.vertices.length;a>t;t++){var s=this.vertices[t];0===s[2]?e.vertex(s[0],s[1]):e.vertex(s[0],s[1],s[2])}e.endShape()},drawGroup:function(e){for(var t=0,a=this.children.length;a>t;t++)this.children[t].draw(e)},drawPrimitive:function(e){if(this.kind===t.POINT)e.point(this.params[0],this.params[1]);else if(this.kind===t.LINE)4===this.params.length?e.line(this.params[0],this.params[1],this.params[2],this.params[3]):e.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.TRIANGLE)e.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]);else if(this.kind===t.QUAD)e.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7]);else if(this.kind===t.RECT)if(null!==this.image){var a=imageModeConvert;e.imageMode(t.CORNER),e.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3]),imageModeConvert=a}else a=e.curRectMode,e.rectMode(t.CORNER),e.rect(this.params[0],this.params[1],this.params[2],this.params[3]),e.curRectMode=a;else this.kind===t.ELLIPSE?(a=e.curEllipseMode,e.ellipseMode(t.CORNER),e.ellipse(this.params[0],this.params[1],this.params[2],this.params[3]),e.curEllipseMode=a):this.kind===t.ARC?(a=curEllipseMode,e.ellipseMode(t.CORNER),e.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5]),curEllipseMode=a):this.kind===t.BOX?1===this.params.length?e.box(this.params[0]):e.box(this.params[0],this.params[1],this.params[2]):this.kind===t.SPHERE&&e.sphere(this.params[0])},pre:function(e){this.matrix&&(e.pushMatrix(),e.transform(this.matrix)),this.style&&(e.pushStyle(),this.styles(e))},post:function(e){this.matrix&&e.popMatrix(),this.style&&e.popStyle()},styles:function(e){this.stroke?(e.stroke(this.strokeColor),e.strokeWeight(this.strokeWeight),e.strokeCap(this.strokeCap),e.strokeJoin(this.strokeJoin)):e.noStroke(),this.fill?e.fill(this.fillColor):e.noFill()},getChild:function(e){var t,a;if("number"==typeof e)return this.children[e];var s;if(""===e||this.name===e)return this;if(0<this.nameTable.length){for(t=0,a=this.nameTable.length;a>t||s;t++)if(this.nameTable[t].getName===e){s=this.nameTable[t];break}if(s)return s}for(t=0,a=this.children.length;a>t;t++)if(s=this.children[t].getChild(e))return s;return null},getChildCount:function(){return this.children.length},addChild:function(e){this.children.push(e),e.parent=this,null!==e.getName()&&this.addName(e.getName(),e)},addName:function(e,t){null!==this.parent?this.parent.addName(e,t):this.nameTable.push([e,t])},translate:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.translate(arguments[0],arguments[1])):(this.checkMatrix(3),this.matrix.translate(arguments[0],arguments[1],0))},checkMatrix:function(e){null===this.matrix?this.matrix=2===e?new a:new s:3===e&&this.matrix instanceof a&&(this.matrix=new s)},rotateX:function(e){this.rotate(e,1,0,0)},rotateY:function(e){this.rotate(e,0,1,0)},rotateZ:function(e){this.rotate(e,0,0,1)},rotate:function(){1===arguments.length?(this.checkMatrix(2),this.matrix.rotate(arguments[0])):(this.checkMatrix(3),this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3]))},scale:function(){2===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1])):3===arguments.length?(this.checkMatrix(2),this.matrix.scale(arguments[0],arguments[1],arguments[2])):(this.checkMatrix(2),this.matrix.scale(arguments[0]))},resetMatrix:function(){this.checkMatrix(2),this.matrix.reset()},applyMatrix:function(e){1===arguments.length?this.applyMatrix(e.elements[0],e.elements[1],0,e.elements[2],e.elements[3],e.elements[4],0,e.elements[5],0,0,1,0,0,0,0,1):6===arguments.length?(this.checkMatrix(2),this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)):16===arguments.length&&(this.checkMatrix(3),this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]))}},e}},{}],16:[function(e,t){t.exports=function(e){var t=e.CommonFunctions,a=e.PConstants,s=e.PShape,n=e.XMLElement,i=e.colors,r=function(){if(s.call(this),1===arguments.length){if(this.element=arguments[0],this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=a.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=a.SQUARE,this.strokeJoin=a.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient=null,this.strokeOpacity=1,this.fill=!0,this.fillColor=a.ALPHA_MASK,this.fillName=this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1,"svg"!==this.element.getName())throw"root is not <svg>, it's <"+this.element.getName()+">"}else 2===arguments.length&&("string"==typeof arguments[1]?-1<arguments[1].indexOf(".svg")&&(this.element=new n(!0,arguments[1]),this.vertexCodes=[],this.vertices=[],this.opacity=1,this.stroke=!1,this.strokeColor=a.ALPHA_MASK,this.strokeWeight=1,this.strokeCap=a.SQUARE,this.strokeJoin=a.MITER,this.strokeName=this.strokeGradientPaint=this.strokeGradient="",this.strokeOpacity=1,this.fill=!0,this.fillColor=a.ALPHA_MASK,this.fillGradientPaint=this.fillGradient=null,this.fillOpacity=1):arguments[0]&&(this.element=arguments[1],this.vertexCodes=arguments[0].vertexCodes.slice(),this.vertices=arguments[0].vertices.slice(),this.stroke=arguments[0].stroke,this.strokeColor=arguments[0].strokeColor,this.strokeWeight=arguments[0].strokeWeight,this.strokeCap=arguments[0].strokeCap,this.strokeJoin=arguments[0].strokeJoin,this.strokeGradient=arguments[0].strokeGradient,this.strokeGradientPaint=arguments[0].strokeGradientPaint,this.strokeName=arguments[0].strokeName,this.fill=arguments[0].fill,this.fillColor=arguments[0].fillColor,this.fillGradient=arguments[0].fillGradient,this.fillGradientPaint=arguments[0].fillGradientPaint,this.fillName=arguments[0].fillName,this.strokeOpacity=arguments[0].strokeOpacity,this.fillOpacity=arguments[0].fillOpacity,this.opacity=arguments[0].opacity));this.name=this.element.getStringAttribute("id"),this.visible="none"!==this.element.getStringAttribute("display","inline");var e=this.element.getAttribute("transform");e&&(this.matrix=this.parseMatrix(e)),e=this.element.getStringAttribute("viewBox"),null!==e&&(e=e.split(" "),this.width=e[2],this.height=e[3]);var e=this.element.getStringAttribute("width"),t=this.element.getStringAttribute("height");if(null!==e)this.width=this.parseUnitSize(e),this.height=this.parseUnitSize(t);else if(0===this.width||0===this.height)throw this.height=this.width=1,"The width and/or height is not readable in the <svg> tag of this file.";this.parseColors(this.element),this.parseChildren(this.element)};return r.prototype=new s,r.prototype.parseMatrix=function(){function e(e){var t=[];return e.replace(/\((.*?)\)/,function(){return function(e,a){t=a.replace(/,+/g," ").split(/\s+/)}}()),t}return function(a){this.checkMatrix(2);var s=[];if(a.replace(/\s*(\w+)\((.*?)\)/g,function(e){s.push(t.trim(e))}),0===s.length)return null;a=0;for(var n=s.length;n>a;a++){var i=e(s[a]);if(-1!==s[a].indexOf("matrix"))this.matrix.set(i[0],i[2],i[4],i[1],i[3],i[5]);else if(-1!==s[a].indexOf("translate"))this.matrix.translate(i[0],2===i.length?i[1]:0);else if(-1!==s[a].indexOf("scale"))this.matrix.scale(i[0],2===i.length?i[1]:i[0]);else if(-1!==s[a].indexOf("rotate")){var r=i[0];1===i.length?this.matrix.rotate(t.radians(r)):3===i.length&&(this.matrix.translate(i[1],i[2]),this.matrix.rotate(t.radians(i[0])),this.matrix.translate(-i[1],-i[2]))}else-1!==s[a].indexOf("skewX")?this.matrix.skewX(parseFloat(i[0])):-1!==s[a].indexOf("skewY")?this.matrix.skewY(i[0]):-1!==s[a].indexOf("shearX")?this.matrix.shearX(i[0]):-1!==s[a].indexOf("shearY")&&this.matrix.shearY(i[0])}return this.matrix}}(),r.prototype.parseChildren=function(e){e=e.getChildren();var t,a,n=new s;for(t=0,a=e.length;a>t;t++){var i=this.parseChild(e[t]);i&&n.addChild(i)}for(t=0,a=n.children.length;a>t;t++)this.children.push(n.children[t])},r.prototype.getName=function(){return this.name},r.prototype.parseChild=function(e){var t,a=e.getName();return"g"===a?t=new r(this,e):"defs"===a?t=new r(this,e):"line"===a?(t=new r(this,e),t.parseLine()):"circle"===a?(t=new r(this,e),t.parseEllipse(!0)):"ellipse"===a?(t=new r(this,e),t.parseEllipse(!1)):"rect"===a?(t=new r(this,e),t.parseRect()):"polygon"===a?(t=new r(this,e),t.parsePoly(!0)):"polyline"===a?(t=new r(this,e),t.parsePoly(!1)):"path"===a?(t=new r(this,e),t.parsePath()):"radialGradient"===a?unimplemented("PShapeSVG.prototype.parseChild, name = radialGradient"):"linearGradient"===a?unimplemented("PShapeSVG.prototype.parseChild, name = linearGradient"):"text"===a?unimplemented("PShapeSVG.prototype.parseChild, name = text"):"filter"===a?unimplemented("PShapeSVG.prototype.parseChild, name = filter"):"mask"===a&&unimplemented("PShapeSVG.prototype.parseChild, name = mask"),t},r.prototype.parsePath=function(){this.family=a.PATH,this.kind=0;var e=t.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(null!==e)for(var s,n,i,e=e.split(""),r=0,o=0,c=0,l=0,d=l=c=0,u=0,h=0,p=0,f=p=l=h=c=0,m=0,v="",g=[],$=!1;f<e.length;)if(m=e[f].charCodeAt(0),m>=65&&90>=m||m>=97&&122>=m){if(i=f,f++,f<e.length)for(g=[],m=e[f].charCodeAt(0);!(m>=65&&90>=m||m>=97&&100>=m||m>=102&&122>=m)&&!1===$;)32===m?""!==v&&(g.push(parseFloat(v)),v=""):45===m?101===e[f-1].charCodeAt(0)?v+=e[f].toString():(""!==v&&g.push(parseFloat(v)),v=e[f].toString()):v+=e[f].toString(),f++,f===e.length?$=!0:m=e[f].charCodeAt(0);if(""!==v&&(g.push(parseFloat(v)),v=""),n=e[i],m=n.charCodeAt(0),77===m){if(2<=g.length&&0===g.length%2&&(r=g[0],o=g[1],this.parsePathMoveto(r,o),2<g.length))for(i=2,m=g.length;m>i;i+=2)r=g[i],o=g[i+1],this.parsePathLineto(r,o)}else if(109===m){if(2<=g.length&&0===g.length%2&&(r+=g[0],o+=g[1],this.parsePathMoveto(r,o),2<g.length))for(i=2,m=g.length;m>i;i+=2)r+=g[i],o+=g[i+1],this.parsePathLineto(r,o)}else if(76===m){if(2<=g.length&&0===g.length%2)for(i=0,m=g.length;m>i;i+=2)r=g[i],o=g[i+1],this.parsePathLineto(r,o)}else if(108===m){if(2<=g.length&&0===g.length%2)for(i=0,m=g.length;m>i;i+=2)r+=g[i],o+=g[i+1],this.parsePathLineto(r,o)}else if(72===m)for(i=0,m=g.length;m>i;i++)r=g[i],this.parsePathLineto(r,o);else if(104===m)for(i=0,m=g.length;m>i;i++)r+=g[i],this.parsePathLineto(r,o);else if(86===m)for(i=0,m=g.length;m>i;i++)o=g[i],this.parsePathLineto(r,o);else if(118===m)for(i=0,m=g.length;m>i;i++)o+=g[i],this.parsePathLineto(r,o);else if(67===m){if(6<=g.length&&0===g.length%6)for(i=0,m=g.length;m>i;i+=6)c=g[i],d=g[i+1],l=g[i+2],u=g[i+3],h=g[i+4],p=g[i+5],this.parsePathCurveto(c,d,l,u,h,p),r=h,o=p}else if(99===m){if(6<=g.length&&0===g.length%6)for(i=0,m=g.length;m>i;i+=6)c=r+g[i],d=o+g[i+1],l=r+g[i+2],u=o+g[i+3],h=r+g[i+4],p=o+g[i+5],this.parsePathCurveto(c,d,l,u,h,p),r=h,o=p}else if(83===m){if(4<=g.length&&0===g.length%4)for(i=0,m=g.length;m>i;i+=4)"c"===s.toLowerCase()||"s"===s.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],l=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],c=l+(l-c),d=p+(p-h)):(c=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),l=g[i],u=g[i+1],h=g[i+2],p=g[i+3],this.parsePathCurveto(c,d,l,u,h,p),r=h,o=p}else if(115===m){if(4<=g.length&&0===g.length%4)for(i=0,m=g.length;m>i;i+=4)"c"===s.toLowerCase()||"s"===s.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],l=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],c=l+(l-c),d=p+(p-h)):(c=this.vertices[this.vertices.length-1][0],d=this.vertices[this.vertices.length-1][1]),l=r+g[i],u=o+g[i+1],h=r+g[i+2],p=o+g[i+3],this.parsePathCurveto(c,d,l,u,h,p),r=h,o=p}else if(81===m){if(4<=g.length&&0===g.length%4)for(i=0,m=g.length;m>i;i+=4)c=g[i],l=g[i+1],h=g[i+2],p=g[i+3],this.parsePathQuadto(r,o,c,l,h,p),r=h,o=p}else if(113===m){if(4<=g.length&&0===g.length%4)for(i=0,m=g.length;m>i;i+=4)c=r+g[i],l=o+g[i+1],h=r+g[i+2],p=o+g[i+3],this.parsePathQuadto(r,o,c,l,h,p),r=h,o=p}else if(84===m){if(2<=g.length&&0===g.length%2)for(i=0,m=g.length;m>i;i+=2)"q"===s.toLowerCase()||"t"===s.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],l=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],c=l+(l-c),l=p+(p-h)):(c=r,l=o),h=g[i],p=g[i+1],this.parsePathQuadto(r,o,c,l,h,p),r=h,o=p}else if(116===m){if(2<=g.length&&0===g.length%2)for(i=0,m=g.length;m>i;i+=2)"q"===s.toLowerCase()||"t"===s.toLowerCase()?(c=this.vertices[this.vertices.length-2][0],h=this.vertices[this.vertices.length-2][1],l=this.vertices[this.vertices.length-1][0],p=this.vertices[this.vertices.length-1][1],c=l+(l-c),l=p+(p-h)):(c=r,l=o),h=r+g[i],p=o+g[i+1],this.parsePathQuadto(r,o,c,l,h,p),r=h,o=p}else(90===m||122===m)&&(this.close=!0);s=n.toString()}else f++},r.prototype.parsePathQuadto=function(e,t,s,n,i,r){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(a.BEZIER_VERTEX),this.parsePathVertex(e+2*(s-e)/3,t+2*(n-t)/3),this.parsePathVertex(i+2*(s-i)/3,r+2*(n-r)/3),this.parsePathVertex(i,r)},r.prototype.parsePathCurveto=function(e,t,s,n,i,r){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(a.BEZIER_VERTEX),this.parsePathVertex(e,t),this.parsePathVertex(s,n),this.parsePathVertex(i,r)},r.prototype.parsePathLineto=function(e,t){if(!(0<this.vertices.length))throw"Path must start with M/m";this.parsePathCode(a.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!1},r.prototype.parsePathMoveto=function(e,t){0<this.vertices.length&&this.parsePathCode(a.BREAK),this.parsePathCode(a.VERTEX),this.parsePathVertex(e,t),this.vertices[this.vertices.length-1].moveTo=!0},r.prototype.parsePathVertex=function(e,t){var a=[];a[0]=e,a[1]=t,this.vertices.push(a)},r.prototype.parsePathCode=function(e){this.vertexCodes.push(e)},r.prototype.parsePoly=function(e){if(this.family=a.PATH,this.close=e,e=t.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," ")),null!==e){if(e=e.split(" "),0!==e.length%2)throw"Error parsing polygon points: odd number of coordinates provided";for(var s=0,n=e.length;n>s;s++){var i=[];i[0]=e[s],i[1]=e[++s],this.vertices.push(i)}}},r.prototype.parseRect=function(){if(this.kind=a.RECT,this.family=a.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x"),this.params[1]=this.element.getFloatAttribute("y"),this.params[2]=this.element.getFloatAttribute("width"),this.params[3]=this.element.getFloatAttribute("height"),0>this.params[2]||0>this.params[3])throw"svg error: negative width or height found while parsing <rect>"},r.prototype.parseEllipse=function(e){this.kind=a.ELLIPSE,this.family=a.PRIMITIVE,this.params=[],this.params[0]=0|this.element.getFloatAttribute("cx"),this.params[1]=0|this.element.getFloatAttribute("cy");var t;if(e){if(e=t=this.element.getFloatAttribute("r"),0>e)throw"svg error: negative radius found while parsing <circle>"}else if(e=this.element.getFloatAttribute("rx"),t=this.element.getFloatAttribute("ry"),0>e||0>t)throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>";this.params[0]-=e,this.params[1]-=t,this.params[2]=2*e,this.params[3]=2*t},r.prototype.parseLine=function(){this.kind=a.LINE,this.family=a.PRIMITIVE,this.params=[],this.params[0]=this.element.getFloatAttribute("x1"),this.params[1]=this.element.getFloatAttribute("y1"),this.params[2]=this.element.getFloatAttribute("x2"),this.params[3]=this.element.getFloatAttribute("y2")},r.prototype.parseColors=function(e){if(e.hasAttribute("opacity")&&this.setOpacity(e.getAttribute("opacity")),e.hasAttribute("stroke")&&this.setStroke(e.getAttribute("stroke")),e.hasAttribute("stroke-width")&&this.setStrokeWeight(e.getAttribute("stroke-width")),e.hasAttribute("stroke-linejoin")&&this.setStrokeJoin(e.getAttribute("stroke-linejoin")),e.hasAttribute("stroke-linecap")&&this.setStrokeCap(e.getStringAttribute("stroke-linecap")),e.hasAttribute("fill")&&this.setFill(e.getStringAttribute("fill")),e.hasAttribute("style")){e=e.getStringAttribute("style").toString().split(";");for(var a=0,s=e.length;s>a;a++){var n=t.trim(e[a].split(":"));"fill"===n[0]?this.setFill(n[1]):"fill-opacity"===n[0]?this.setFillOpacity(n[1]):"stroke"===n[0]?this.setStroke(n[1]):"stroke-width"===n[0]?this.setStrokeWeight(n[1]):"stroke-linecap"===n[0]?this.setStrokeCap(n[1]):"stroke-linejoin"===n[0]?this.setStrokeJoin(n[1]):"stroke-opacity"===n[0]?this.setStrokeOpacity(n[1]):"opacity"===n[0]&&this.setOpacity(n[1])}}},r.prototype.setFillOpacity=function(e){this.fillOpacity=parseFloat(e),this.fillColor=255*this.fillOpacity<<24|16777215&this.fillColor},r.prototype.setFill=function(e){var t=4278190080&this.fillColor;"none"===e?this.fill=!1:0===e.indexOf("#")?(this.fill=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.fillColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.fill=!0,this.fillColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.fillName=e.substring(5,e.length-1):i[e]&&(this.fill=!0,this.fillColor=t|16777215&parseInt(i[e].substring(1),16))},r.prototype.setOpacity=function(e){this.strokeColor=255*parseFloat(e)<<24|16777215&this.strokeColor,this.fillColor=255*parseFloat(e)<<24|16777215&this.fillColor},r.prototype.setStroke=function(e){var t=4278190080&this.strokeColor;"none"===e?this.stroke=!1:"#"===e.charAt(0)?(this.stroke=!0,4===e.length&&(e=e.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")),this.strokeColor=t|16777215&parseInt(e.substring(1),16)):0===e.indexOf("rgb")?(this.stroke=!0,this.strokeColor=t|this.parseRGB(e)):0===e.indexOf("url(#")?this.strokeName=e.substring(5,e.length-1):i[e]&&(this.stroke=!0,this.strokeColor=t|16777215&parseInt(i[e].substring(1),16))},r.prototype.setStrokeWeight=function(e){this.strokeWeight=this.parseUnitSize(e)},r.prototype.setStrokeJoin=function(e){"miter"===e?this.strokeJoin=a.MITER:"round"===e?this.strokeJoin=a.ROUND:"bevel"===e&&(this.strokeJoin=a.BEVEL)},r.prototype.setStrokeCap=function(e){"butt"===e?this.strokeCap=a.SQUARE:"round"===e?this.strokeCap=a.ROUND:"square"===e&&(this.strokeCap=a.PROJECT)},r.prototype.setStrokeOpacity=function(e){this.strokeOpacity=parseFloat(e),this.strokeColor=255*this.strokeOpacity<<24|16777215&this.strokeColor},r.prototype.parseRGB=function(e){return e=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(", "),e[0]<<16|e[1]<<8|e[2]},r.prototype.parseUnitSize=function(e){var t=e.length-2;return 0>t?e:e.indexOf("pt")===t?1.25*parseFloat(e.substring(0,t)):e.indexOf("pc")===t?15*parseFloat(e.substring(0,t)):e.indexOf("mm")===t?3.543307*parseFloat(e.substring(0,t)):e.indexOf("cm")===t?35.43307*parseFloat(e.substring(0,t)):e.indexOf("in")===t?90*parseFloat(e.substring(0,t)):e.indexOf("px")===t?parseFloat(e.substring(0,t)):parseFloat(e)},r}},{}],17:[function(e,t){t.exports=function(e,t){function a(e,t,a){this.x=e||0,this.y=t||0,this.z=a||0}function s(e){return function(t,a){var s=t.get();return s[e](a),s}}var n=e.PConstants;a.fromAngle=function(e,s){return(s===t||null===s)&&(s=new a),s.x=Math.cos(e),s.y=Math.sin(e),s},a.random2D=function(e){return a.fromAngle(Math.random()*n.TWO_PI,e)},a.random3D=function(e){var s=Math.random()*n.TWO_PI,i=2*Math.random()-1,r=Math.sqrt(1-i*i),o=r*Math.cos(s),s=r*Math.sin(s);return e===t||null===e?e=new a(o,s,i):e.set(o,s,i),e},a.dist=function(e,t){return e.dist(t)},a.dot=function(e,t){return e.dot(t)},a.cross=function(e,t){return e.cross(t)},a.sub=function(e,t){return new a(e.x-t.x,e.y-t.y,e.z-t.z)},a.angleBetween=function(e,t){return Math.acos(e.dot(t)/(e.mag()*t.mag()))},a.lerp=function(e,t,s){return e=new a(e.x,e.y,e.z),e.lerp(t,s),e},a.prototype={set:function(e,t,a){1===arguments.length?this.set(e.x||e[0]||0,e.y||e[1]||0,e.z||e[2]||0):(this.x=e,this.y=t,this.z=a)},get:function(){return new a(this.x,this.y,this.z)},mag:function(){var e=this.x,t=this.y,a=this.z;return Math.sqrt(e*e+t*t+a*a)},magSq:function(){var e=this.x,t=this.y,a=this.z;return e*e+t*t+a*a},setMag:function(e,a){return a!==t?(e.normalize(),e.mult(a),e):(a=e,this.normalize(),this.mult(a),void 0)},add:function(e,t,a){1===arguments.length?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=t,this.z+=a)},sub:function(e,t,a){1===arguments.length?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=t,this.z-=a)},mult:function(e){"number"==typeof e?(this.x*=e,this.y*=e,this.z*=e):(this.x*=e.x,this.y*=e.y,this.z*=e.z)},div:function(e){"number"==typeof e?(this.x/=e,this.y/=e,this.z/=e):(this.x/=e.x,this.y/=e.y,this.z/=e.z)},rotate:function(e){var t=this.x,a=Math.cos(e);e=Math.sin(e),this.x=a*this.x-e*this.y,this.y=e*t+a*this.y},dist:function(e){var t=this.x-e.x,a=this.y-e.y;return e=this.z-e.z,Math.sqrt(t*t+a*a+e*e)},dot:function(e,t,a){return 1===arguments.length?this.x*e.x+this.y*e.y+this.z*e.z:this.x*e+this.y*t+this.z*a},cross:function(e){var t=this.x,s=this.y,n=this.z;return new a(s*e.z-e.y*n,n*e.x-e.z*t,t*e.y-e.x*s)},lerp:function(e,t,a,s){var n,i;2===arguments.length?(s=t,n=e.x,i=e.y,a=e.z):(n=e,i=t),this.x+=(n-this.x)*s,this.y+=(i-this.y)*s,this.z+=(a-this.z)*s},normalize:function(){var e=this.mag();e>0&&this.div(e)},limit:function(e){this.mag()>e&&(this.normalize(),this.mult(e))},heading:function(){return-Math.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};for(var i in a.prototype)a.prototype.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(a[i]=s(i));return a}},{}],18:[function(e,t){t.exports=function(){var e=function(e,t,a,s,n){this.fullName=e||"",this.name=t||"",this.namespace=a||"",this.value=s,this.type=n};return e.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(e){this.value=e}},e}},{}],19:[function(e,t){t.exports=function(e,t){var a=e.Browser,s=a.ajax,n=a.window.DOMParser,i=e.XMLAttribute,r=function(e,a,s,n){this.attributes=[],this.children=[],this.name=this.fullName=null,this.namespace="",this.parent=this.content=null,this.systemID=this.lineNr="",this.type="ELEMENT",e&&("string"==typeof e?a===t&&-1<e.indexOf("<")?this.parse(e):(this.fullName=e,this.namespace=a,this.systemId=s,this.lineNr=n):this.parse(a))};return r.prototype={parse:function(e){var t;try{var a=e.substring(e.length-4);(".xml"===a||".svg"===a)&&(e=s(e)),t=(new n).parseFromString(e,"text/xml");var i=t.documentElement;if(!i)throw"Error loading document";return this.parseChildrenRecursive(null,i),this}catch(r){throw r}},parseChildrenRecursive:function(e,t){var a,s,n,o;if(e?(a=new r(t.nodeName),a.parent=e):(this.fullName=t.localName,this.name=t.nodeName,a=this),3===t.nodeType&&""!==t.textContent)return this.createPCDataElement(t.textContent);if(4===t.nodeType)return this.createCDataElement(t.textContent);if(t.attributes)for(n=0,o=t.attributes.length;o>n;n++)s=t.attributes[n],s=new i(s.getname,s.nodeName,s.namespaceURI,s.nodeValue,s.nodeType),a.attributes.push(s);if(t.childNodes)for(n=0,o=t.childNodes.length;o>n;n++)s=a.parseChildrenRecursive(a,t.childNodes[n]),null!==s&&a.children.push(s);return a},createElement:function(e,a,s,n){return s===t?new r(e,a):new r(e,a,s,n)},createPCDataElement:function(e){if(""===e.replace(/^\s+$/g,""))return null;var t=new r;return t.type="TEXT",t.content=e,t},createCDataElement:function(e){var t=this.createPCDataElement(e);if(null===t)return null;t.type="CDATA";var a,s={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};for(a in s)Object.hasOwnProperty(s,a)||(e=e.replace(RegExp(a,"g"),s[a]));return t.cdata=e,t},hasAttribute:function(){return 1===arguments.length?null!==this.getAttribute(arguments[0]):2===arguments.length?null!==this.getAttribute(arguments[0],arguments[1]):void 0},equals:function(e){if(!(e instanceof r))return!1;var t,a;if(this.fullName!==e.fullName||this.attributes.length!==e.getAttributeCount()||this.attributes.length!==e.attributes.length)return!1;var s,n;for(t=0,a=this.attributes.length;a>t;t++)if(s=this.attributes[t].getName(),n=this.attributes[t].getNamespace(),s=e.findAttribute(s,n),null===s||this.attributes[t].getValue()!==s.getValue()||this.attributes[t].getType()!==s.getType())return!1;if(this.children.length!==e.getChildCount())return!1;if(0<this.children.length){for(t=0,a=this.children.length;a>t;t++)if(s=this.getChild(t),n=e.getChild(t),!s.equals(n))return!1;return!0}return this.content===e.content},getContent:function(){if("TEXT"===this.type||"CDATA"===this.type)return this.content;var e=this.children;return 1!==e.length||"TEXT"!==e[0].type&&"CDATA"!==e[0].type?null:e[0].content},getAttribute:function(){var e;return 2===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():arguments[1]:1===arguments.length?(e=this.findAttribute(arguments[0]))?e.getValue():null:3===arguments.length?(e=this.findAttribute(arguments[0],arguments[1]))?e.getValue():arguments[2]:void 0},getStringAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0]):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(e){return this.getStringAttribute(e)},getFloatAttribute:function(){return 1===arguments.length?parseFloat(this.getAttribute(arguments[0],0)):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(e){return this.getFloatAttribute(e)},getIntAttribute:function(){return 1===arguments.length?this.getAttribute(arguments[0],0):2===arguments.length?this.getAttribute(arguments[0],arguments[1]):this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(e){return this.getIntAttribute(e)},hasChildren:function(){return 0<this.children.length},addChild:function(e){null!==e&&(e.parent=this,this.children.push(e))},insertChild:function(e,t){if(e){if(null===e.getLocalName()&&!this.hasChildren()){var a=this.children[this.children.length-1];if(null===a.getLocalName())return a.setContent(a.getContent()+e.getContent()),void 0}e.parent=this,this.children.splice(t,0,e)}},getChild:function(e){if("number"==typeof e)return this.children[e];if(-1!==e.indexOf("/"))return this.getChildRecursive(e.split("/"),0);for(var t,a,s=0,n=this.getChildCount();n>s;s++)if(t=this.getChild(s),a=t.getName(),null!==a&&a===e)return t;return null},getChildren:function(){if(1===arguments.length){if("number"==typeof arguments[0])return this.getChild(arguments[0]);if(-1!==arguments[0].indexOf("/"))return this.getChildrenRecursive(arguments[0].split("/"),0);for(var e,t,a=[],s=0,n=this.getChildCount();n>s;s++)e=this.getChild(s),t=e.getName(),null!==t&&t===arguments[0]&&a.push(e);return a}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(e,t){if(t===e.length)return this;for(var a,s,n=e[t],i=0,r=this.getChildCount();r>i;i++)if(a=this.getChild(i),s=a.getName(),null!==s&&s===n)return a.getChildRecursive(e,t+1);return null},getChildrenRecursive:function(e,t){if(t===e.length-1)return this.getChildren(e[t]);for(var a=this.getChildren(e[t]),s=[],n=0;n<a.length;n++)s=s.concat(a[n].getChildrenRecursive(e,t+1));return s},isLeaf:function(){return!this.hasChildren()},listChildren:function(){for(var e=[],t=0,a=this.children.length;a>t;t++)e.push(this.getChild(t).getName());return e},removeAttribute:function(e,t){this.namespace=t||"";for(var a=0,s=this.attributes.length;s>a;a++)if(this.attributes[a].getName()===e&&this.attributes[a].getNamespace()===this.namespace){this.attributes.splice(a,1);break}},removeChild:function(e){if(e)for(var t=0,a=this.children.length;a>t;t++)if(this.children[t].equals(e)){this.children.splice(t,1);break}},removeChildAtIndex:function(e){this.children.length>e&&this.children.splice(e,1)},findAttribute:function(e,t){this.namespace=t||"";for(var a=0,s=this.attributes.length;s>a;a++)if(this.attributes[a].getName()===e&&this.attributes[a].getNamespace()===this.namespace)return this.attributes[a];return null},setAttribute:function(){var e;if(3===arguments.length){e=arguments[0].indexOf(":");var t=arguments[0].substring(e+1);(e=this.findAttribute(t,arguments[1]))?e.setValue(arguments[2]):(e=new i(arguments[0],t,arguments[1],arguments[2],"CDATA"),this.attributes.push(e))}else(e=this.findAttribute(arguments[0]))?e.setValue(arguments[1]):(e=new i(arguments[0],arguments[0],null,arguments[1],"CDATA"),this.attributes.push(e))},setString:function(e,t){this.setAttribute(e,t)},setInt:function(e,t){this.setAttribute(e,t)},setFloat:function(e,t){this.setAttribute(e,t)},setContent:function(e){0<this.children.length&&Processing.debug("Tried to set content for XMLElement with children"),this.content=e},setName:function(){if(1===arguments.length)this.name=arguments[0],this.fullName=arguments[0],this.namespace=null;else{var e=arguments[0].indexOf(":");this.name=null===arguments[1]||0>e?arguments[0]:arguments[0].substring(e+1),this.fullName=arguments[0],this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if("TEXT"===this.type)return this.content;if("CDATA"===this.type)return this.cdata;var e,t=this.fullName,a="<"+t;for(e=0;e<this.attributes.length;e++)var s=this.attributes[e],a=a+(" "+s.getName()+'="'+s.getValue()+'"');if(0===this.children.length)a=""===this.content?a+"/>":a+(">"+this.content+"</"+t+">");else{for(a+=">",e=0;e<this.children.length;e++)a+=this.children[e].toString();a+="</"+t+">"}return a}},r.parse=function(e){var t=new r;return t.parse(e),t},r}},{}],20:[function(e,t){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}
},{}],21:[function(e,t){t.exports=function(e,t,a){return function(s,n){s.__contains=function(e,t){return"string"!=typeof e?e.contains.apply(e,n(arguments)):null!==e&&null!==t&&"string"==typeof t&&-1<e.indexOf(t)},s.__replaceAll=function(e,t,a){return"string"!=typeof e?e.replaceAll.apply(e,n(arguments)):e.replace(RegExp(t,"g"),a)},s.__replaceFirst=function(e,t,a){return"string"!=typeof e?e.replaceFirst.apply(e,n(arguments)):e.replace(RegExp(t,""),a)},s.__replace=function(e,t,a){if("string"!=typeof e)return e.replace.apply(e,n(arguments));if(t instanceof RegExp)return e.replace(t,a);if("string"!=typeof t&&(t=t.toString()),""===t)return e;var s=e.indexOf(t);if(0>s)return e;var i=0,r="";do r+=e.substring(i,s)+a,i=s+t.length;while(0<=(s=e.indexOf(t,i)));return r+e.substring(i)},s.__equals=function(e,a){return e.equals instanceof Function?e.equals.apply(e,n(arguments)):t(e,a)},s.__equalsIgnoreCase=function(e,t){return"string"!=typeof e?e.equalsIgnoreCase.apply(e,n(arguments)):e.toLowerCase()===t.toLowerCase()},s.__toCharArray=function(e){if("string"!=typeof e)return e.toCharArray.apply(e,n(arguments));for(var t=[],a=0,s=e.length;s>a;++a)t[a]=new Char(e.charAt(a));return t},s.__split=function(e,t,s){if("string"!=typeof e)return e.split.apply(e,n(arguments));var i=RegExp(t);if(s===a||1>s)return e.split(i);for(var r,o=[],c=e;-1!==(r=c.search(i))&&o.length<s-1;){var l=i.exec(c).toString();o.push(c.substring(0,r)),c=c.substring(r+l.length)}return-1===r&&""===c||o.push(c),o},s.__codePointAt=function(e,t){var a,s=e.charCodeAt(t);return s>=55296&&56319>=s?(a=e.charCodeAt(t+1),1024*(s-55296)+(a-56320)+65536):s},s.__matches=function(e,t){return RegExp(t).test(e)},s.__startsWith=function(e,t,a){return"string"!=typeof e?e.startsWith.apply(e,n(arguments)):(a=a||0,0>a||a>e.length?!1:""===t||t===e?!0:e.indexOf(t)===a)},s.__endsWith=function(e,t){if("string"!=typeof e)return e.endsWith.apply(e,n(arguments));var a=t?t.length:0;return""===t||t===e?!0:e.indexOf(t)===e.length-a},s.__hashCode=function(t){return t.hashCode instanceof Function?t.hashCode.apply(t,n(arguments)):e(t)},s.__printStackTrace=function(e){s.println("Exception: "+e.toString())}}}},{}],22:[function(e,t){t.exports=function(e,t){function a(e,t){var a=e||362436069,s=t||521288629,n=function(){return a=4294967295&36969*(65535&a)+(a>>>16),s=4294967295&18e3*(65535&s)+(s>>>16),4294967295&((65535&a)<<16|65535&s)};this.doubleGenerator=function(){var e=n()/4294967296;return 0>e?1+e:e},this.intGenerator=n}function s(e){function s(e,t,a,s){e&=15;var n=8>e?t:a;return t=4>e?a:12===e||14===e?t:s,(0===(1&e)?n:-n)+(0===(2&e)?t:-t)}function n(e,t,a){return t=0===(1&e)?t:a,0===(2&e)?-t:t}function i(e,t,a){return t+e*(a-t)}e=e!==t?new a(e):a.createRandomized();var r,o,c=new Uint8Array(512);for(r=0;256>r;++r)c[r]=r;for(r=0;256>r;++r){var l=c[o=255&e.intGenerator()];c[o]=c[r],c[r]=l}for(r=0;256>r;++r)c[r+256]=c[r];this.noise3d=function(e,t,a){var n=255&Math.floor(e),r=255&Math.floor(t),o=255&Math.floor(a);e-=Math.floor(e),t-=Math.floor(t),a-=Math.floor(a);var l=(3-2*e)*e*e,d=(3-2*t)*t*t,u=c[n]+r,h=c[u]+o,u=c[u+1]+o,r=c[n+1]+r,n=c[r]+o,o=c[r+1]+o;return i((3-2*a)*a*a,i(d,i(l,s(c[h],e,t,a),s(c[n],e-1,t,a)),i(l,s(c[u],e,t-1,a),s(c[o],e-1,t-1,a))),i(d,i(l,s(c[h+1],e,t,a-1),s(c[n+1],e-1,t,a-1)),i(l,s(c[u+1],e,t-1,a-1),s(c[o+1],e-1,t-1,a-1))))},this.noise2d=function(e,t){var a=255&Math.floor(e),s=255&Math.floor(t);e-=Math.floor(e),t-=Math.floor(t);var r=(3-2*e)*e*e,o=c[a]+s,a=c[a+1]+s;return i((3-2*t)*t*t,i(r,n(c[o],e,t),n(c[a],e-1,t)),i(r,n(c[o+1],e,t-1),n(c[a+1],e-1,t-1)))},this.noise1d=function(e){var t=255&Math.floor(e);return e-=Math.floor(e),i((3-2*e)*e*e,0===(1&c[t])?-e:e,0===(1&c[t+1])?-(e-1):e-1)}}var n=function(){return Math.random()};e.abs=Math.abs,e.ceil=Math.ceil,e.exp=Math.exp,e.floor=Math.floor,e.log=Math.log,e.pow=Math.pow,e.round=Math.round,e.sqrt=Math.sqrt,e.acos=Math.acos,e.asin=Math.asin,e.atan=Math.atan,e.atan2=Math.atan2,e.cos=Math.cos,e.sin=Math.sin,e.tan=Math.tan,e.constrain=function(e,t,a){return e>a?a:t>e?t:e},e.dist=function(){var e,t,a;return 4===arguments.length?(e=arguments[0]-arguments[2],t=arguments[1]-arguments[3],Math.sqrt(e*e+t*t)):6===arguments.length?(e=arguments[0]-arguments[3],t=arguments[1]-arguments[4],a=arguments[2]-arguments[5],Math.sqrt(e*e+t*t+a*a)):void 0},e.lerp=function(e,t,a){return(t-e)*a+e},e.mag=function(e,t,a){return a?Math.sqrt(e*e+t*t+a*a):Math.sqrt(e*e+t*t)},e.map=function(e,t,a,s,n){return s+(n-s)*((e-t)/(a-t))},e.max=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[1]:arguments[0];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var t=e[0],a=e.length,s=1;a>s;++s)t<e[s]&&(t=e[s]);return t},e.min=function(){if(2===arguments.length)return arguments[0]<arguments[1]?arguments[0]:arguments[1];var e=1===arguments.length?arguments[0]:arguments;if(!("length"in e&&0<e.length))throw"Non-empty array is expected";for(var t=e[0],a=e.length,s=1;a>s;++s)t>e[s]&&(t=e[s]);return t},e.norm=function(e,t,a){return(e-t)/(a-t)},e.sq=function(e){return e*e},e.degrees=function(e){return 180*e/Math.PI},e.random=function(){if(0===arguments.length)return n();if(1===arguments.length)return n()*arguments[0];var e=arguments[0],t=arguments[1];return n()*(t-e)+e},a.createRandomized=function(){var e=new Date;return new a(4294967295&e/6e4,4294967295&e)},e.randomSeed=function(e){n=new a(e).doubleGenerator,this.haveNextNextGaussian=!1},e.randomGaussian=function(){if(this.haveNextNextGaussian)return this.haveNextNextGaussian=!1,this.nextNextGaussian;var e,t,a;do e=2*n()-1,t=2*n()-1,a=e*e+t*t;while(a>=1||0===a);return a=Math.sqrt(-2*Math.log(a)/a),this.nextNextGaussian=t*a,this.haveNextNextGaussian=!0,e*a};var i=t,r=4,o=.5,c=t;e.noise=function(e,a,n){i===t&&(i=new s(c));for(var l=i,d=1,u=1,h=0,p=0;r>p;++p){switch(d*=o,arguments.length){case 1:h+=d*(1+l.noise1d(u*e))/2;break;case 2:h+=d*(1+l.noise2d(u*e,u*a))/2;break;case 3:h+=d*(1+l.noise3d(u*e,u*a,u*n))/2}u*=2}return h},e.noiseDetail=function(e,a){r=e,a!==t&&(o=a)},e.noiseSeed=function(e){c=e,i=t}}},{}],23:[function(e,t){t.exports=function(e){var t={trim:function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(e[a].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""));return t}return e.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")},radians:function(e){return e/180*Math.PI},nfCoreScalar:function(t,a,s,n,i,r){if(a=0>t?s:a,s=0===i,i=i===e||0>i?0:i,t=Math.abs(t),s)for(i=1,t*=10;1e-6<Math.abs(Math.round(t)-t)&&7>i;)++i,t*=10;else 0!==i&&(t*=Math.pow(10,i));for(s=2*t,Math.floor(t)===t?s=t:Math.floor(s)===s?(t=Math.floor(t),s=t+t%2):s=Math.round(t),t="",n+=i;n>0||s>0;)n--,t=""+s%10+t,s=Math.floor(s/10);if(r!==e)for(n=t.length-3-i;n>0;)t=t.substring(0,n)+r+t.substring(n),n-=3;return i>0?a+t.substring(0,t.length-i)+"."+t.substring(t.length-i,t.length):a+t},nfCore:function(e,a,s,n,i,r){if(e instanceof Array){for(var o=[],c=0,l=e.length;l>c;c++)o.push(t.nfCoreScalar(e[c],a,s,n,i,r));return o}return t.nfCoreScalar(e,a,s,n,i,r)},nf:function(e,a,s){return t.nfCore(e,"","-",a,s)},nfs:function(e,a,s){return t.nfCore(e," ","-",a,s)},nfp:function(e,a,s){return t.nfCore(e,"+","-",a,s)},nfc:function(e,a){return t.nfCore(e,"","-",0,a,",")},withCommonFunctions:function(e){"trim radians nf nfs nfp nfc".split(" ").forEach(function(a){e[a]=t[a]})}};return t}()},{}],24:[function(e,t){t.exports=function(e,t,a,s,n,i){function r(t){var a=t,n=0,i=0;if(e.pmouseX=e.mouseX,e.pmouseY=e.mouseY,a.offsetParent)do n+=a.offsetLeft,i+=a.offsetTop;while(a=a.offsetParent);a=t;do n-=a.scrollLeft||0,i-=a.scrollTop||0;while(a=a.parentNode);var r,o,c,l;return s.defaultView&&s.defaultView.getComputedStyle&&(r=parseInt(s.defaultView.getComputedStyle(t,null).paddingLeft,10)||0,o=parseInt(s.defaultView.getComputedStyle(t,null).paddingTop,10)||0,c=parseInt(s.defaultView.getComputedStyle(t,null).borderLeftWidth,10)||0,l=parseInt(s.defaultView.getComputedStyle(t,null).borderTopWidth,10)||0),n=n+r+c,i=i+o+l,n+=window.pageXOffset,i+=window.pageYOffset,{X:n,Y:i}}function o(t,a){var s=r(t,a);e.mouseX=a.pageX-s.X,e.mouseY=a.pageY-s.Y}function c(e){var t,a=r(e.changedTouches[0].target,e.changedTouches[0]);for(t=0;t<e.touches.length;t++){var s=e.touches[t];s.offsetX=s.pageX-a.X,s.offsetY=s.pageY-a.Y}for(t=0;t<e.targetTouches.length;t++)s=e.targetTouches[t],s.offsetX=s.pageX-a.X,s.offsetY=s.pageY-a.Y;for(t=0;t<e.changedTouches.length;t++)s=e.changedTouches[t],s.offsetX=s.pageX-a.X,s.offsetY=s.pageY-a.Y;return e}a(t,"touchstart",function(s){t.setAttribute("style","-webkit-user-select: none"),t.setAttribute("onclick","void(0)"),t.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var r=0,l=eventHandlers.length;l>r;r++){var d=eventHandlers[r].type;"mouseout"!==d&&"mousemove"!==d&&"mousedown"!==d&&"mouseup"!==d&&"DOMMouseScroll"!==d&&"mousewheel"!==d&&"touchstart"!==d||detachEventHandler(eventHandlers[r])}e.touchStart!==i||e.touchMove!==i||e.touchEnd!==i||e.touchCancel!==i?(a(t,"touchstart",function(t){e.touchStart!==i&&(t=c(t),e.touchStart(t))}),a(t,"touchmove",function(t){e.touchMove!==i&&(t.preventDefault(),t=c(t),e.touchMove(t))}),a(t,"touchend",function(t){e.touchEnd!==i&&(t=c(t),e.touchEnd(t))}),a(t,"touchcancel",function(t){e.touchCancel!==i&&(t=c(t),e.touchCancel(t))})):(a(t,"touchstart",function(a){o(t,a.touches[0]),e.__mousePressed=!0,e.mouseDragging=!1,e.mouseButton=n.LEFT,"function"==typeof e.mousePressed&&e.mousePressed()}),a(t,"touchmove",function(a){a.preventDefault(),o(t,a.touches[0]),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),a(t,"touchend",function(){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()})),t.dispatchEvent(s)}),function(){var s=!0,n=function(e){e.preventDefault(),e.stopPropagation()};e.disableContextMenu=function(){s&&(a(t,"contextmenu",n),s=!1)},e.enableContextMenu=function(){s||(detachEventHandler({elem:t,type:"contextmenu",fn:n}),s=!0)}}(),a(t,"mousemove",function(a){o(t,a),"function"!=typeof e.mouseMoved||e.__mousePressed||e.mouseMoved(),"function"==typeof e.mouseDragged&&e.__mousePressed&&(e.mouseDragged(),e.mouseDragging=!0)}),a(t,"mouseout",function(){"function"==typeof e.mouseOut&&e.mouseOut()}),a(t,"mouseover",function(a){o(t,a),"function"==typeof e.mouseOver&&e.mouseOver()}),t.onmousedown=function(){return t.focus(),!1},a(t,"mousedown",function(t){switch(e.__mousePressed=!0,e.mouseDragging=!1,t.which){case 1:e.mouseButton=n.LEFT;break;case 2:e.mouseButton=n.CENTER;break;case 3:e.mouseButton=n.RIGHT}"function"==typeof e.mousePressed&&e.mousePressed()}),a(t,"mouseup",function(){e.__mousePressed=!1,"function"!=typeof e.mouseClicked||e.mouseDragging||e.mouseClicked(),"function"==typeof e.mouseReleased&&e.mouseReleased()});var l=function(t){var a=0;t.wheelDelta?(a=t.wheelDelta/120,window.opera&&(a=-a)):t.detail&&(a=-t.detail/3),(e.mouseScroll=a)&&"function"==typeof e.mouseScrolled&&e.mouseScrolled()};a(s,"DOMMouseScroll",l),a(s,"mousewheel",l)}},{}],25:[function(e,t){t.exports=function(e,t){function a(){var t="abs acos alpha ambient ambientLight append applyMatrix arc arrayCopy asin atan atan2 background beginCamera beginDraw beginShape bezier bezierDetail bezierPoint bezierTangent bezierVertex binary blend blendColor blit_resize blue box breakShape brightness camera ceil Character color colorMode concat constrain copy cos createFont createGraphics createImage cursor curve curveDetail curvePoint curveTangent curveTightness curveVertex day degrees directionalLight disableContextMenu dist draw ellipse ellipseMode emissive enableContextMenu endCamera endDraw endShape exit exp expand externals fill filter floor focused frameCount frameRate frustum get glyphLook glyphTable green height hex hint hour hue image imageMode intersect join key keyCode keyPressed keyReleased keyTyped lerp lerpColor lightFalloff lights lightSpecular line link loadBytes loadFont loadGlyphs loadImage loadPixels loadShape loadXML loadStrings log loop mag map match matchAll max millis min minute mix modelX modelY modelZ modes month mouseButton mouseClicked mouseDragged mouseMoved mouseOut mouseOver mousePressed mouseReleased mouseScroll mouseScrolled mouseX mouseY name nf nfc nfp nfs noCursor noFill noise noiseDetail noiseSeed noLights noLoop norm normal noSmooth noStroke noTint ortho param parseBoolean parseByte parseChar parseFloat parseInt peg perspective PImage pixels PMatrix2D PMatrix3D PMatrixStack pmouseX pmouseY point pointLight popMatrix popStyle pow print printCamera println printMatrix printProjection PShape PShapeSVG pushMatrix pushStyle quad radians random randomGaussian randomSeed rect rectMode red redraw requestImage resetMatrix reverse rotate rotateX rotateY rotateZ round saturation save saveFrame saveStrings scale screenX screenY screenZ second set setup shape shapeMode shared shearX shearY shininess shorten sin size smooth sort specular sphere sphereDetail splice split splitTokens spotLight sq sqrt status str stroke strokeCap strokeJoin strokeWeight subset tan text textAlign textAscent textDescent textFont textLeading textMode textSize texture textureMode textWidth tint toImageData touchCancel touchEnd touchMove touchStart translate transform triangle trim unbinary unhex updatePixels use3DContext vertex width XMLElement XML year __contains __equals __equalsIgnoreCase __frameRate __hashCode __int_cast __instanceof __keyPressed __mousePressed __printStackTrace __replace __replaceAll __replaceFirst __toCharArray __split __codePointAt __startsWith __endsWith __matches".split(" ");c&&Object.keys(c).forEach(function(e){t.push(e)});var a,s,n={};for(a=0,s=t.length;s>a;++a)n[t[a]]=null;for(var i in e.lib)if(e.lib.hasOwnProperty(i)&&e.lib[i].exports){var r=e.lib[i].exports;for(a=0,s=r.length;s>a;++a)n[r[a]]=null}return n}function s(e){function t(e){var t=/^\s*/.exec(e);if(t[0].length===e.length)e={left:t[0],middle:"",right:""};else{var a=/\s*$/.exec(e);e={left:t[0],middle:e.substring(t[0].length,a.index),right:a[0]}}return e.untrim=function(e){return this.left+e+this.right},e}function s(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function n(e,t){for(var a=0,s=t.length;s>a;++a)e[t[a]]=null;return e}function c(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function l(e){return e.substring(2,e.length-1)}function d(e,t){var a=$t.length;return $t.push(e),'"'+t+a+'"'}function u(e){return e=e.replace(xt,function(e){return d(e,"E")}),e=e.replace(yt,function(e){return d(e,"D")}),e=e.replace(Et,function(e){return d(e,"H")})}function h(e,t){return e.replace(kt,function(e,a,s){return s!==t?e:d(e,"G")})}function p(e){this.name=e}function f(e,t){this.params=e,this.methodArgsParam=t}function m(e){var t=s(e.substring(1,e.length-1));e=[];var a=null;if(""!==t)for(var t=t.split(","),n=0;n<t.length;++n){var i=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(t[n]);if(n===t.length-1&&0<=t[n].indexOf("...")){a=new p(i[1]);break}e.push(new p(i[1]))}return new f(e,a)}function v(e){function a(e,a,s,i){return e=$t[i],n=!0,e=t(e.substring(1,e.length-1)),"__"+s+(""===e.middle?d("("+a.replace(/\.\s*$/,"")+")","B"):d("("+a.replace(/\.\s*$/,"")+","+e.middle+")","B"))}function s(e,t,a){return n=!0,"__instanceof"+d("("+t+", "+a+")","B")}e=e.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(e,t,a){return a}),e=e.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(e){return d(e,"F")}),e=e.replace(Et,function(e){return d(e,"H")}),e=e.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(e,t,a){return e=a.replace(/"C(\d+)"/g,function(e,t){return $t[t]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", "),e="{"+e.substring(1,e.length-1)+"}",t="('"+t+"', "+d(e,"A")+")","$p.createJavaArray"+d(t,"B")}),e=e.replace(/(\.\s*length)\s*"B\d+"/g,"$1"),e=e.replace(/#([0-9A-Fa-f]{6})\b/g,function(e,t){return"0xFF"+t}),e=e.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(e,t,a){return t=$t[t],/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(t)?/^\(\s*int\s*\)$/.test(t)?"(int)"+a:(t=t.split(/"C(\d+)"/g),1<t.length&&!/^\[\s*\]$/.test($t[t[1]])?e:""+a):e}),e=e.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(e,a){var s=t(a);return s.untrim("__int_cast("+s.middle+")")}),e=e.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1"),e=e.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(e,t,a){return t===a?e:""===a?"0"+t:t}),e=e.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1"),e=e.replace(/([^\s])%([^=\s])/g,"$1 % $2"),e=e.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1"),e=e.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(e,t){return"parse"+t.substring(0,1).toUpperCase()+t.substring(1)+'"B'}),e=e.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(e,t,a,s,n,i){return a?(e=$t[s],n?"pixels.setPixel"+d("("+e.substring(1,e.length-1)+","+i+")","B"):"pixels.getPixel"+d("("+e.substring(1,e.length-1)+")","B")):t?"pixels.getLength"+d("()","B"):n?"pixels.set"+d("("+i+")","B"):"pixels.toArray"+d("()","B")});var n;do n=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt|matches)\s*"B(\d+)"/g,a);while(n);do n=!1,e=e.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,s);while(n);return e=e.replace(/\bthis(\s*"B\d+")/g,"$$constr$1")}function g(e,t){this.baseInterfaceName=e,this.body=t,t.owner=this}function $(e){var t=RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/).exec(e);e=ht;var a="class"+ ++Ct;ht=a;var s=t[1]+"$"+a,t=new g(s,pt($t[t[2]],s,"","implements "+t[1]));return t.classId=a,t.scopeId=e,bt[a]=t,ht=e,t}function b(e,t,a){this.name=e,this.params=t,this.body=a}function C(e){return e=RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/).exec(e),new b("function"!==e[1]?e[1]:null,m($t[e[2]]),mt($t[e[3]]))}function x(e){this.members=e}function y(e){e=e.split(",");for(var t=0;t<e.length;++t){var a=e[t].indexOf(":");e[t]=0>a?{value:gt(e[t])}:{label:s(e[t].substring(0,a)),value:gt(s(e[t].substring(a+1)))}}return new x(e)}function w(e){if("("===e.charAt(0)||"["===e.charAt(0))return e.charAt(0)+w(e.substring(1,e.length-1))+e.charAt(e.length-1);if("{"===e.charAt(0))return/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(e)?"{"+d(e.substring(1,e.length-1),"I")+"}":"["+w(e.substring(1,e.length-1))+"]";e=t(e);var a=v(e.middle),a=a.replace(/"[ABC](\d+)"/g,function(e,t){return w($t[t])});return e.untrim(a)}function k(e){return e.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(e,t,a,s,n,r){return t?e:ut({name:a,member:n,callSign:!!r})+(s===i?"":s)})}function _(e,t){this.expr=e,this.transforms=t}function E(e,t,a){this.name=e,this.value=t,this.isDefault=a}function A(e,t){var a,n,i=e.indexOf("=");return 0>i?(a=e,i=t,n=!0):(a=e.substring(0,i),i=gt(e.substring(i+1)),n=!1),new E(s(a.replace(/(\s*"C\d+")+/g,"")),i,n)}function R(e){return"int"===e||"float"===e?"0":"boolean"===e?"false":"color"===e?"0x00000000":"null"}function T(e,t){this.definitions=e,this.varType=t}function S(e){this.expression=e}function D(e){if(wt.test(e)){var t=_t.exec(e);e=e.substring(t[0].length).split(",");for(var a=R(t[2]),s=0;s<e.length;++s)e[s]=A(e[s],a);return new T(e,t[2])}return new S(gt(e))}function P(e,t,a){this.initStatement=e,this.condition=t,this.step=a}function M(e,t){this.initStatement=e,this.container=t}function F(e,t){this.initStatement=e,this.container=t}function I(e){return/\bin\b/.test(e)?(e=e.substring(1,e.length-1).split(/\bin\b/g),new M(D(s(e[0])),gt(e[1]))):0<=e.indexOf(":")&&0>e.indexOf(";")?(e=e.substring(1,e.length-1).split(":"),new F(D(s(e[0])),gt(e[1]))):(e=e.substring(1,e.length-1).split(";"),new P(D(s(e[0])),gt(e[1]),gt(e[2])))}function L(e){e.sort(function(e,t){return t.weight-e.weight})}function N(e,t,a){this.name=e,this.body=t,this.isStatic=a,t.owner=this}function O(e,t,a){this.name=e,this.body=t,this.isStatic=a,t.owner=this}function z(e){var t=xt.exec(e);xt.lastIndex=0;var a=0<=t[1].indexOf("static"),s=$t[l(t[6])];e=ht;var n="class"+ ++Ct;return ht=n,t="interface"===t[2]?new N(t[3],ft(s,t[3],t[4]),a):new O(t[3],pt(s,t[3],t[4],t[5]),a),t.classId=n,t.scopeId=e,bt[n]=t,ht=e,t}function q(e,t,a,s){this.name=e,this.params=t,this.body=a,this.isStatic=s}function V(e){e=yt.exec(e),yt.lastIndex=0;var t=0<=e[1].indexOf("static"),a=";"!==e[6]?$t[l(e[6])]:"{}";return new q(e[3],m($t[l(e[4])]),mt(a),t)}function B(e,t,a){this.definitions=e,this.fieldType=t,this.isStatic=a}function G(e){var t=_t.exec(e),a=0<=t[1].indexOf("static");e=e.substring(t[0].length).split(/,\s*/g);for(var s=R(t[2]),n=0;n<e.length;++n)e[n]=A(e[n],s);return new B(e,t[2],a)}function j(e,t){this.params=e,this.body=t}function U(e){e=RegExp(/"B(\d+)"\s*"A(\d+)"/).exec(e);var t=m($t[e[1]]);return new j(t,mt($t[e[2]]))}function H(e,t,a,s,n,i){for(this.name=e,this.interfacesNames=t,this.methodsNames=a,this.fields=s,this.innerClasses=n,this.misc=i,e=0,t=s.length;t>e;++e)s[e].owner=this}function X(e,t,a,s,n,i,r,o,c){for(this.name=e,this.baseClassName=t,this.interfacesNames=a,this.functions=s,this.methods=n,this.fields=i,this.cstrs=r,this.innerClasses=o,this.misc=c,e=0,t=i.length;t>e;++e)i[e].owner=this}function K(e,t){this.name=e,this.body=t,t.owner=this}function Z(e,t){this.name=e,this.body=t,t.owner=this}function Y(e){var t=xt.exec(e);xt.lastIndex=0;var a=$t[l(t[6])];e=ht;var s="class"+ ++Ct;return ht=s,t="interface"===t[2]?new K(t[3],ft(a,t[3],t[4])):new Z(t[3],pt(a,t[3],t[4],t[5])),t.classId=s,t.scopeId=e,bt[s]=t,ht=e,t}function W(e,t,a){this.name=e,this.params=t,this.body=a}function Q(e){return e=yt.exec(e),yt.lastIndex=0,new W(e[3],m($t[l(e[4])]),mt($t[l(e[6])]))}function J(e,t){this.argument=e,this.misc=t}function et(e,t){this.argument=e,this.misc=t}function tt(e,t,a){this.name=e,this.argument=t,this.misc=a}function at(e){this.expr=e}function st(e){this.label=e}function nt(e){for(var t=[],a=0,s=e.length;s>a;++a){var i=e[a];i instanceof T?t=t.concat(i.getNames()):i instanceof J&&i.argument.initStatement instanceof T?t=t.concat(i.argument.initStatement.getNames()):(i instanceof N||i instanceof O||i instanceof K||i instanceof Z||i instanceof W||i instanceof b)&&t.push(i.name)}return n({},t)}function it(e){this.statements=e}function rt(e){this.statements=e}var ot=a(),ct=[];e=e.replace(/\r\n?|\n\r/g,"\n").replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(e,t,a,s,n,i,r,o){return t||a?(t=ct.length,ct.push(e),"'"+t+"'"):s?(t=ct.length,ct.push(i),n+"'"+t+"'"):""!==o?" ":"\n"}),e=e.replace(/__x([0-9A-F]{4})/g,function(e,t){return"__x005F_x"+t}),e=e.replace(/\$/g,"__x0024"),e=e.replace(/return\s*[\n\r]+/g,"return ");var lt,dt=function(e,t,a,s){return t||s?e:(lt=!0,"")};do lt=!1,e=e.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\[\])*(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,dt);while(lt);var ut,ht,pt,ft,mt,vt,gt,$t=function(e){var t=[];e=e.split(/([\{\[\(\)\]\}])/);for(var a=e[0],s=[],n=1;n<e.length;n+=2){var i=e[n];if("["===i||"{"===i||"("===i)s.push(a),a=i;else if("]"===i||"}"===i||")"===i){var r="}"===i?"A":")"===i?"B":"C",o=t.length;t.push(a+i),a=s.pop()+'"'+r+(o+1)+'"'}a+=e[n+1]}return t.unshift(a),t}(e),bt={},Ct=0,xt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g,yt=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g,wt=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/,kt=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g,_t=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/,Et=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;return p.prototype.toString=function(){return this.name},f.prototype.getNames=function(){for(var e=[],t=0,a=this.params.length;a>t;++t)e.push(this.params[t].name);return e},f.prototype.prependMethodArgs=function(e){return this.methodArgsParam?"{\nvar "+this.methodArgsParam.name+" = Array.prototype.slice.call(arguments, "+this.params.length+");\n"+e.substring(1):e},f.prototype.toString=function(){if(0===this.params.length)return"()";for(var e="(",t=0,a=this.params.length;a>t;++t)e+=this.params[t]+", ";return e.substring(0,e.length-2)+")"},g.prototype.toString=function(){return"new ("+this.body+")"},b.prototype.toString=function(){var e=ut,t=n({"this":null},this.params.getNames());ut=function(a){return t.hasOwnProperty(a.name)?a.name:e(a)};var a="function";this.name&&(a+=" "+this.name);var s=this.params.prependMethodArgs(this.body.toString()),a=a+(this.params+" "+s);return ut=e,a},x.prototype.toString=function(){var e=ut;ut=function(t){return"this"===t.name?"this":e(t)};for(var t="",a=0,s=this.members.length;s>a;++a)this.members[a].label&&(t+=this.members[a].label+": "),t+=this.members[a].value.toString()+", ";return ut=e,t.substring(0,t.length-2)},_.prototype.toString=function(){var e=this.transforms;return k(this.expr).replace(/"!(\d+)"/g,function(t,a){return e[a].toString()})},gt=function(e){var t=[];return e=w(e),e=e.replace(/"H(\d+)"/g,function(e,a){return t.push(C($t[a])),'"!'+(t.length-1)+'"'}),e=e.replace(/"F(\d+)"/g,function(e,a){return t.push($($t[a])),'"!'+(t.length-1)+'"'}),e=e.replace(/"I(\d+)"/g,function(e,a){return t.push(y($t[a])),'"!'+(t.length-1)+'"'}),new _(e,t)},E.prototype.toString=function(){return this.name+" = "+this.value},T.prototype.getNames=function(){for(var e=[],t=0,a=this.definitions.length;a>t;++t)e.push(this.definitions[t].name);return e},T.prototype.toString=function(){return"var "+this.definitions.join(",")},S.prototype.toString=function(){return this.expression.toString()},P.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"},M.prototype.toString=function(){var e=this.initStatement.toString();return 0<=e.indexOf("=")&&(e=e.substring(0,e.indexOf("="))),"("+e+" in "+this.container+")"},F.iteratorId=0,F.prototype.toString=function(){var e=this.initStatement.toString(),t="$it"+F.iteratorId++,e=e.replace(/^\s*var\s*/,"").split("=")[0];return"("+("var "+t+" = new $p.ObjectIterator("+this.container+"), "+e+" = void(0)")+"; "+(t+".hasNext() && (("+e+" = "+t+".next()) || true)")+";)"},N.prototype.toString=function(){return""+this.body},O.prototype.toString=function(){return""+this.body},q.prototype.toString=function(){var e=n({},this.params.getNames()),t=ut;ut=function(a){return e.hasOwnProperty(a.name)?a.name:t(a)};var a=this.params.prependMethodArgs(this.body.toString()),a="function "+this.methodId+this.params+" "+a+"\n";return ut=t,a},B.prototype.getNames=function(){for(var e=[],t=0,a=this.definitions.length;a>t;++t)e.push(this.definitions[t].name);return e},B.prototype.toString=function(){var e=ut({name:"[this]"});if(this.isStatic){for(var t=this.owner.name,a=[],s=0,n=this.definitions.length;n>s;++s){var i=this.definitions[s],r=i.name,o=t+"."+r;a.push("if("+o+" === void(0)) {\n "+o+" = "+i.value+"; }\n$p.defineProperty("+e+", '"+r+"', { get: function(){return "+o+";}, set: function(val){"+o+" = val;} });\n")}return a.join("")}return e+"."+this.definitions.join("; "+e+".")},j.prototype.toString=function(){var e=n({},this.params.getNames()),t=ut;ut=function(a){return e.hasOwnProperty(a.name)?a.name:t(a)};var a="function $constr_"+this.params.params.length+this.params.toString(),s=this.params.prependMethodArgs(this.body.toString());return/\$(superCstr|constr)\b/.test(s)||(s="{\n$superCstr();\n"+s.substring(1)),ut=t,a+s+"\n"},H.prototype.getMembers=function(e,t,a){this.owner.base&&this.owner.base.body.getMembers(e,t,a);var s,n,i,r;for(s=0,i=this.fields.length;i>s;++s){var o=this.fields[s].getNames();for(n=0,r=o.length;r>n;++n)e[o[n]]=this.fields[s]}for(s=0,i=this.methodsNames.length;i>s;++s)t[this.methodsNames[s]]=!0;for(s=0,i=this.innerClasses.length;i>s;++s)e=this.innerClasses[s],a[e.name]=e},H.prototype.toString=function(){for(var e=this.owner,t=0;e;)++t,e=e.scope;var e=this.name,a=t="";this.getMembers({},{},{});var s,n;if(this.owner.interfaces){var i,r=[];for(s=0,n=this.interfacesNames.length;n>s;++s)this.owner.interfaces[s]&&(i=ut({name:this.interfacesNames[s]}),r.push(i),t+="$p.extendInterfaceMembers("+e+", "+i+");\n");a+=e+".$interfaces = ["+r.join(", ")+"];\n"}for(a=a+(e+".$isInterface = true;\n")+(e+".$methods = ['"+this.methodsNames.join("', '")+"'];\n"),L(this.innerClasses),s=0,n=this.innerClasses.length;n>s;++s)r=this.innerClasses[s],r.isStatic&&(t+=e+"."+r.name+" = "+r+";\n");for(s=0,n=this.fields.length;n>s;++s)r=this.fields[s],r.isStatic&&(t+=e+"."+r.definitions.join(";\n"+e+".")+";\n");return"(function() {\nfunction "+e+"() { throw 'Unable to create the interface'; }\n"+t+a+"return "+e+";\n})()"},ft=function(e,a,s){e=e.substring(1,e.length-1),e=u(e),e=h(e,a);var n=[],r=[];e=e.replace(/"([DE])(\d+)"/g,function(e,t,a){return"D"===t?n.push(a):"E"===t&&r.push(a),""}),e=e.split(/;(?:\s*;)*/g);var o,c;for(s!==i&&(o=s.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),s=0,c=n.length;c>s;++s){var l=V($t[n[s]]);n[s]=l.name}for(s=0,c=e.length-1;c>s;++s)l=t(e[s]),e[s]=G(l.middle);for(l=e.pop(),s=0,c=r.length;c>s;++s)r[s]=z($t[r[s]]);return new H(a,o,n,e,r,{tail:l})},X.prototype.getMembers=function(e,t,a){this.owner.base&&this.owner.base.body.getMembers(e,t,a);var s,n,i,r;for(s=0,i=this.fields.length;i>s;++s){var o=this.fields[s].getNames();for(n=0,r=o.length;r>n;++n)e[o[n]]=this.fields[s]}for(s=0,i=this.methods.length;i>s;++s)e=this.methods[s],t[e.name]=e;for(s=0,i=this.innerClasses.length;i>s;++s)t=this.innerClasses[s],a[t.name]=t},X.prototype.toString=function(){var e="$this_"+function(e){for(var t=0;e;)++t,e=e.scope;return t}(this.owner),t=this.name,a="var "+e+" = this;\n",n="",i="",r={},o={},c={};this.getMembers(r,o,c);var l=ut;ut=function(a){var s=a.name;return"this"===s?a.callSign||!a.member?e+".$self":e:r.hasOwnProperty(s)?r[s].isStatic?t+"."+s:e+"."+s:c.hasOwnProperty(s)?e+"."+s:o.hasOwnProperty(s)?o[s].isStatic?t+"."+s:e+".$self."+s:l(a)};var d;this.baseClassName?(d=l({name:this.baseClassName}),a=a+("var $super = { $upcast: "+e+" };\n")+("function $superCstr(){"+d+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n"),i+=t+".$base = "+d+";\n"):a+="function $superCstr(){$p.extendClassChain("+e+")}\n",this.owner.base&&(n+="$p.extendStaticMembers("+t+", "+d+");\n");
var u,h,p;if(this.owner.interfaces){for(h=[],d=0,u=this.interfacesNames.length;u>d;++d)this.owner.interfaces[d]&&(p=l({name:this.interfacesNames[d]}),h.push(p),n+="$p.extendInterfaceMembers("+t+", "+p+");\n");i+=t+".$interfaces = ["+h.join(", ")+"];\n"}for(0<this.functions.length&&(a+=this.functions.join("\n")+"\n"),L(this.innerClasses),d=0,u=this.innerClasses.length;u>d;++d)h=this.innerClasses[d],h.isStatic?(n+=t+"."+h.name+" = "+h+";\n",a+=e+"."+h.name+" = "+t+"."+h.name+";\n"):a+=e+"."+h.name+" = "+h+";\n";for(d=0,u=this.fields.length;u>d;++d){var f=this.fields[d];if(f.isStatic)for(n+=t+"."+f.definitions.join(";\n"+t+".")+";\n",h=0,p=f.definitions.length;p>h;++h)var m=f.definitions[h].name,v=t+"."+m,a=a+("$p.defineProperty("+e+", '"+m+"', {get: function(){return "+v+"}, set: function(val){"+v+" = val}});\n");else a+=e+"."+f.definitions.join(";\n"+e+".")+";\n"}for(h={},d=0,u=this.methods.length;u>d;++d)p=this.methods[d],f=h[p.name],m=p.name+"$"+p.params.params.length,v=!!p.params.methodArgsParam,f?(++f,m+="_"+f):f=1,p.methodId=m,h[p.name]=f,p.isStatic?(n+=p,n+="$p.addMethod("+t+", '"+p.name+"', "+m+", "+v+");\n"):a+=p,a+="$p.addMethod("+e+", '"+p.name+"', "+m+", "+v+");\n";for(a+=s(this.misc.tail),0<this.cstrs.length&&(a+=this.cstrs.join("\n")+"\n"),a+="function $constr() {\n",h=[],d=0,u=this.cstrs.length;u>d;++d)p=this.cstrs[d].params.params.length,h.push("if(arguments.length "+(this.cstrs[d].params.methodArgsParam?">=":"===")+" "+p+") { $constr_"+p+".apply("+e+", arguments); }");return 0<h.length&&(a+=h.join(" else ")+" else "),a+="$superCstr();\n}\n",a+="$constr.apply(null, arguments);\n",ut=l,"(function() {\nfunction "+t+"() {\n"+a+"}\n"+n+i+"return "+t+";\n})()"},pt=function(e,a,s,n){e=e.substring(1,e.length-1),e=u(e),e=h(e,a);var r=[],o=[],c=[],l=[];e=e.replace(/"([DEGH])(\d+)"/g,function(e,t,a){return"D"===t?r.push(a):"E"===t?o.push(a):"H"===t?l.push(a):c.push(a),""}),e=e.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var d,p;for(s!==i&&(d=s.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")),n!==i&&(p=n.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)),s=0;s<l.length;++s)l[s]=C($t[l[s]]);for(s=0;s<r.length;++s)r[s]=V($t[r[s]]);for(s=0;s<e.length-1;++s)n=t(e[s]),e[s]=G(n.middle);for(n=e.pop(),s=0;s<c.length;++s)c[s]=U($t[c[s]]);for(s=0;s<o.length;++s)o[s]=z($t[o[s]]);return new X(a,d,p,l,r,e,c,o,{tail:n})},K.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},Z.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"},W.prototype.toString=function(){var e=n({},this.params.getNames()),t=ut;ut=function(a){return e.hasOwnProperty(a.name)?a.name:t(a)};var a=this.params.prependMethodArgs(this.body.toString()),a="function "+this.name+this.params+" "+a+"\n$p."+this.name+" = "+this.name+";\n"+this.name+" = "+this.name+".bind($p);";return ut=t,a},J.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},et.prototype.toString=function(){return this.misc.prefix+this.argument.toString()},tt.prototype.toString=function(){var e=this.misc.prefix;return this.argument!==i&&(e+=this.argument.toString()),e},at.prototype.toString=function(){return"case "+this.expr+":"},st.prototype.toString=function(){return this.label},vt=function(e,a,n){var r=RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g),o=[];e=e.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");for(var c,l,d=0;null!==(c=r.exec(e));){if(c[1]!==i)l=e.lastIndexOf('"B',r.lastIndex),d=e.substring(d,l),"for"===c[1]?o.push(new J(I($t[c[2]]),{prefix:d})):"catch"===c[1]?o.push(new et(m($t[c[2]]),{prefix:d})):o.push(new tt(c[1],gt($t[c[2]]),{prefix:d}));else if(c[3]!==i)o.push(new tt(c[3],i,{prefix:e.substring(d,r.lastIndex)}));else if(c[4]!==i){if(l=e.substring(d,r.lastIndex-c[4].length),0!==s(l).length)continue;o.push(l),d=c[4].charAt(1),c=c[5],"D"===d?o.push(a($t[c])):"E"===d?o.push(n($t[c])):"H"===d?o.push(C($t[c])):o.push(mt($t[c]))}else if(c[6]!==i)o.push(new at(gt(s(c[7]))));else if(c[8]!==i){if(l=e.substring(d,r.lastIndex-c[8].length),0!==s(l).length)continue;o.push(new st(e.substring(d,r.lastIndex)))}else c=t(e.substring(d,r.lastIndex-1)),o.push(c.left),o.push(D(c.middle)),o.push(c.right+";");d=r.lastIndex}return a=t(e.substring(d)),o.push(a.left),""!==a.middle&&(o.push(D(a.middle)),o.push(";"+a.right)),o},it.prototype.toString=function(){var e=nt(this.statements),t=ut;c(e)||(ut=function(a){return e.hasOwnProperty(a.name)?a.name:t(a)});var a="{\n"+this.statements.join("")+"\n}";return ut=t,a},mt=function(e){return e=t(e.substring(1,e.length-1)),new it(vt(e.middle))},rt.prototype.toString=function(){for(var e,t=[],a=[],s=0,n=this.statements.length;n>s;++s)e=this.statements[s],e instanceof Z||e instanceof K?t.push(e):a.push(e);L(t);var i=nt(this.statements);return ut=function(e){return e=e.name,i.hasOwnProperty(e)?e:ot.hasOwnProperty(e)||o.hasOwnProperty(e)||r.hasOwnProperty(e)?"$p."+e:e},t="// this code was autogenerated from PJS\n(function($p) {\n"+t.join("")+"\n"+a.join("")+"\n})",ut=null,t},e=function(){var e=u($t[0]),e=e.replace(/\bimport\s+[^;]+;/g,"");return new rt(vt(e,Q,Y))}(),function(e){function t(e,t){for(var a,n=t.split("."),r=e.scope;r;){if(r.hasOwnProperty(n[0])){a=r[n[0]];break}r=r.scope}a===i&&(a=s[n[0]]);for(var r=1,o=n.length;o>r&&a;++r)a=a.inScope[n[r]];return a}var a,s={};for(a in bt)if(bt.hasOwnProperty(a)){e=bt[a];var n=e.scopeId,r=e.name;n?(n=bt[n],e.scope=n,n.inScope===i&&(n.inScope={}),n.inScope[r]=e):s[r]=e}for(a in bt)if(bt.hasOwnProperty(a)){e=bt[a],(r=e.body.baseClassName)&&(r=t(e,r))&&(e.base=r,r.derived||(r.derived=[]),r.derived.push(e));var o,c,r=e.body.interfacesNames,n=[];if(r&&0<r.length){for(o=0,c=r.length;c>o;++o){var l=t(e,r[o]);n.push(l),l&&(l.derived||(l.derived=[]),l.derived.push(e))}0<n.length&&(e.interfaces=n)}}}(e),function(e){function t(e,t){var a=i[e];if(!a)return!1;var s=a.indexOf(t);return 0>s?!1:(a.splice(s,1),0<a.length?!1:(delete i[e],!0))}e=[];var a,s,n,i={};for(a in bt)if(bt.hasOwnProperty(a))if(n=bt[a],n.inScope||n.derived){var r=[];if(n.inScope)for(s in n.inScope)n.inScope.hasOwnProperty(s)&&r.push(n.inScope[s]);n.derived&&(r=r.concat(n.derived)),i[a]=r}else e.push(a),n.weight=0;for(;0<e.length;)if(a=e.shift(),n=bt[a],n.scopeId&&t(n.scopeId,n)&&(e.push(n.scopeId),bt[n.scopeId].weight=n.weight+1),n.base&&t(n.base.classId,n)&&(e.push(n.base.classId),n.base.weight=n.weight+1),n.interfaces)for(a=0,s=n.interfaces.length;s>a;++a)n.interfaces[a]&&t(n.interfaces[a].classId,n)&&(e.push(n.interfaces[a].classId),n.interfaces[a].weight=n.weight+1)}(e),e=e.toString(),e=e.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n"),e=e.replace(/__x([0-9A-F]{4})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),function(e,t){return e.replace(/'(\d+)'/g,function(e,a){var s=t[a];return"/"===s.charAt(0)?s:/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(s)?"(new $p.Character("+s+"))":s})}(e,ct)}function n(e,t){var a=RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g).exec(e);if(a&&2===a.length)for(var s=[],a=a.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(e,t){return s.push(t),"{"+(s.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";"),n=function(e){return e.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")},i=0,r=a.length;r>i;i++){var o=a[i].split("=");if(o&&2===o.length){var c=n(o[0]),l=n(o[1]),o=[];if("preload"===c)for(o=l.split(","),c=0,l=o.length;l>c;c++){var d=n(o[c]);t.imageCache.add(d)}else if("font"===c)for(o=l.split(","),c=0,l=o.length;l>c;c++){var d=n(o[c]),u=/^\{(\d*?)\}$/.exec(d);PFont.preloading.add(u?JSON.parse("{"+s[u[1]]+"}"):d)}else"pauseOnBlur"===c?t.options.pauseOnBlur="true"===l:"globalKeyEvents"===c?t.options.globalKeyEvents="true"===l:"param-"===c.substring(0,6)?t.params[c.substring(6)]=l:t.options[c]=l}}return e}var i,r=t.defaultScope,o=r.PConstants,c=t.aFunctions,l=t.Browser.document;return e.compile=function(t){var a=new e.Sketch;return t=n(t,a),t=s(t),a.sourceCode=t,a},e.logger=new function(e){var t={BufferMax:200};return t.wrapper=e.createElement("div"),t.wrapper.setAttribute("style","opacity:.75;display:block;position:fixed;bottom:0px;left:0px;right:0px;height:50px;background-color:#aaa"),t.dragger=e.createElement("div"),t.dragger.setAttribute("style","display:block;border:3px black raised;cursor:n-resize;position:absolute;top:0px;left:0px;right:0px;height:5px;background-color:#333"),t.closer=e.createElement("div"),t.closer.onmouseover=function(){t.closer.style.setProperty("background-color","#ccc")},t.closer.onmouseout=function(){t.closer.style.setProperty("background-color","#ddd")},t.closer.innerHTML="&#10006;",t.closer.setAttribute("style","opacity:.5;display:block;border:3px black raised;position:absolute;top:10px;right:30px;height:20px;width:20px;background-color:#ddd;color:#000;line-height:20px;text-align:center;cursor:pointer;"),t.javaconsole=e.createElement("div"),t.javaconsole.setAttribute("style","overflow-x: auto;display:block;position:absolute;left:10px;right:0px;bottom:5px;top:10px;overflow-y:scroll;height:40px;"),t.wrapper.appendChild(t.dragger),t.wrapper.appendChild(t.javaconsole),t.wrapper.appendChild(t.closer),t.dragger.onmousedown=function(a){t.divheight=t.wrapper.style.height,e.selection?e.selection.empty():window.getSelection().removeAllRanges();var s=a.screenY;window.onmousemove=function(e){t.wrapper.style.height=parseFloat(t.divheight)+(s-e.screenY)+"px",t.javaconsole.style.height=parseFloat(t.divheight)+(s-e.screenY)-10+"px"},window.onmouseup=function(a){e.selection?e.selection.empty():window.getSelection().removeAllRanges(),t.wrapper.style.height=parseFloat(t.divheight)+(s-a.screenY)+"px",t.javaconsole.style.height=parseFloat(t.divheight)+(s-a.screenY)-10+"px",window.onmousemove=null,window.onmouseup=null}},t.BufferArray=[],t.print=t.log=function(e){t.BufferArray[t.BufferArray.length-1]?t.BufferArray[t.BufferArray.length-1]+=e+"":t.BufferArray.push(e),t.javaconsole.innerHTML=t.BufferArray.join(""),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible"),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible")},t.println=function(a){e.body.appendChild(t.wrapper),t.print(a),t.BufferArray.push("<br/>"),t.javaconsole.innerHTML=t.BufferArray.join(""),"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible"),t.BufferArray.length>t.BufferMax?t.BufferArray.splice(0,1):t.javaconsole.scrollTop=t.javaconsole.scrollHeight,"hidden"===t.wrapper.style.visibility&&(t.wrapper.style.visibility="visible")},t.showconsole=function(){t.wrapper.style.visibility="visible"},t.hideconsole=function(){t.wrapper.style.visibility="hidden"},t.closer.onclick=function(){t.hideconsole()},t.hideconsole(),t}(l),e}},{}],26:[function(e,t){t.exports=function(e,t){function a(e,t){return e in c?c[e]:"function"==typeof c[t]?c[t]:function(e){if(e instanceof Array)return e;if("number"==typeof e){var t=[];return t.length=e,t}}}var s=e.defaultScope,n=e.extend,i=e.Browser,r=i.ajax,o=i.navigator,c=i.window,l=i.document,d=e.noop,u=s.PConstants;PFont=s.PFont,PShapeSVG=s.PShapeSVG,PVector=s.PVector,Char=Character=s.Char,ObjectIterator=s.ObjectIterator,XMLElement=s.XMLElement,XML=s.XML;var h=c.HTMLCanvasElement,p=c.HTMLImageElement,f=c.localStorage;l.head||(l.head=l.getElementsByTagName("head")[0]);var m=a("Float32Array","WebGLFloatArray"),v=a("Int32Array","WebGLIntArray"),g=a("Uint16Array","WebGLUnsignedShortArray"),$=a("Uint8Array","WebGLUnsignedByteArray");if(9<=l.documentMode&&!l.doctype)throw"The doctype directive is missing. The recommended doctype in Internet Explorer is the HTML5 doctype: <!DOCTYPE html>";var b=[],C={},x=this.Processing=function(e,a,i){function y(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,a),rt.push({elem:e,type:t,fn:a})}function w(e,a,s,n){var i=Ia.locations[e];i===t&&(i=ct.getUniformLocation(a,s),Ia.locations[e]=i),null!==i&&(4===n.length?ct.uniform4fv(i,n):3===n.length?ct.uniform3fv(i,n):2===n.length?ct.uniform2fv(i,n):ct.uniform1f(i,n))}function k(e,a,s,n){var i=Ia.locations[e];i===t&&(i=ct.getUniformLocation(a,s),Ia.locations[e]=i),null!==i&&(4===n.length?ct.uniform4iv(i,n):3===n.length?ct.uniform3iv(i,n):2===n.length?ct.uniform2iv(i,n):ct.uniform1i(i,n))}function _(e,a,s,n,i){var r=Ia.locations[e];r===t&&(r=ct.getUniformLocation(a,s),Ia.locations[e]=r),-1!==r&&(16===i.length?ct.uniformMatrix4fv(r,n,i):9===i.length?ct.uniformMatrix3fv(r,n,i):ct.uniformMatrix2fv(r,n,i))}function E(e,a,s,n,i){var r=Ia.attributes[e];r===t&&(r=ct.getAttribLocation(a,s),Ia.attributes[e]=r),-1!==r&&(ct.bindBuffer(ct.ARRAY_BUFFER,i),ct.vertexAttribPointer(r,n,ct.FLOAT,!1,0,0),ct.enableVertexAttribArray(r))}function A(e,a,s){var n=Ia.attributes[e];n===t&&(n=ct.getAttribLocation(a,s),Ia.attributes[e]=n),-1!==n&&ct.disableVertexAttribArray(n)}function R(e,t,a,s){return Ta===u.HSB?(a=ot.color.toRGB(e,t,a),e=a[0],t=a[1],a=a[2]):(e=Math.round(255*(e/ka)),t=Math.round(255*(t/_a)),a=Math.round(255*(a/Ea))),s=Math.round(255*(s/wa)),e=0>e?0:e,t=0>t?0:t,a=0>a?0:a,s=0>s?0:s,(s>255?255:s)<<24&u.ALPHA_MASK|(e>255?255:e)<<16&u.RED_MASK|(t>255?255:t)<<8&u.GREEN_MASK|(a>255?255:a)&u.BLUE_MASK}function T(e){if(ka>=e&&e>=0){if(Ta===u.RGB)return R(e,e,e,wa);if(Ta===u.HSB)return R(0,0,e/ka*Ea,wa)}return e?(e>2147483647&&(e-=4294967296),e):void 0}function S(e){var t,a,s;t=((e&u.RED_MASK)>>>16)/255,a=((e&u.GREEN_MASK)>>>8)/255,s=(e&u.BLUE_MASK)/255,e=ot.max(ot.max(t,a),s);var n=ot.min(ot.min(t,a),s);return n===e?[0,0,e*Ea]:(t=(t===e?(a-s)/(e-n):a===e?2+(s-t)/(e-n):4+(t-a)/(e-n))/6,0>t?t+=1:t>1&&(t-=1),[t*ka,(e-n)/e*_a,e*Ea])}function D(){ct.restore(),Qt=aa=!0}function P(){var e=(Date.now()-Ma)/1e3;Fa++;var t=Fa/e;e>.5&&(Ma=Date.now(),Fa=0,ot.__frameRate=t),ot.frameCount++}function M(e){return e=parseInt("0x"+e,16),e>2147483647&&(e-=4294967296),e}function F(e){return"number"==typeof e?0!==e:"boolean"==typeof e?e:"string"==typeof e?"true"===e.toLowerCase():e instanceof Char?49===e.code||84===e.code||116===e.code:void 0}function I(e){return"number"==typeof e?e:"boolean"==typeof e?e?1:0:"string"==typeof e?parseFloat(e):e instanceof Char?e.code:void 0}function L(e,t){return"number"==typeof e?4294967295&e:"boolean"==typeof e?e?1:0:"string"==typeof e?4294967295&parseInt(e,t||10):e instanceof Char?e.code:void 0}function N(){Zt&&(Qt&&(ct.fillStyle=ot.color.toString(Wt),Qt=!1),ct.fill())}function O(){Jt&&(aa&&(ct.strokeStyle=ot.color.toString(ta),aa=!1),ct.stroke())}function z(){N(),O(),ct.closePath()}function q(e,a,s){var n=Ws.shift();n===t&&(n={},n.canvas=l.createElement("canvas"),n.context=n.canvas.getContext("2d")),Ws.push(n);var i=n.canvas,r=n.context;return a=a||e.width,s=s||e.height,i.width=a,i.height=s,e?"data"in e?r.putImageData(e,0,0):(r.clearRect(0,0,a,s),r.drawImage(e,0,0,a,s)):r.clearRect(0,0,a,s),n}function V(e){return{getLength:function(e){return function(){if(e.isRemote)throw"Image is loaded remotely. Cannot get length.";return e.imageData.data.length?e.imageData.data.length/4:0}}(e),getPixel:function(e){return function(t){t*=4;var a=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";return a[t+3]<<24&u.ALPHA_MASK|a[t]<<16&u.RED_MASK|a[t+1]<<8&u.GREEN_MASK|a[t+2]&u.BLUE_MASK}}(e),setPixel:function(e){return function(t,a){var s=4*t,n=e.imageData.data;if(e.isRemote)throw"Image is loaded remotely. Cannot set pixel.";n[s+0]=(a&u.RED_MASK)>>>16,n[s+1]=(a&u.GREEN_MASK)>>>8,n[s+2]=a&u.BLUE_MASK,n[s+3]=(a&u.ALPHA_MASK)>>>24,e.__isDirty=!0}}(e),toArray:function(e){return function(){var t=[],a=e.imageData.data,s=e.width*e.height;if(e.isRemote)throw"Image is loaded remotely. Cannot get pixels.";for(var n=0,i=0;s>n;n++,i+=4)t.push(a[i+3]<<24&u.ALPHA_MASK|a[i]<<16&u.RED_MASK|a[i+1]<<8&u.GREEN_MASK|a[i+2]&u.BLUE_MASK);return t}}(e),set:function(e){return function(t){var a,s,n;if(this.isRemote)throw"Image is loaded remotely. Cannot set pixels.";s=e.imageData.data;for(var i=0,r=t.length;r>i;i++)n=t[i],a=4*i,s[a+0]=(n&u.RED_MASK)>>>16,s[a+1]=(n&u.GREEN_MASK)>>>8,s[a+2]=n&u.BLUE_MASK,s[a+3]=(n&u.ALPHA_MASK)>>>24;e.__isDirty=!0}}(e)}}function B(e,t,a,s){var n=new Qs(a,s,u.ARGB);return n.fromImageData(ot.toImageData(e,t,a,s)),n}function G(e,t,a,s,n){if(n.isRemote)throw"Image is loaded remotely. Cannot get x,y,w,h.";var i=new Qs(a,s,u.ARGB),r=i.imageData.data,o=n.width,c=n.height;n=n.imageData.data;var l=Math.max(0,-t),d=Math.max(0,-e);for(s=Math.min(s,c-t),c=Math.min(a,o-e);s>l;++l)for(var h=4*((t+l)*o+(e+d)),p=4*(l*a+d),f=d;c>f;++f)r[p++]=n[h++],r[p++]=n[h++],r[p++]=n[h++],r[p++]=n[h++];return i.__isDirty=!0,i}function j(){Ya&&(ct=Ot,Ya=!1,ot.updatePixels())}function U(){function e(e,t){e[t]=function(){j(),ct[t].apply(ct,arguments)}}function t(e,t){ot.defineProperty(e,t,{get:function(){return j(),ct[t]},set:function(e){j(),ct[t]=e}})}for(var a in ct)"function"==typeof ct[a]?e(this,a):t(this,a)}function H(e){return e instanceof String?e:"number"==typeof e?e===(0|e)?e.toString():ot.nf(e,0,3):null===e||e===t?"":e.toString()}function X(e,t,a,s){var n;0>e.indexOf("\n")?(e=[e],n=1):(e=e.split(/\r?\n/g),n=e.length);var i=0;Va===u.TOP?i=Ua+Ha:Va===u.CENTER?i=Ua/2-(n-1)*Xa/2:Va===u.BOTTOM&&(i=-(Ha+(n-1)*Xa));for(var r=0;n>r;++r)dt.text$line(e[r],t,a+i,s,qa),i+=Xa}function K(e,t,a,s,n,i){if(0!==e.length&&0!==s&&0!==n&&!(ja>n)){for(var r=-1,o=0,c=0,l=[],d=0,h=e.length;h>d;d++){var p=e[d],f=" "===p,m=Ka.measureTextWidth(p);if("\n"!==p&&s>=c+m)f&&(r=d),c+=m;else{if(r+1===o){if(!(d>0))return;r=d}"\n"===p?(l.push({text:e.substring(o,d),width:c}),o=d+1):(l.push({text:e.substring(o,r+1),width:c}),o=r+1),c=0,d=o-1}}for(h>o&&l.push({text:e.substring(o),width:c}),e=1,r=Ua,qa===u.CENTER?e=s/2:qa===u.RIGHT&&(e=s),s=l.length,o=Math.min(s,Math.floor(n/Xa)),Va===u.TOP?r=Ua+Ha:Va===u.CENTER?r=n/2-Xa*(o/2-1):Va===u.BOTTOM&&(r=Ha+Xa),o=0;s>o&&(d=o*Xa,!(r+d>n-Ha));o++)c=l[o],dt.text$line(c.text,t+e,a+r+d,i,qa)}}function Z(e){dt="3D"===e?new Os:"2D"===e?new Ns:new zs;for(var t in zs.prototype)zs.prototype.hasOwnProperty(t)&&0>t.indexOf("$")&&(ot[t]=dt[t]);dt.$init()}function Y(e){return function(){return Z("2D"),dt[e].apply(this,arguments)}}function W(e){switch(e=e.which||e.keyCode){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return e}function Q(e){return"function"==typeof e.preventDefault?e.preventDefault():"function"==typeof e.stopPropagation&&e.stopPropagation(),!1}function J(){for(var e in Qa)if(Qa.hasOwnProperty(e))return ot.__keyPressed=!0,void 0;ot.__keyPressed=!1}function et(e,t){Qa[e]=t,Ja=null,ot.key=t,ot.keyCode=e,ot.keyPressed(),ot.keyCode=0,ot.keyTyped(),J()}function tt(e){var t=W(e);if(t===u.DELETE)et(t,new Char(127));else{if(!(0>es.indexOf(t))){var a=new Char(u.CODED);return ot.key=a,ot.keyCode=t,Qa[t]=a,ot.keyPressed(),Ja=null,J(),Q(e)}Ja=t}}function at(e){if(null!==Ja){var t,a=Ja;t=e.which||e.keyCode;var s=e.shiftKey||e.ctrlKey||e.altKey||e.metaKey;switch(t){case 13:t=s?13:10;break;case 8:t=s?127:8}return t=new Char(t),et(a,t),Q(e)}}function st(e){e=W(e);var a=Qa[e];a!==t&&(ot.key=a,ot.keyCode=e,ot.keyReleased(),delete Qa[e],J())}if(!(this instanceof x))throw"called Processing constructor as if it were a function: missing 'new'.";var nt={},it=e===t&&a===t,nt=it?l.createElement("canvas"):"string"==typeof e?l.getElementById(e):e;if(!("getContext"in nt))throw"called Processing constructor without passing canvas element reference or id.";var rt=[],ot=this;ot.Char=ot.Character=Char,n.withCommonFunctions(ot),n.withMath(ot),n.withProxyFunctions(ot,function(e){return Array.prototype.slice.call(e,1)}),n.withTouch(ot,nt,y,l,u),i&&Object.keys(i).forEach(function(e){ot[e]=i[e]}),ot.externals={canvas:nt,context:t,sketch:t,window:c},ot.name="Processing.js Instance",ot.use3DContext=!1,ot.focused=!1,ot.breakShape=!1,ot.glyphTable={},ot.pmouseX=0,ot.pmouseY=0,ot.mouseX=0,ot.mouseY=0,ot.mouseButton=0,ot.mouseScroll=0,ot.mouseClicked=t,ot.mouseDragged=t,ot.mouseMoved=t,ot.mousePressed=t,ot.mouseReleased=t,ot.mouseScrolled=t,ot.mouseOver=t,ot.mouseOut=t,ot.touchStart=t,ot.touchEnd=t,ot.touchMove=t,ot.touchCancel=t,ot.key=t,ot.keyCode=t,ot.keyPressed=d,ot.keyReleased=d,ot.keyTyped=d,ot.draw=t,ot.setup=t,ot.__mousePressed=!1,ot.__keyPressed=!1,ot.__frameRate=60,ot.frameCount=0,ot.width=100,ot.height=100;var ct,lt,dt,ut,ht,pt,ft,mt,vt,gt,$t,bt,Ct,xt,yt,wt,kt,_t,Et,At,Rt,Tt,St,Dt,Pt,Mt,Ft,It,Lt,Nt,Ot,zt,qt,Vt,Bt,Gt,jt,Ut,Ht,Xt,Kt,Zt=!0,Yt=[1,1,1,1],Wt=4294967295,Qt=!0,Jt=!0,ea=[0,0,0,1],ta=4278190080,aa=!0,sa=1,na=!1,ia=!1,ra=!0,oa=0,ca=u.CORNER,la=u.CENTER,da=0,ua=0,ha=0,pa=u.NORMAL_MODE_AUTO,fa=60,ma=1e3/fa,va=nt.style.cursor,ga=u.POLYGON,$a=0,ba=20,Ca=!1,xa=-3355444,ya=20,wa=255,ka=255,_a=255,Ea=255,Aa=0,Ra=0,Ta=u.RGB,Sa=null,Da=null,Pa=Date.now(),Ma=Pa,Fa=0,Ia={attributes:{},locations:{}},La=0,Na=0,Oa=u.IMAGE,za=!1,qa=u.LEFT,Va=u.BASELINE,Ba=u.MODEL,Ga="Arial",ja=12,Ua=9,Ha=2,Xa=14,Ka=PFont.get(Ga,ja),Za=null,Ya=!1,Wa=1e3,Qa=[],Ja=null,es=[u.SHIFT,u.CONTROL,u.ALT,u.CAPSLK,u.PGUP,u.PGDN,u.END,u.HOME,u.LEFT,u.UP,u.RIGHT,u.DOWN,u.NUMLK,u.INSERT,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.META],ts=0,as=0,ss=0,ns=[],is=[],rs=[],os=new m(u.SINCOS_LENGTH),cs=new m(u.SINCOS_LENGTH),ls=!1,ds=60*(Math.PI/180),us=ot.width/2,hs=ot.height/2,ps=hs/Math.tan(ds/2),fs=ps/10,ms=10*ps,vs=ot.width/ot.height,gs=[],$s=[],bs=0,Cs=!1,xs=!1,ys=!0,ws=u.CORNER,ks=[],_s=new m([.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5]),Es=new m([.5,.5,.5,.5,-.5,.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5]),As=new m([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]),Rs=new m([0,0,0,0,1,0,1,1,0,1,0,0]),Ts=new m([0,0,1,0,0,1,0,0,1,0,0,1]),Ss="varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec3 aNormal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 uColor;uniform bool uUsingMat;uniform vec3 uSpecular;uniform vec3 uMaterialEmissive;uniform vec3 uMaterialAmbient;uniform vec3 uMaterialSpecular;uniform float uShininess;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform mat4 uNormalTransform;uniform int uLightCount;uniform vec3 uFalloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light uLights0;uniform Light uLights1;uniform Light uLights2;uniform Light uLights3;uniform Light uLights4;uniform Light uLights5;uniform Light uLights6;uniform Light uLights7;Light getLight(int index){  if(index == 0) return uLights0;  if(index == 1) return uLights1;  if(index == 2) return uLights2;  if(index == 3) return uLights3;  if(index == 4) return uLights4;  if(index == 5) return uLights5;  if(index == 6) return uLights6;  return uLights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerFactor = pow( nDotVH, uShininess );  }  col += light.color * nDotVP;  spec += uSpecular * powerFactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerFactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerFactor = 0.0;  }  else {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerFactor = 0.0;  vec3 VP = light.position - ecPos;  vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( uFalloff[0] + ( uFalloff[1] * d ) + ( uFalloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(/Windows/.test(o.userAgent)?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ) );  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ) );  if( nDotVP != 0.0 ) {    powerFactor = pow( nDotHV, uShininess );  }  spec += uSpecular * powerFactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0 );  vec3 finalDiffuse = vec3( 0.0 );  vec3 finalSpecular = vec3( 0.0 );  vec4 col = uColor;  if ( uColor[0] == -1.0 ){    col = aColor;  }  vec3 norm = normalize(vec3( uNormalTransform * vec4( aNormal, 0.0 ) ));  vec4 ecPos4 = uView * uModel * vec4(aVertex, 1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( uLightCount == 0 ) {    vFrontColor = col + vec4(uMaterialSpecular, 1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= uLightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( uUsingMat == false ) {     vFrontColor = vec4(       vec3( col ) * finalAmbient +       vec3( col ) * finalDiffuse +       vec3( col ) * finalSpecular,       col[3] );   }   else{     vFrontColor = vec4(        uMaterialEmissive +        (vec3(col) * uMaterialAmbient * finalAmbient ) +        (vec3(col) * finalDiffuse) +        (uMaterialSpecular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = uProjection * uView * uModel * vec4( aVertex, 1.0 );}",Ds=function(e,t,a){var s=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(s,t),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw e.getShaderInfoLog(s);if(t=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(t,a),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))throw e.getShaderInfoLog(t);if(a=e.createProgram(),e.attachShader(a,s),e.attachShader(a,t),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw"Error linking shaders.";return a},Ps=function(e,t,a,s){return{x:e,y:t,w:a,h:s}},Ms=Ps,Fs=function(e,t,a,s,n){return{x:e,y:t,w:n?a:a-e,h:n?s:s-t}},Is=function(e,t,a,s){return{x:e-a/2,y:t-s/2,w:a,h:s}},Ls=function(){},Ns=function(){},Os=function(){},zs=function(){};Ns.prototype=new Ls,Ns.prototype.constructor=Ns,Os.prototype=new Ls,Os.prototype.constructor=Os,zs.prototype=new Ls,zs.prototype.constructor=zs,Ls.prototype.a3DOnlyFunction=d,ot.shape=function(e,t,a,s,n){1<=arguments.length&&null!==arguments[0]&&e.isVisible()&&(ot.pushMatrix(),ws===u.CENTER?5===arguments.length?(ot.translate(t-s/2,a-n/2),ot.scale(s/e.getWidth(),n/e.getHeight())):3===arguments.length?ot.translate(t-e.getWidth()/2,-e.getHeight()/2):ot.translate(-e.getWidth()/2,-e.getHeight()/2):ws===u.CORNER?5===arguments.length?(ot.translate(t,a),ot.scale(s/e.getWidth(),n/e.getHeight())):3===arguments.length&&ot.translate(t,a):ws===u.CORNERS&&(5===arguments.length?(s-=t,n-=a,ot.translate(t,a),ot.scale(s/e.getWidth(),n/e.getHeight())):3===arguments.length&&ot.translate(t,a)),e.draw(ot),(1===arguments.length&&ws===u.CENTER||1<arguments.length)&&ot.popMatrix())},ot.shapeMode=function(e){ws=e},ot.loadShape=function(e){return 1===arguments.length&&-1<e.indexOf(".svg")?new PShapeSVG(null,e):null},ot.loadXML=function(e){return new XML(ot,e)};var qs=function(e){for(var t=0,a=0;a<e.length;a++)t=0!==a?Math.max(t,Math.abs(e[a])):Math.abs(e[a]);return e=(t+"").indexOf("."),0===e?e=1:-1===e&&(e=(t+"").length),e},Vs=ot.PMatrix2D=function(){0===arguments.length?this.reset():1===arguments.length&&arguments[0]instanceof Vs?this.set(arguments[0].array()):6===arguments.length&&this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])};Vs.prototype={set:function(){if(6===arguments.length){var e=arguments;this.set([e[0],e[1],e[2],e[3],e[4],e[5]])}else 1===arguments.length&&arguments[0]instanceof Vs?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Vs;return e.set(this.elements),e},reset:function(){this.set([1,0,0,0,1,0])},array:function(){return this.elements.slice()},translate:function(e,t){this.elements[2]=e*this.elements[0]+t*this.elements[1]+this.elements[2],this.elements[5]=e*this.elements[3]+t*this.elements[4]+this.elements[5]},invTranslate:function(e,t){this.translate(-e,-t)},transpose:function(){},mult:function(e,t){var a,s;return e instanceof PVector?(a=e.x,s=e.y,t||(t=new PVector)):e instanceof Array&&(a=e[0],s=e[1],t||(t=[])),t instanceof Array?(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2],t[1]=this.elements[3]*a+this.elements[4]*s+this.elements[5]):t instanceof PVector&&(t.x=this.elements[0]*a+this.elements[1]*s+this.elements[2],t.y=this.elements[3]*a+this.elements[4]*s+this.elements[5],t.z=0),t},multX:function(e,t){return e*this.elements[0]+t*this.elements[1]+this.elements[2]},multY:function(e,t){return e*this.elements[3]+t*this.elements[4]+this.elements[5]},skewX:function(e){this.apply(1,0,1,e,0,0)},skewY:function(e){this.apply(1,0,1,0,e,0)},shearX:function(e){this.apply(1,0,1,Math.tan(e),0,0)},shearY:function(e){this.apply(1,0,1,0,Math.tan(e),0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var e=this.determinant();if(Math.abs(e)>u.MIN_INT){var t=this.elements[0],a=this.elements[1],s=this.elements[2],n=this.elements[3],i=this.elements[4],r=this.elements[5];return this.elements[0]=i/e,this.elements[3]=-n/e,this.elements[1]=-a/e,this.elements[4]=t/e,this.elements[2]=(a*r-i*s)/e,this.elements[5]=(n*s-t*r)/e,!0}return!1},scale:function(e,t){e&&!t&&(t=e),e&&t&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[3]*=e,this.elements[4]*=t)},invScale:function(e,t){e&&!t&&(t=e),this.scale(1/e,1/t)},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Vs?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,this.elements[2],0,0,this.elements[5]],a=0,s=0;2>s;s++)for(var n=0;3>n;n++,a++)t[a]+=this.elements[3*s+0]*e[n+0]+this.elements[3*s+1]*e[n+3];this.elements=t.slice()},preApply:function(){var e;
1===arguments.length&&arguments[0]instanceof Vs?e=arguments[0].array():6===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);var t=[0,0,e[2],0,0,e[5]];t[2]=e[2]+this.elements[2]*e[0]+this.elements[5]*e[1],t[5]=e[5]+this.elements[2]*e[3]+this.elements[5]*e[4],t[0]=this.elements[0]*e[0]+this.elements[3]*e[1],t[3]=this.elements[0]*e[3]+this.elements[3]*e[4],t[1]=this.elements[1]*e[0]+this.elements[4]*e[1],t[4]=this.elements[1]*e[3]+this.elements[4]*e[4],this.elements=t.slice()},rotate:function(e){var t=Math.cos(e);e=Math.sin(e);var a=this.elements[0],s=this.elements[1];this.elements[0]=t*a+e*s,this.elements[1]=-e*a+t*s,a=this.elements[3],s=this.elements[4],this.elements[3]=t*a+e*s,this.elements[4]=-e*a+t*s},rotateZ:function(e){this.rotate(e)},invRotateZ:function(e){this.rotateZ(e-Math.PI)},print:function(){var e=qs(this.elements),e=""+ot.nfs(this.elements[0],e,4)+" "+ot.nfs(this.elements[1],e,4)+" "+ot.nfs(this.elements[2],e,4)+"\n"+ot.nfs(this.elements[3],e,4)+" "+ot.nfs(this.elements[4],e,4)+" "+ot.nfs(this.elements[5],e,4)+"\n\n";ot.println(e)}};var Bs=ot.PMatrix3D=function(){this.reset()};Bs.prototype={set:function(){16===arguments.length?this.elements=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Bs?this.elements=arguments[0].array():1===arguments.length&&arguments[0]instanceof Array&&(this.elements=arguments[0].slice())},get:function(){var e=new Bs;return e.set(this.elements),e},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function(){return this.elements.slice()},translate:function(e,a,s){s===t&&(s=0),this.elements[3]+=e*this.elements[0]+a*this.elements[1]+s*this.elements[2],this.elements[7]+=e*this.elements[4]+a*this.elements[5]+s*this.elements[6],this.elements[11]+=e*this.elements[8]+a*this.elements[9]+s*this.elements[10],this.elements[15]+=e*this.elements[12]+a*this.elements[13]+s*this.elements[14]},transpose:function(){var e=this.elements[4];this.elements[4]=this.elements[1],this.elements[1]=e,e=this.elements[8],this.elements[8]=this.elements[2],this.elements[2]=e,e=this.elements[6],this.elements[6]=this.elements[9],this.elements[9]=e,e=this.elements[3],this.elements[3]=this.elements[12],this.elements[12]=e,e=this.elements[7],this.elements[7]=this.elements[13],this.elements[13]=e,e=this.elements[11],this.elements[11]=this.elements[14],this.elements[14]=e},mult:function(e,t){var a,s,n,i;return e instanceof PVector?(a=e.x,s=e.y,n=e.z,i=1,t||(t=new PVector)):e instanceof Array&&(a=e[0],s=e[1],n=e[2],i=e[3]||1,!t||3!==t.length&&4!==t.length)&&(t=[0,0,0]),t instanceof Array&&(3===t.length?(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3],t[1]=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7],t[2]=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]):4===t.length&&(t[0]=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3]*i,t[1]=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7]*i,t[2]=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]*i,t[3]=this.elements[12]*a+this.elements[13]*s+this.elements[14]*n+this.elements[15]*i)),t instanceof PVector&&(t.x=this.elements[0]*a+this.elements[1]*s+this.elements[2]*n+this.elements[3],t.y=this.elements[4]*a+this.elements[5]*s+this.elements[6]*n+this.elements[7],t.z=this.elements[8]*a+this.elements[9]*s+this.elements[10]*n+this.elements[11]),t},preApply:function(){var e;1===arguments.length&&arguments[0]instanceof Bs?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,s=0;4>s;s++)for(var n=0;4>n;n++,a++)t[a]+=this.elements[n+0]*e[4*s+0]+this.elements[n+4]*e[4*s+1]+this.elements[n+8]*e[4*s+2]+this.elements[n+12]*e[4*s+3];this.elements=t.slice()},apply:function(){var e;1===arguments.length&&arguments[0]instanceof Bs?e=arguments[0].array():16===arguments.length?e=Array.prototype.slice.call(arguments):1===arguments.length&&arguments[0]instanceof Array&&(e=arguments[0]);for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,s=0;4>s;s++)for(var n=0;4>n;n++,a++)t[a]+=this.elements[4*s+0]*e[n+0]+this.elements[4*s+1]*e[n+4]+this.elements[4*s+2]*e[n+8]+this.elements[4*s+3]*e[n+12];this.elements=t.slice()},rotate:function(e,t,a,s){if(4>arguments.length)this.rotateZ(e);else{var n=new PVector(t,a,s),i=n.mag();if(0!==i){1!=i&&(n.normalize(),t=n.x,a=n.y,s=n.z);var n=ot.cos(e),i=ot.sin(e),r=1-n;this.apply(r*t*t+n,r*t*a-i*s,r*t*s+i*a,0,r*t*a+i*s,r*a*a+n,r*a*s-i*t,0,r*t*s-i*a,r*a*s+i*t,r*s*s+n,0,0,0,0,1)}}},invApply:function(){Xt===t&&(Xt=new Bs);var e=arguments;return Xt.set(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),Xt.invert()?(this.preApply(Xt),!0):!1},rotateX:function(e){var t=ot.cos(e);e=ot.sin(e),this.apply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},rotateY:function(e){var t=ot.cos(e);e=ot.sin(e),this.apply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},rotateZ:function(e){var t=Math.cos(e);e=Math.sin(e),this.apply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},scale:function(e,t,a){!e||t||a?e&&t&&!a&&(a=1):t=a=e,e&&t&&a&&(this.elements[0]*=e,this.elements[1]*=t,this.elements[2]*=a,this.elements[4]*=e,this.elements[5]*=t,this.elements[6]*=a,this.elements[8]*=e,this.elements[9]*=t,this.elements[10]*=a,this.elements[12]*=e,this.elements[13]*=t,this.elements[14]*=a)},skewX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},shearX:function(e){e=Math.tan(e),this.apply(1,e,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},shearY:function(e){e=Math.tan(e),this.apply(1,0,0,0,e,1,0,0,0,0,1,0,0,0,0,1)},multX:function(e,t,a,s){return a?s?this.elements[0]*e+this.elements[1]*t+this.elements[2]*a+this.elements[3]*s:this.elements[0]*e+this.elements[1]*t+this.elements[2]*a+this.elements[3]:this.elements[0]*e+this.elements[1]*t+this.elements[3]},multY:function(e,t,a,s){return a?s?this.elements[4]*e+this.elements[5]*t+this.elements[6]*a+this.elements[7]*s:this.elements[4]*e+this.elements[5]*t+this.elements[6]*a+this.elements[7]:this.elements[4]*e+this.elements[5]*t+this.elements[7]},multZ:function(e,t,a,s){return s?this.elements[8]*e+this.elements[9]*t+this.elements[10]*a+this.elements[11]*s:this.elements[8]*e+this.elements[9]*t+this.elements[10]*a+this.elements[11]},multW:function(e,t,a,s){return s?this.elements[12]*e+this.elements[13]*t+this.elements[14]*a+this.elements[15]*s:this.elements[12]*e+this.elements[13]*t+this.elements[14]*a+this.elements[15]},invert:function(){var e=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4],t=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4],a=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4],s=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5],n=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5],i=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6],r=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12],o=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12],c=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12],l=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13],d=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13],u=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14],h=e*u-t*d+a*l+s*c-n*o+i*r;if(1e-9>=Math.abs(h))return!1;var p=[];return p[0]=+this.elements[5]*u-this.elements[6]*d+this.elements[7]*l,p[4]=-this.elements[4]*u+this.elements[6]*c-this.elements[7]*o,p[8]=+this.elements[4]*d-this.elements[5]*c+this.elements[7]*r,p[12]=-this.elements[4]*l+this.elements[5]*o-this.elements[6]*r,p[1]=-this.elements[1]*u+this.elements[2]*d-this.elements[3]*l,p[5]=+this.elements[0]*u-this.elements[2]*c+this.elements[3]*o,p[9]=-this.elements[0]*d+this.elements[1]*c-this.elements[3]*r,p[13]=+this.elements[0]*l-this.elements[1]*o+this.elements[2]*r,p[2]=+this.elements[13]*i-this.elements[14]*n+this.elements[15]*s,p[6]=-this.elements[12]*i+this.elements[14]*a-this.elements[15]*t,p[10]=+this.elements[12]*n-this.elements[13]*a+this.elements[15]*e,p[14]=-this.elements[12]*s+this.elements[13]*t-this.elements[14]*e,p[3]=-this.elements[9]*i+this.elements[10]*n-this.elements[11]*s,p[7]=+this.elements[8]*i-this.elements[10]*a+this.elements[11]*t,p[11]=-this.elements[8]*n+this.elements[9]*a-this.elements[11]*e,p[15]=+this.elements[8]*s-this.elements[9]*t+this.elements[10]*e,e=1/h,p[0]*=e,p[1]*=e,p[2]*=e,p[3]*=e,p[4]*=e,p[5]*=e,p[6]*=e,p[7]*=e,p[8]*=e,p[9]*=e,p[10]*=e,p[11]*=e,p[12]*=e,p[13]*=e,p[14]*=e,p[15]*=e,this.elements=p.slice(),!0},toString:function(){for(var e="",t=0;15>t;t++)e+=this.elements[t]+", ";return e+=this.elements[15]},print:function(){var e=qs(this.elements),e=""+ot.nfs(this.elements[0],e,4)+" "+ot.nfs(this.elements[1],e,4)+" "+ot.nfs(this.elements[2],e,4)+" "+ot.nfs(this.elements[3],e,4)+"\n"+ot.nfs(this.elements[4],e,4)+" "+ot.nfs(this.elements[5],e,4)+" "+ot.nfs(this.elements[6],e,4)+" "+ot.nfs(this.elements[7],e,4)+"\n"+ot.nfs(this.elements[8],e,4)+" "+ot.nfs(this.elements[9],e,4)+" "+ot.nfs(this.elements[10],e,4)+" "+ot.nfs(this.elements[11],e,4)+"\n"+ot.nfs(this.elements[12],e,4)+" "+ot.nfs(this.elements[13],e,4)+" "+ot.nfs(this.elements[14],e,4)+" "+ot.nfs(this.elements[15],e,4)+"\n\n";ot.println(e)},invTranslate:function(e,t,a){this.preApply(1,0,0,-e,0,1,0,-t,0,0,1,-a,0,0,0,1)},invRotateX:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1])},invRotateY:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1])},invRotateZ:function(e){var t=Math.cos(-e);e=Math.sin(-e),this.preApply([t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1])},invScale:function(e,t,a){this.preApply([1/e,0,0,0,0,1/t,0,0,0,0,1/a,0,0,0,0,1])}};var Gs=ot.PMatrixStack=function(){this.matrixStack=[]};Gs.prototype.load=function(){var e=dt.$newPMatrix();1===arguments.length?e.set(arguments[0]):e.set(arguments),this.matrixStack.push(e)},Ns.prototype.$newPMatrix=function(){return new Vs},Os.prototype.$newPMatrix=function(){return new Bs},Gs.prototype.push=function(){this.matrixStack.push(this.peek())},Gs.prototype.pop=function(){return this.matrixStack.pop()},Gs.prototype.peek=function(){var e=dt.$newPMatrix();return e.set(this.matrixStack[this.matrixStack.length-1]),e},Gs.prototype.mult=function(e){this.matrixStack[this.matrixStack.length-1].apply(e)},ot.split=function(e,t){return e.split(t)},ot.splitTokens=function(e,a){if(a===t)return e.split(/\s+/g);var s,n,i=a.split(/()/g),r="",o=e.length,c=[];for(s=0;o>s;s++)n=e[s],-1<i.indexOf(n)?(""!==r&&c.push(r),r=""):r+=n;return""!==r&&c.push(r),c},ot.append=function(e,t){return e[e.length]=t,e},ot.concat=function(e,t){return e.concat(t)},ot.sort=function(e,t){var a=[];if(0<e.length){for(var s=t>0?t:e.length,n=0;s>n;n++)a.push(e[n]);if("string"==typeof e[0]?a.sort():a.sort(function(e,t){return e-t}),t>0)for(s=a.length;s<e.length;s++)a.push(e[s])}return a},ot.splice=function(e,t,a){if(0===t.length)return e;if(t instanceof Array)for(var s=0;s<t.length;a++,s++)e.splice(a,0,t[s]);else e.splice(a,0,t);return e},ot.subset=function(e,a,s){return e.slice(a,s!==t?a+s:e.length)},ot.join=function(e,t){return e.join(t)},ot.shorten=function(e){for(var t=[],a=e.length,s=0;a>s;s++)t[s]=e[s];return t.pop(),t},ot.expand=function(e,t){var a=e.slice(0);return a.length=t||2*e.length,a},ot.arrayCopy=function(){var e,a,s,n=0,i=0;2===arguments.length?(e=arguments[0],a=arguments[1],s=e.length):3===arguments.length?(e=arguments[0],a=arguments[1],s=arguments[2]):5===arguments.length&&(e=arguments[0],n=arguments[1],a=arguments[2],i=arguments[3],s=arguments[4]);for(var r=n;s+n>r;r++,i++){if(a[i]===t)throw"array index out of bounds exception";a[i]=e[r]}},ot.reverse=function(e){return e.reverse()},ot.mix=function(e,t,a){return e+((t-e)*a>>8)},ot.peg=function(e){return 0>e?0:e>255?255:e},ot.modes=function(){function e(e,t,a,s,n,r,o,c,l,d,u){return e=i(((4278190080&e)>>>24)+t,255)<<24,a+=(l-a)*t>>8,s+=(d-s)*t>>8,t=n+((u-n)*t>>8),e|(0>a?0:a>255?255:a)<<16|(0>s?0:s>255?255:s)<<8|(0>t?0:t>255?255:t)}var t=u.ALPHA_MASK,a=u.RED_MASK,s=u.GREEN_MASK,n=u.BLUE_MASK,i=Math.min,r=Math.max;return{replace:function(e,t){return t},blend:function(e,r){var o=(r&t)>>>24,c=e&a,l=e&s,d=e&n,u=r&a,h=r&s,p=r&n;return i(((e&t)>>>24)+o,255)<<24|c+((u-c)*o>>8)&a|l+((h-l)*o>>8)&s|d+((p-d)*o>>8)&n},add:function(e,r){var o=(r&t)>>>24;return i(((e&t)>>>24)+o,255)<<24|i((e&a)+((r&a)>>8)*o,a)&a|i((e&s)+((r&s)>>8)*o,s)&s|i((e&n)+((r&n)*o>>8),n)},subtract:function(e,o){var c=(o&t)>>>24;return i(((e&t)>>>24)+c,255)<<24|r((e&a)-((o&a)>>8)*c,s)&a|r((e&s)-((o&s)>>8)*c,n)&s|r((e&n)-((o&n)*c>>8),0)},lightest:function(e,o){var c=(o&t)>>>24;return i(((e&t)>>>24)+c,255)<<24|r(e&a,((o&a)>>8)*c)&a|r(e&s,((o&s)>>8)*c)&s|r(e&n,(o&n)*c>>8)},darkest:function(e,r){var o=(r&t)>>>24,c=e&a,l=e&s,d=e&n,u=i(e&a,((r&a)>>8)*o),h=i(e&s,((r&s)>>8)*o),p=i(e&n,(r&n)*o>>8);return i(((e&t)>>>24)+o,255)<<24|c+((u-c)*o>>8)&a|l+((h-l)*o>>8)&s|d+((p-d)*o>>8)&n},difference:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,o>d?o-d:d-o,c>u?c-u:u-c,l>h?l-h:h-l)},exclusion:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,o+d-(o*d>>7),c+u-(c*u>>7),l+h-(l*h>>7))},multiply:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,o*d>>8,c*u>>8,l*h>>8)},screen:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,255-((255-o)*(255-d)>>8),255-((255-c)*(255-u)>>8),255-((255-l)*(255-h)>>8))},hard_light:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,128>d?o*d>>7:255-((255-o)*(255-d)>>7),128>u?c*u>>7:255-((255-c)*(255-u)>>7),128>h?l*h>>7:255-((255-l)*(255-h)>>7))},soft_light:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,(o*d>>7)+(o*o>>8)-(o*o*d>>15),(c*u>>7)+(c*c>>8)-(c*c*u>>15),(l*h>>7)+(l*l>>8)-(l*l*h>>15))},overlay:function(i,r){var o=(i&a)>>16,c=(i&s)>>8,l=i&n,d=(r&a)>>16,u=(r&s)>>8,h=r&n;return e(i,(r&t)>>>24,o,c,l,d,u,h,128>o?o*d>>7:255-((255-o)*(255-d)>>7),128>c?c*u>>7:255-((255-c)*(255-u)>>7),128>l?l*h>>7:255-((255-l)*(255-h)>>7))},dodge:function(i,r){var o=(r&t)>>>24,c=(i&a)>>16,l=(i&s)>>8,d=i&n,u=(r&a)>>16,h=(r&s)>>8,p=r&n,f=255;255!==u&&(f=(c<<8)/(255-u),f=0>f?0:f>255?255:f);var m=255;255!==h&&(m=(l<<8)/(255-h),m=0>m?0:m>255?255:m);var v=255;return 255!==p&&(v=(d<<8)/(255-p),v=0>v?0:v>255?255:v),e(i,o,c,l,d,u,h,p,f,m,v)},burn:function(i,r){var o=(r&t)>>>24,c=(i&a)>>16,l=(i&s)>>8,d=i&n,u=(r&a)>>16,h=(r&s)>>8,p=r&n,f=0;0!==u&&(f=(255-c<<8)/u,f=255-(0>f?0:f>255?255:f));var m=0;0!==h&&(m=(255-l<<8)/h,m=255-(0>m?0:m>255?255:m));var v=0;return 0!==p&&(v=(255-d<<8)/p,v=255-(0>v?0:v>255?255:v)),e(i,o,c,l,d,u,h,p,f,m,v)}}}(),ot.color=function(e,a,s,n){return e!==t&&a!==t&&s!==t&&n!==t?R(e,a,s,n):e!==t&&a!==t&&s!==t?R(e,a,s,wa):e!==t&&a!==t?(e&u.ALPHA_MASK?(a=Math.round(255*(a/wa)),a=a>255?255:a,e=e-(e&u.ALPHA_MASK)+((0>a?0:a)<<24&u.ALPHA_MASK)):e=Ta===u.RGB?R(e,e,e,a):Ta===u.HSB?R(0,0,e/ka*Ea,a):void 0,e):"number"==typeof e?T(e):R(ka,_a,Ea,wa)},ot.color.toString=function(e){return"rgba("+((e&u.RED_MASK)>>>16)+","+((e&u.GREEN_MASK)>>>8)+","+(e&u.BLUE_MASK)+","+((e&u.ALPHA_MASK)>>>24)/255+")"},ot.color.toInt=function(e,t,a,s){return s<<24&u.ALPHA_MASK|e<<16&u.RED_MASK|t<<8&u.GREEN_MASK|a&u.BLUE_MASK},ot.color.toArray=function(e){return[(e&u.RED_MASK)>>>16,(e&u.GREEN_MASK)>>>8,e&u.BLUE_MASK,(e&u.ALPHA_MASK)>>>24]},ot.color.toGLArray=function(e){return[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255,((e&u.ALPHA_MASK)>>>24)/255]},ot.color.toRGB=function(e,t,a){e=e>ka?ka:e,t=t>_a?_a:t,a=a>Ea?Ea:a,e=360*(e/ka),t=100*(t/_a),a=100*(a/Ea);var s=Math.round(255*(a/100));if(0===t)return[s,s,s];e%=360;var n=e%60,i=Math.round(255*(a*(100-t)/1e4)),r=Math.round(255*(a*(6e3-t*n)/6e5));switch(t=Math.round(255*(a*(6e3-t*(60-n))/6e5)),Math.floor(e/60)){case 0:return[s,t,i];case 1:return[r,s,i];case 2:return[i,s,t];case 3:return[i,r,s];case 4:return[t,i,s];case 5:return[s,i,r]}},ot.brightness=function(e){return S(e)[2]},ot.saturation=function(e){return S(e)[1]},ot.hue=function(e){return S(e)[0]},ot.red=function(e){return((e&u.RED_MASK)>>>16)/255*ka},ot.green=function(e){return((e&u.GREEN_MASK)>>>8)/255*_a},ot.blue=function(e){return(e&u.BLUE_MASK)/255*Ea},ot.alpha=function(e){return((e&u.ALPHA_MASK)>>>24)/255*wa},ot.lerpColor=function(e,t,a){var s,n,i,r,o,c;return e=ot.color(e),t=ot.color(t),Ta===u.HSB?(i=S(e),e=((e&u.ALPHA_MASK)>>>24)/wa,n=S(t),t=((t&u.ALPHA_MASK)>>>24)/wa,c=ot.lerp(i[0],n[0],a),s=ot.lerp(i[1],n[1],a),i=ot.lerp(i[2],n[2],a),i=ot.color.toRGB(c,s,i),a=ot.lerp(e,t,a)*wa,a<<24&u.ALPHA_MASK|i[0]<<16&u.RED_MASK|i[1]<<8&u.GREEN_MASK|i[2]&u.BLUE_MASK):(s=(e&u.RED_MASK)>>>16,n=(e&u.GREEN_MASK)>>>8,i=e&u.BLUE_MASK,e=((e&u.ALPHA_MASK)>>>24)/wa,r=(t&u.RED_MASK)>>>16,o=(t&u.GREEN_MASK)>>>8,c=t&u.BLUE_MASK,t=((t&u.ALPHA_MASK)>>>24)/wa,s=0|ot.lerp(s,r,a),n=0|ot.lerp(n,o,a),i=0|ot.lerp(i,c,a),a=ot.lerp(e,t,a)*wa,a<<24&u.ALPHA_MASK|s<<16&u.RED_MASK|n<<8&u.GREEN_MASK|i&u.BLUE_MASK)},ot.colorMode=function(){Ta=arguments[0],1<arguments.length&&(ka=arguments[1],_a=arguments[2]||arguments[1],Ea=arguments[3]||arguments[1],wa=arguments[4]||arguments[1])},ot.blendColor=function(e,t,a){return a===u.REPLACE?ot.modes.replace(e,t):a===u.BLEND?ot.modes.blend(e,t):a===u.ADD?ot.modes.add(e,t):a===u.SUBTRACT?ot.modes.subtract(e,t):a===u.LIGHTEST?ot.modes.lightest(e,t):a===u.DARKEST?ot.modes.darkest(e,t):a===u.DIFFERENCE?ot.modes.difference(e,t):a===u.EXCLUSION?ot.modes.exclusion(e,t):a===u.MULTIPLY?ot.modes.multiply(e,t):a===u.SCREEN?ot.modes.screen(e,t):a===u.HARD_LIGHT?ot.modes.hard_light(e,t):a===u.SOFT_LIGHT?ot.modes.soft_light(e,t):a===u.OVERLAY?ot.modes.overlay(e,t):a===u.DODGE?ot.modes.dodge(e,t):a===u.BURN?ot.modes.burn(e,t):void 0},ot.printMatrix=function(){Gt.print()},Ns.prototype.translate=function(e,t){Gt.translate(e,t),jt.invTranslate(e,t),ct.translate(e,t)},Os.prototype.translate=function(e,t,a){Gt.translate(e,t,a),jt.invTranslate(e,t,a)},Ns.prototype.scale=function(e,t){Gt.scale(e,t),jt.invScale(e,t),ct.scale(e,t||e)},Os.prototype.scale=function(e,t,a){Gt.scale(e,t,a),jt.invScale(e,t,a)},Ns.prototype.transform=function(e){e=e.array(),ct.transform(e[0],e[3],e[1],e[4],e[2],e[5])},Os.prototype.transformm=function(){throw"p.transform is currently not supported in 3D mode"},Ns.prototype.pushMatrix=function(){Ut.load(Gt),Ht.load(jt),ct.save()},Os.prototype.pushMatrix=function(){Ut.load(Gt),Ht.load(jt)},Ns.prototype.popMatrix=function(){Gt.set(Ut.pop()),jt.set(Ht.pop()),D()},Os.prototype.popMatrix=function(){Gt.set(Ut.pop()),jt.set(Ht.pop())},Ns.prototype.resetMatrix=function(){Gt.reset(),jt.reset(),ct.setTransform(1,0,0,1,0,0)},Os.prototype.resetMatrix=function(){Gt.reset(),jt.reset()},Ls.prototype.applyMatrix=function(){var e=arguments;Gt.apply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),jt.invApply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},Ns.prototype.applyMatrix=function(){for(var e=arguments,t=e.length;16>t;t++)e[t]=0;e[10]=e[15]=1,Ls.prototype.applyMatrix.apply(this,e)},ot.rotateX=function(e){Gt.rotateX(e),jt.invRotateX(e)},Ns.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."},Os.prototype.rotateZ=function(e){Gt.rotateZ(e),jt.invRotateZ(e)},ot.rotateY=function(e){Gt.rotateY(e),jt.invRotateY(e)},Ns.prototype.rotate=function(e){Gt.rotateZ(e),jt.invRotateZ(e),ct.rotate(e)},Os.prototype.rotate=function(e){4>arguments.length?ot.rotateZ(e):(Gt.rotate(e,arguments[1],arguments[2],arguments[3]),jt.rotate(-e,arguments[1],arguments[2],arguments[3]))},Ns.prototype.shearX=function(e){Gt.shearX(e),ct.transform(1,0,e,1,0,0)},Os.prototype.shearX=function(e){Gt.shearX(e)},Ns.prototype.shearY=function(e){Gt.shearY(e),ct.transform(1,e,0,1,0,0)},Os.prototype.shearY=function(e){Gt.shearY(e)},ot.pushStyle=function(){ct.save(),ot.pushMatrix(),ks.push({doFill:Zt,currentFillColor:Wt,doStroke:Jt,currentStrokeColor:ta,curTint:Sa,curRectMode:ca,curColorMode:Ta,colorModeX:ka,colorModeZ:Ea,colorModeY:_a,colorModeA:wa,curTextFont:Ka,horizontalTextAlignment:qa,verticalTextAlignment:Va,textMode:Ba,curFontName:Ga,curTextSize:ja,curTextAscent:Ua,curTextDescent:Ha,curTextLeading:Xa})},ot.popStyle=function(){var e=ks.pop();if(!e)throw"Too many popStyle() without enough pushStyle()";D(),ot.popMatrix(),Zt=e.doFill,Wt=e.currentFillColor,Jt=e.doStroke,ta=e.currentStrokeColor,Sa=e.curTint,ca=e.curRectMode,Ta=e.curColorMode,ka=e.colorModeX,Ea=e.colorModeZ,_a=e.colorModeY,wa=e.colorModeA,Ka=e.curTextFont,Ga=e.curFontName,ja=e.curTextSize,qa=e.horizontalTextAlignment,Va=e.verticalTextAlignment,Ba=e.textMode,Ua=e.curTextAscent,Ha=e.curTextDescent,Xa=e.curTextLeading},ot.year=function(){return(new Date).getFullYear()},ot.month=function(){return(new Date).getMonth()+1},ot.day=function(){return(new Date).getDate()},ot.hour=function(){return(new Date).getHours()},ot.minute=function(){return(new Date).getMinutes()},ot.second=function(){return(new Date).getSeconds()},ot.millis=function(){return Date.now()-Pa},Ns.prototype.redraw=function(){P(),ct.lineWidth=sa;var e=ot.pmouseX,t=ot.pmouseY;ot.pmouseX=Aa,ot.pmouseY=Ra,ct.save(),ot.draw(),D(),Aa=ot.mouseX,Ra=ot.mouseY,ot.pmouseX=e,ot.pmouseY=t},Os.prototype.redraw=function(){P();var e=ot.pmouseX,t=ot.pmouseY;ot.pmouseX=Aa,ot.pmouseY=Ra,ct.clear(ct.DEPTH_BUFFER_BIT),Ia={attributes:{},locations:{}},ot.noLights(),ot.lightFalloff(1,0,0),ot.shininess(1),ot.ambient(255,255,255),ot.specular(0,0,0),ot.emissive(0,0,0),ot.camera(),ot.draw(),Aa=ot.mouseX,Ra=ot.mouseY,ot.pmouseX=e,ot.pmouseY=t},ot.noLoop=function(){na=ra=!1,clearInterval(oa),lt.onPause()},ot.loop=function(){na||(Ma=Date.now(),Fa=0,oa=c.setInterval(function(){try{lt.onFrameStart(),ot.redraw(),lt.onFrameEnd()}catch(e){throw c.clearInterval(oa),e}},ma),na=ra=!0,lt.onLoop())},ot.frameRate=function(e){fa=e,ma=1e3/fa,ra&&(ot.noLoop(),ot.loop())},ot.exit=function(){c.clearInterval(oa);var e=ot.externals.canvas.id;b.splice(C[e],1),delete C[e],delete nt.onmousedown;for(var t in x.lib)x.lib.hasOwnProperty(t)&&x.lib[t].hasOwnProperty("detach")&&x.lib[t].detach(ot);for(e=rt.length;e--;){var a=rt[e];t=a.elem;var s=a.type,a=a.fn;t.removeEventListener?t.removeEventListener(s,a,!1):t.detachEvent&&t.detachEvent("on"+s,a)}lt.onExit()},ot.cursor=function(){if(1<arguments.length||1===arguments.length&&arguments[0]instanceof ot.PImage){var e,t,a=arguments[0];if(3<=arguments.length){if(e=arguments[1],t=arguments[2],0>e||0>t||t>=a.height||e>=a.width)throw"x and y must be non-negative and less than the dimensions of the image"}else e=a.width>>>1,t=a.height>>>1;a='url("'+a.toDataURL()+'") '+e+" "+t+", default",nt.style.cursor=a}else nt.style.cursor=1===arguments.length?arguments[0]:va},ot.noCursor=function(){nt.style.cursor=u.NOCURSOR},ot.link=function(e,a){a!==t?c.open(e,a):c.location=e},ot.beginDraw=d,ot.endDraw=d,Ns.prototype.toImageData=function(e,a,s,n){return e=e!==t?e:0,a=a!==t?a:0,s=s!==t?s:ot.width,n=n!==t?n:ot.height,ct.getImageData(e,a,s,n)},Os.prototype.toImageData=function(e,a,s,n){e=e!==t?e:0,a=a!==t?a:0,s=s!==t?s:ot.width,n=n!==t?n:ot.height;var i=l.createElement("canvas").getContext("2d").createImageData(s,n),r=new $(4*s*n);ct.readPixels(e,a,s,n,ct.RGBA,ct.UNSIGNED_BYTE,r),e=0,a=r.length;for(var o=i.data;a>e;e++)o[e]=r[4*(n-1-Math.floor(e/4/s))*s+e%(4*s)];return i},ot.status=function(e){c.status=e},ot.binary=function(e,t){var a;if(t>0)a=t;else if(e instanceof Char)a=16,e|=0;else for(a=32;a>1&&!(1&e>>>a-1);)a--;for(var s="";a>0;)s+=1&e>>>--a?"1":"0";return s},ot.unbinary=function(e){for(var t=e.length-1,a=1,s=0;t>=0;){var n=e[t--];if("0"!==n&&"1"!==n)throw"the value passed into unbinary was not an 8 bit binary number";"1"===n&&(s+=a),a<<=1}return s},ot.hex=function(e,a){1===arguments.length&&(a=e instanceof Char?4:8);var s=e,n=a,n=n===t||null===n?n=8:n;for(0>s&&(s=4294967295+s+1),s=Number(s).toString(16).toUpperCase();s.length<n;)s="0"+s;return s.length>=n&&(s=s.substring(s.length-n,s.length)),s},ot.unhex=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(M(e[a]));return t}return M(e)},ot.loadStrings=function(e){return f[e]?f[e].split("\n"):(e=r(e),"string"!=typeof e||""===e?[]:(e=e.replace(/(\r\n?)/g,"\n").replace(/\n$/,""),e.split("\n")))},ot.saveStrings=function(e,t){f[e]=t.join("\n")},ot.loadBytes=function(e){e=r(e);for(var t=[],a=0;a<e.length;a++)t.push(e.charCodeAt(a));return t},ot.matchAll=function(e,t){for(var a,s=[],n=RegExp(t,"g");null!==(a=n.exec(e));)s.push(a),0===a[0].length&&++n.lastIndex;return 0<s.length?s:null},ot.match=function(e,t){return e.match(t)},ot.println=function(e){x.logger.println(e)},ot.print=function(e){x.logger.print(e)},ot.str=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(e[a].toString()+"");return t}return e.toString()+""},ot.parseBoolean=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(F(e[a]));return t}return F(e)},ot.parseByte=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(0-(128&e[a])|127&e[a]);return t}return 0-(128&e)|127&e},ot.parseChar=function(e){if("number"==typeof e)return new Char(String.fromCharCode(65535&e));if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(new Char(String.fromCharCode(65535&e[a])));return t}throw"char() may receive only one argument of type int, byte, int[], or byte[]."},ot.parseFloat=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(I(e[a]));return t}return I(e)},ot.parseInt=function(e,t){if(e instanceof Array){for(var a=[],s=0;s<e.length;s++)"string"!=typeof e[s]||/^\s*[+\-]?\d+\s*$/.test(e[s])?a.push(L(e[s],t)):a.push(0);return a}return L(e,t)},ot.__int_cast=function(e){return 0|e},ot.__instanceof=function(e,t){if("function"!=typeof t)throw"Function is expected as type argument for instanceof operator";if("string"==typeof e)return t===Object||t===String;if(e instanceof t)return!0;if("object"!=typeof e||null===e)return!1;var a=e.constructor;if(t.$isInterface){for(var s=[];a;)a.$interfaces&&(s=s.concat(a.$interfaces)),a=a.$base;for(;0<s.length;){if(a=s.shift(),a===t)return!0;a.$interfaces&&(s=s.concat(a.$interfaces))}return!1}for(;a.hasOwnProperty("$base");)if(a=a.$base,a===t)return!0;return!1},Ls.prototype.size=function(e,t,a){Jt&&ot.stroke(0),Zt&&ot.fill(255),a={fillStyle:ct.fillStyle,strokeStyle:ct.strokeStyle,lineCap:ct.lineCap,lineJoin:ct.lineJoin},0<nt.style.length&&(nt.style.removeProperty("width"),nt.style.removeProperty("height")),nt.width=ot.width=e||100,nt.height=ot.height=t||100;for(var s in a)a.hasOwnProperty(s)&&(ct[s]=a[s]);for(ot.textFont(Ka),ot.background(),Wa=Math.max(1e3,.05*e*t),ot.externals.context=ct,e=0;e<u.SINCOS_LENGTH;e++)os[e]=ot.sin(.5*e*(u.PI/180)),cs[e]=ot.cos(.5*e*(u.PI/180))},Ns.prototype.size=function(){ct===t&&(ct=nt.getContext("2d"),Ut=new Gs,Ht=new Gs,Gt=new Vs,jt=new Vs),Ls.prototype.size.apply(this,arguments)},Os.prototype.size=function(){var e=!1;return function(t,a){if(e)throw"Multiple calls to size() for 3D renders are not allowed.";e=!0;try{nt.width=ot.width=t||100,nt.height=ot.height=a||100;for(var s,n=nt,i=["experimental-webgl","webgl","webkit-3d"],r=0,o=i.length;o>r&&!(s=n.getContext(i[r],{antialias:!1,preserveDrawingBuffer:!0}));r++);ct=s,Mt=ct.createTexture(),Ft=ct.createTexture()}catch(c){x.debug(c)}if(!ct)throw"WebGL context is not supported on this browser.";ct.viewport(0,0,nt.width,nt.height),ct.enable(ct.DEPTH_TEST),ct.enable(ct.BLEND),ct.blendFunc(ct.SRC_ALPHA,ct.ONE_MINUS_SRC_ALPHA),bt=Ds(ct,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec2 aTextureCoord;uniform vec4 uColor;uniform mat4 uModel;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = uPointSize;  vFrontColor = uColor;  gl_Position = uProjection * uView * uModel * vec4(aVertex, 1.0);  vTextureCoord = aTextureCoord;}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int uIsDrawingText;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  if(uIsDrawingText == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(vFrontColor.rgb * alpha, alpha);  }  else{    gl_FragColor = vFrontColor;  }}"),Ct=Ds(ct,"varying vec4 vFrontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float uPointSize;void main(void) {  vFrontColor = aColor;  gl_PointSize = uPointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform bool uSmooth;void main(void){  if(uSmooth == true){    float dist = distance(gl_PointCoord, vec2(0.5));    if(dist > 0.5){      discard;    }  }  gl_FragColor = vFrontColor;}"),ot.strokeWeight(1),$t=Ds(ct,Ss,"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 vFrontColor;uniform sampler2D uSampler;uniform bool uUsingTexture;varying vec2 vTexture;void main(void){  if( uUsingTexture ){    gl_FragColor = vec4(texture2D(uSampler, vTexture.xy)) * vFrontColor;  }  else{    gl_FragColor = vFrontColor;  }}"),ct.useProgram($t),k("usingTexture3d",$t,"usingTexture",za),ot.lightFalloff(1,0,0),ot.shininess(1),ot.ambient(255,255,255),ot.specular(0,0,0),ot.emissive(0,0,0),xt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,xt),ct.bufferData(ct.ARRAY_BUFFER,_s,ct.STATIC_DRAW),yt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,yt),ct.bufferData(ct.ARRAY_BUFFER,As,ct.STATIC_DRAW),wt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,wt),ct.bufferData(ct.ARRAY_BUFFER,Es,ct.STATIC_DRAW),kt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,kt),ct.bufferData(ct.ARRAY_BUFFER,Rs,ct.STATIC_DRAW),_t=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,_t),ct.bufferData(ct.ARRAY_BUFFER,Ts,ct.STATIC_DRAW),Et=ct.createBuffer(),At=ct.createBuffer(),Rt=ct.createBuffer(),Tt=ct.createBuffer(),St=ct.createBuffer(),Pt=ct.createBuffer(),Dt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,Dt),ct.bufferData(ct.ARRAY_BUFFER,new m([0,0,0]),ct.STATIC_DRAW),It=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,It),ct.bufferData(ct.ARRAY_BUFFER,new m([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),ct.STATIC_DRAW),Lt=ct.createBuffer(),ct.bindBuffer(ct.ARRAY_BUFFER,Lt),ct.bufferData(ct.ARRAY_BUFFER,new m([0,0,1,0,1,1,0,1]),ct.STATIC_DRAW),Nt=ct.createBuffer(),ct.bindBuffer(ct.ELEMENT_ARRAY_BUFFER,Nt),ct.bufferData(ct.ELEMENT_ARRAY_BUFFER,new g([0,1,2,2,3,0]),ct.STATIC_DRAW),Vt=new Bs,Bt=new Bs,Gt=new Bs,jt=new Bs,Kt=new Bs,ot.camera(),ot.perspective(),Ut=new Gs,Ht=new Gs,ht=new Bs,pt=new Bs,ft=new Bs,mt=new Bs,vt=new Bs,gt=new Bs,gt.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0),Ls.prototype.size.apply(this,arguments)}}(),Ns.prototype.ambientLight=Ls.prototype.a3DOnlyFunction,Os.prototype.ambientLight=function(e,t,a,s,n,i){if(ts===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";s=new PVector(s,n,i),n=new Bs,n.scale(1,-1,1),n.apply(Gt.array()),n.mult(s,s),e=R(e,t,a,0),e=[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ct.useProgram($t),w("uLights.color.3d."+ts,$t,"uLights"+ts+".color",e),w("uLights.position.3d."+ts,$t,"uLights"+ts+".position",s.array()),k("uLights.type.3d."+ts,$t,"uLights"+ts+".type",0),k("uLightCount3d",$t,"uLightCount",++ts)},Ns.prototype.directionalLight=Ls.prototype.a3DOnlyFunction,Os.prototype.directionalLight=function(e,t,a,s,n,i){if(ts===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";
ct.useProgram($t);var r=new Bs;r.scale(1,-1,1),r.apply(Gt.array()),r=r.array(),s=[r[0]*s+r[4]*n+r[8]*i,r[1]*s+r[5]*n+r[9]*i,r[2]*s+r[6]*n+r[10]*i],e=R(e,t,a,0),w("uLights.color.3d."+ts,$t,"uLights"+ts+".color",[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255]),w("uLights.position.3d."+ts,$t,"uLights"+ts+".position",s),k("uLights.type.3d."+ts,$t,"uLights"+ts+".type",1),k("uLightCount3d",$t,"uLightCount",++ts)},Ns.prototype.lightFalloff=Ls.prototype.a3DOnlyFunction,Os.prototype.lightFalloff=function(e,t,a){ct.useProgram($t),w("uFalloff3d",$t,"uFalloff",[e,t,a])},Ns.prototype.lightSpecular=Ls.prototype.a3DOnlyFunction,Os.prototype.lightSpecular=function(e,t,a){e=R(e,t,a,0),e=[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ct.useProgram($t),w("uSpecular3d",$t,"uSpecular",e)},ot.lights=function(){ot.ambientLight(128,128,128),ot.directionalLight(128,128,128,0,0,-1),ot.lightFalloff(1,0,0),ot.lightSpecular(0,0,0)},Ns.prototype.pointLight=Ls.prototype.a3DOnlyFunction,Os.prototype.pointLight=function(e,t,a,s,n,i){if(ts===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";s=new PVector(s,n,i),n=new Bs,n.scale(1,-1,1),n.apply(Gt.array()),n.mult(s,s),e=R(e,t,a,0),e=[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255],ct.useProgram($t),w("uLights.color.3d."+ts,$t,"uLights"+ts+".color",e),w("uLights.position.3d."+ts,$t,"uLights"+ts+".position",s.array()),k("uLights.type.3d."+ts,$t,"uLights"+ts+".type",2),k("uLightCount3d",$t,"uLightCount",++ts)},Ns.prototype.noLights=Ls.prototype.a3DOnlyFunction,Os.prototype.noLights=function(){ts=0,ct.useProgram($t),k("uLightCount3d",$t,"uLightCount",ts)},Ns.prototype.spotLight=Ls.prototype.a3DOnlyFunction,Os.prototype.spotLight=function(e,t,a,s,n,i,r,o,c,l,d){if(ts===u.MAX_LIGHTS)throw"can only create "+u.MAX_LIGHTS+" lights";ct.useProgram($t),s=new PVector(s,n,i),n=new Bs,n.scale(1,-1,1),n.apply(Gt.array()),n.mult(s,s),n=n.array(),r=[n[0]*r+n[4]*o+n[8]*c,n[1]*r+n[5]*o+n[9]*c,n[2]*r+n[6]*o+n[10]*c],e=R(e,t,a,0),w("uLights.color.3d."+ts,$t,"uLights"+ts+".color",[((e&u.RED_MASK)>>>16)/255,((e&u.GREEN_MASK)>>>8)/255,(e&u.BLUE_MASK)/255]),w("uLights.position.3d."+ts,$t,"uLights"+ts+".position",s.array()),w("uLights.direction.3d."+ts,$t,"uLights"+ts+".direction",r),w("uLights.concentration.3d."+ts,$t,"uLights"+ts+".concentration",d),w("uLights.angle.3d."+ts,$t,"uLights"+ts+".angle",l),k("uLights.type.3d."+ts,$t,"uLights"+ts+".type",3),k("uLightCount3d",$t,"uLightCount",++ts)},Ns.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"},Os.prototype.beginCamera=function(){if(ls)throw"You cannot call beginCamera() again before calling endCamera()";ls=!0,Gt=Bt,jt=Vt},Ns.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"},Os.prototype.endCamera=function(){if(!ls)throw"You cannot call endCamera() before calling beginCamera()";Gt.set(Vt),jt.set(Bt),ls=!1},ot.camera=function(e,a,s,n,i,r,o,c,l){e===t&&(us=ot.width/2,hs=ot.height/2,ps=hs/Math.tan(ds/2),e=us,a=hs,s=ps,n=us,i=hs,o=r=0,c=1,l=0),n=new PVector(e-n,a-i,s-r);var d=new PVector(o,c,l);n.normalize(),l=PVector.cross(d,n),d=PVector.cross(n,l),l.normalize(),d.normalize(),o=l.x,c=l.y,l=l.z,i=d.x,r=d.y;var d=d.z,u=n.x,h=n.y;n=n.z,Vt.set(o,c,l,0,i,r,d,0,u,h,n,0,0,0,0,1),Vt.translate(-e,-a,-s),Bt.reset(),Bt.invApply(o,c,l,0,i,r,d,0,u,h,n,0,0,0,0,1),Bt.translate(e,a,s),Gt.set(Vt),jt.set(Bt)},ot.perspective=function(e,t,a,s){0===arguments.length&&(hs=nt.height/2,ps=hs/Math.tan(ds/2),fs=ps/10,ms=10*ps,vs=ot.width/ot.height,e=ds,t=vs,a=fs,s=ms);var n,i;n=a*Math.tan(e/2),i=-n,ot.frustum(i*t,n*t,i,n,a,s)},Ns.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"},Os.prototype.frustum=function(e,t,a,s,n,i){Kt=new Bs,Kt.set(2*n/(t-e),0,(t+e)/(t-e),0,0,2*n/(s-a),(s+a)/(s-a),0,0,0,-(i+n)/(i-n),-(2*i*n)/(i-n),0,0,-1,0),e=new Bs,e.set(Kt),e.transpose(),ct.useProgram(bt),_("projection2d",bt,"uProjection",!1,e.array()),ct.useProgram($t),_("projection3d",$t,"uProjection",!1,e.array()),ct.useProgram(Ct),_("uProjectionUS",Ct,"uProjection",!1,e.array())},ot.ortho=function(e,t,a,s,n,i){0===arguments.length&&(e=0,t=ot.width,a=0,s=ot.height,n=-10,i=10);var r=2/(t-e),o=2/(s-a),c=-2/(i-n),l=-(t+e)/(t-e),d=-(s+a)/(s-a),u=-(i+n)/(i-n);Kt=new Bs,Kt.set(r,0,0,l,0,o,0,d,0,0,c,u,0,0,0,1),r=new Bs,r.set(Kt),r.transpose(),ct.useProgram(bt),_("projection2d",bt,"uProjection",!1,r.array()),ct.useProgram($t),_("projection3d",$t,"uProjection",!1,r.array()),ct.useProgram(Ct),_("uProjectionUS",Ct,"uProjection",!1,r.array())},ot.printProjection=function(){Kt.print()},ot.printCamera=function(){Vt.print()},Ns.prototype.box=Ls.prototype.a3DOnlyFunction,Os.prototype.box=function(e,t,a){t&&a||(t=a=e);var s=new Bs;s.scale(e,t,a),e=new Bs,e.scale(1,-1,1),e.apply(Gt.array()),e.transpose(),Zt&&(ct.useProgram($t),_("model3d",$t,"uModel",!1,s.array()),_("view3d",$t,"uView",!1,e.array()),ct.enable(ct.POLYGON_OFFSET_FILL),ct.polygonOffset(1,1),w("color3d",$t,"uColor",Yt),ts>0?(t=new Bs,t.set(e),a=new Bs,a.set(s),t.mult(a),a=new Bs,a.set(t),a.invert(),a.transpose(),_("uNormalTransform3d",$t,"uNormalTransform",!1,a.array()),E("aNormal3d",$t,"aNormal",3,yt)):A("aNormal3d",$t,"aNormal"),E("aVertex3d",$t,"aVertex",3,xt),A("aColor3d",$t,"aColor"),A("aTexture3d",$t,"aTexture"),ct.drawArrays(ct.TRIANGLES,0,_s.length/3),ct.disable(ct.POLYGON_OFFSET_FILL)),sa>0&&Jt&&(ct.useProgram(bt),_("uModel2d",bt,"uModel",!1,s.array()),_("uView2d",bt,"uView",!1,e.array()),w("uColor2d",bt,"uColor",ea),k("uIsDrawingText2d",bt,"uIsDrawingText",!1),E("vertex2d",bt,"aVertex",3,wt),A("aTextureCoord2d",bt,"aTextureCoord"),ct.drawArrays(ct.LINES,0,Es.length/3))},ot.sphereDetail=function(e,t){var a;if(1===arguments.length&&(e=t=arguments[0]),3>e&&(e=3),2>t&&(t=2),e!==ss||t!==as){var s=u.SINCOS_LENGTH/e,n=new m(e),i=new m(e);for(a=0;e>a;a++)n[a]=cs[0|a*s%u.SINCOS_LENGTH],i[a]=os[0|a*s%u.SINCOS_LENGTH];a=e*(t-1)+2,s=0,ns=new m(a),is=new m(a),rs=new m(a);var r=.5*u.SINCOS_LENGTH/t,o=r;for(a=1;t>a;a++){for(var c=os[0|o%u.SINCOS_LENGTH],l=-cs[0|o%u.SINCOS_LENGTH],d=0;e>d;d++)ns[s]=n[d]*c,is[s]=l,rs[s++]=i[d]*c;o+=r}for(ss=e,as=t,qt=[],n=0;ss>n;n++)qt.push(0),qt.push(-1),qt.push(0),qt.push(ns[n]),qt.push(is[n]),qt.push(rs[n]);for(qt.push(0),qt.push(-1),qt.push(0),qt.push(ns[0]),qt.push(is[0]),qt.push(rs[0]),r=0,n=2;as>n;n++){for(i=a=r,s=r+=ss,o=0;ss>o;o++)qt.push(ns[i]),qt.push(is[i]),qt.push(rs[i++]),qt.push(ns[s]),qt.push(is[s]),qt.push(rs[s++]);i=a,s=r,qt.push(ns[i]),qt.push(is[i]),qt.push(rs[i]),qt.push(ns[s]),qt.push(is[s]),qt.push(rs[s])}for(n=0;ss>n;n++)s=r+n,qt.push(ns[s]),qt.push(is[s]),qt.push(rs[s]),qt.push(0),qt.push(1),qt.push(0);qt.push(ns[r]),qt.push(is[r]),qt.push(rs[r]),qt.push(0),qt.push(1),qt.push(0),ct.bindBuffer(ct.ARRAY_BUFFER,Et),ct.bufferData(ct.ARRAY_BUFFER,new m(qt),ct.STATIC_DRAW)}},Ns.prototype.sphere=Ls.prototype.a3DOnlyFunction,Os.prototype.sphere=function(e){(3>ss||2>as)&&ot.sphereDetail(30);var t=new Bs;if(t.scale(e,e,e),e=new Bs,e.scale(1,-1,1),e.apply(Gt.array()),e.transpose(),Zt){if(ts>0){var a=new Bs;a.set(e);var s=new Bs;s.set(t),a.mult(s),s=new Bs,s.set(a),s.invert(),s.transpose(),_("uNormalTransform3d",$t,"uNormalTransform",!1,s.array()),E("aNormal3d",$t,"aNormal",3,Et)}else A("aNormal3d",$t,"aNormal");ct.useProgram($t),A("aTexture3d",$t,"aTexture"),_("uModel3d",$t,"uModel",!1,t.array()),_("uView3d",$t,"uView",!1,e.array()),E("aVertex3d",$t,"aVertex",3,Et),A("aColor3d",$t,"aColor"),ct.enable(ct.POLYGON_OFFSET_FILL),ct.polygonOffset(1,1),w("uColor3d",$t,"uColor",Yt),ct.drawArrays(ct.TRIANGLE_STRIP,0,qt.length/3),ct.disable(ct.POLYGON_OFFSET_FILL)}sa>0&&Jt&&(ct.useProgram(bt),_("uModel2d",bt,"uModel",!1,t.array()),_("uView2d",bt,"uView",!1,e.array()),E("aVertex2d",bt,"aVertex",3,Et),A("aTextureCoord2d",bt,"aTextureCoord"),w("uColor2d",bt,"uColor",ea),k("uIsDrawingText",bt,"uIsDrawingText",!1),ct.drawArrays(ct.LINE_STRIP,0,qt.length/3))},ot.modelX=function(e,t,a){var s=Gt.array(),n=Bt.array(),i=s[0]*e+s[1]*t+s[2]*a+s[3],r=s[4]*e+s[5]*t+s[6]*a+s[7],o=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],e=n[0]*i+n[1]*r+n[2]*o+n[3]*t,n=n[12]*i+n[13]*r+n[14]*o+n[15]*t,0!==n?e/n:e},ot.modelY=function(e,t,a){var s=Gt.array(),n=Bt.array(),i=s[0]*e+s[1]*t+s[2]*a+s[3],r=s[4]*e+s[5]*t+s[6]*a+s[7],o=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],e=n[4]*i+n[5]*r+n[6]*o+n[7]*t,n=n[12]*i+n[13]*r+n[14]*o+n[15]*t,0!==n?e/n:e},ot.modelZ=function(e,t,a){var s=Gt.array(),n=Bt.array(),i=s[0]*e+s[1]*t+s[2]*a+s[3],r=s[4]*e+s[5]*t+s[6]*a+s[7],o=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],e=n[8]*i+n[9]*r+n[10]*o+n[11]*t,n=n[12]*i+n[13]*r+n[14]*o+n[15]*t,0!==n?e/n:e},Ns.prototype.ambient=Ls.prototype.a3DOnlyFunction,Os.prototype.ambient=function(e,t,a){ct.useProgram($t),k("uUsingMat3d",$t,"uUsingMat",!0),e=ot.color(e,t,a),w("uMaterialAmbient3d",$t,"uMaterialAmbient",ot.color.toGLArray(e).slice(0,3))},Ns.prototype.emissive=Ls.prototype.a3DOnlyFunction,Os.prototype.emissive=function(e,t,a){ct.useProgram($t),k("uUsingMat3d",$t,"uUsingMat",!0),e=ot.color(e,t,a),w("uMaterialEmissive3d",$t,"uMaterialEmissive",ot.color.toGLArray(e).slice(0,3))},Ns.prototype.shininess=Ls.prototype.a3DOnlyFunction,Os.prototype.shininess=function(e){ct.useProgram($t),k("uUsingMat3d",$t,"uUsingMat",!0),w("uShininess3d",$t,"uShininess",e)},Ns.prototype.specular=Ls.prototype.a3DOnlyFunction,Os.prototype.specular=function(e,t,a){ct.useProgram($t),k("uUsingMat3d",$t,"uUsingMat",!0),e=ot.color(e,t,a),w("uMaterialSpecular3d",$t,"uMaterialSpecular",ot.color.toGLArray(e).slice(0,3))},ot.screenX=function(e,t,a){var s=Gt.array();if(16===s.length){var n=s[0]*e+s[1]*t+s[2]*a+s[3],i=s[4]*e+s[5]*t+s[6]*a+s[7],r=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],a=Kt.array(),e=a[0]*n+a[1]*i+a[2]*r+a[3]*t,n=a[12]*n+a[13]*i+a[14]*r+a[15]*t,0!==n&&(e/=n),ot.width*(1+e)/2}return Gt.multX(e,t)},ot.screenY=function(e,t,a){var s=Gt.array();if(16===s.length){var n=s[0]*e+s[1]*t+s[2]*a+s[3],i=s[4]*e+s[5]*t+s[6]*a+s[7],r=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],a=Kt.array(),e=a[4]*n+a[5]*i+a[6]*r+a[7]*t,n=a[12]*n+a[13]*i+a[14]*r+a[15]*t,0!==n&&(e/=n),ot.height*(1+e)/2}return Gt.multY(e,t)},ot.screenZ=function(e,t,a){var s=Gt.array();if(16!==s.length)return 0;var n=Kt.array(),i=s[0]*e+s[1]*t+s[2]*a+s[3],r=s[4]*e+s[5]*t+s[6]*a+s[7],o=s[8]*e+s[9]*t+s[10]*a+s[11];return t=s[12]*e+s[13]*t+s[14]*a+s[15],e=n[8]*i+n[9]*r+n[10]*o+n[11]*t,n=n[12]*i+n[13]*r+n[14]*o+n[15]*t,0!==n&&(e/=n),(e+1)/2},Ls.prototype.fill=function(){var e=ot.color.apply(this,arguments);e===Wt&&Zt||(Zt=!0,Wt=e)},Ns.prototype.fill=function(){Ls.prototype.fill.apply(this,arguments),Qt=!0},Os.prototype.fill=function(){Ls.prototype.fill.apply(this,arguments),Yt=ot.color.toGLArray(Wt)},ot.noFill=function(){Zt=!1},Ls.prototype.stroke=function(){var e=ot.color.apply(this,arguments);e===ta&&Jt||(Jt=!0,ta=e)},Ns.prototype.stroke=function(){Ls.prototype.stroke.apply(this,arguments),aa=!0},Os.prototype.stroke=function(){Ls.prototype.stroke.apply(this,arguments),ea=ot.color.toGLArray(ta)},ot.noStroke=function(){Jt=!1},Ls.prototype.strokeWeight=function(e){sa=e},Ns.prototype.strokeWeight=function(e){Ls.prototype.strokeWeight.apply(this,arguments),ct.lineWidth=e},Os.prototype.strokeWeight=function(e){Ls.prototype.strokeWeight.apply(this,arguments),ct.useProgram(bt),w("pointSize2d",bt,"uPointSize",e),ct.useProgram(Ct),w("pointSizeUnlitShape",Ct,"uPointSize",e),ct.lineWidth(e)},ot.strokeCap=function(e){dt.$ensureContext().lineCap=e},ot.strokeJoin=function(e){dt.$ensureContext().lineJoin=e},Ns.prototype.smooth=function(){ia=!0;var e=nt.style;e.setProperty("image-rendering","optimizeQuality","important"),e.setProperty("-ms-interpolation-mode","bicubic","important"),ct.hasOwnProperty("mozImageSmoothingEnabled")&&(ct.mozImageSmoothingEnabled=!0)},Os.prototype.smooth=function(){ia=!0},Ns.prototype.noSmooth=function(){ia=!1;var e=nt.style;e.setProperty("image-rendering","optimizeSpeed","important"),e.setProperty("image-rendering","-moz-crisp-edges","important"),e.setProperty("image-rendering","-webkit-optimize-contrast","important"),e.setProperty("image-rendering","optimize-contrast","important"),e.setProperty("-ms-interpolation-mode","nearest-neighbor","important"),ct.hasOwnProperty("mozImageSmoothingEnabled")&&(ct.mozImageSmoothingEnabled=!1)},Os.prototype.noSmooth=function(){ia=!1},Ns.prototype.point=function(e,t){Jt&&(e=Math.round(e),t=Math.round(t),ct.fillStyle=ot.color.toString(ta),Qt=!0,sa>1?(ct.beginPath(),ct.arc(e,t,sa/2,0,u.TWO_PI,!1),ct.fill()):ct.fillRect(e,t,1,1))},Os.prototype.point=function(e,t,a){var s=new Bs;s.translate(e,t,a||0),s.transpose(),e=new Bs,e.scale(1,-1,1),e.apply(Gt.array()),e.transpose(),ct.useProgram(bt),_("uModel2d",bt,"uModel",!1,s.array()),_("uView2d",bt,"uView",!1,e.array()),sa>0&&Jt&&(w("uColor2d",bt,"uColor",ea),k("uIsDrawingText2d",bt,"uIsDrawingText",!1),k("uSmooth2d",bt,"uSmooth",ia),E("aVertex2d",bt,"aVertex",3,Dt),A("aTextureCoord2d",bt,"aTextureCoord"),ct.drawArrays(ct.POINTS,0,1))},ot.beginShape=function(e){ga=e,gs=[]},Ns.prototype.vertex=function(e,t,a){var s=[];ys&&(ys=!1),s.isVert=!0,s[0]=e,s[1]=t,s[2]=0,s[3]=0,s[4]=0,s[5]=Wt,s[6]=ta,gs.push(s),a&&(gs[gs.length-1].moveTo=a)},Os.prototype.vertex=function(e,a,s,n,i){var r=[];ys&&(ys=!1),r.isVert=!0,i===t&&za&&(i=n,n=s,s=0),n!==t&&i!==t&&(Oa===u.IMAGE&&(n/=La,i/=Na),n=n>1?1:n,n=0>n?0:n,i=i>1?1:i,i=0>i?0:i),r[0]=e,r[1]=a,r[2]=s||0,r[3]=n||0,r[4]=i||0,r[5]=Yt[0],r[6]=Yt[1],r[7]=Yt[2],r[8]=Yt[3],r[9]=ea[0],r[10]=ea[1],r[11]=ea[2],r[12]=ea[3],r[13]=da,r[14]=ua,r[15]=ha,gs.push(r)};var js=function(e,t){var a=new Bs;a.scale(1,-1,1),a.apply(Gt.array()),a.transpose(),ct.useProgram(Ct),_("uViewUS",Ct,"uView",!1,a.array()),k("uSmoothUS",Ct,"uSmooth",ia),E("aVertexUS",Ct,"aVertex",3,Dt),ct.bufferData(ct.ARRAY_BUFFER,new m(e),ct.STREAM_DRAW),E("aColorUS",Ct,"aColor",4,Tt),ct.bufferData(ct.ARRAY_BUFFER,new m(t),ct.STREAM_DRAW),ct.drawArrays(ct.POINTS,0,e.length/3)},Us=function(e,t,a){t="LINES"===t?ct.LINES:"LINE_LOOP"===t?ct.LINE_LOOP:ct.LINE_STRIP;var s=new Bs;s.scale(1,-1,1),s.apply(Gt.array()),s.transpose(),ct.useProgram(Ct),_("uViewUS",Ct,"uView",!1,s.array()),E("aVertexUS",Ct,"aVertex",3,At),ct.bufferData(ct.ARRAY_BUFFER,new m(e),ct.STREAM_DRAW),E("aColorUS",Ct,"aColor",4,St),ct.bufferData(ct.ARRAY_BUFFER,new m(a),ct.STREAM_DRAW),ct.drawArrays(t,0,e.length/3)},Hs=function(e,t,a,s){t="TRIANGLES"===t?ct.TRIANGLES:"TRIANGLE_FAN"===t?ct.TRIANGLE_FAN:ct.TRIANGLE_STRIP;var n=new Bs;n.scale(1,-1,1),n.apply(Gt.array()),n.transpose(),ct.useProgram($t),_("model3d",$t,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),_("view3d",$t,"uView",!1,n.array()),ct.enable(ct.POLYGON_OFFSET_FILL),ct.polygonOffset(1,1),w("color3d",$t,"uColor",[-1,0,0,0]),E("vertex3d",$t,"aVertex",3,Rt),ct.bufferData(ct.ARRAY_BUFFER,new m(e),ct.STREAM_DRAW),za&&null!==Sa&&Da(a),E("aColor3d",$t,"aColor",4,Tt),ct.bufferData(ct.ARRAY_BUFFER,new m(a),ct.STREAM_DRAW),A("aNormal3d",$t,"aNormal"),za&&(k("uUsingTexture3d",$t,"uUsingTexture",za),E("aTexture3d",$t,"aTexture",2,Pt),ct.bufferData(ct.ARRAY_BUFFER,new m(s),ct.STREAM_DRAW)),ct.drawArrays(t,0,e.length/3),ct.disable(ct.POLYGON_OFFSET_FILL)};Ns.prototype.endShape=function(e){if(0!==gs.length){(e=e===u.CLOSE)&&gs.push(gs[0]);var a,s=[],n=[],i=[],r=[];ys=!0;var o,c,l=gs.length;for(o=0;l>o;o++)for(a=gs[o],c=0;3>c;c++)s.push(a[c]);for(o=0;l>o;o++)for(a=gs[o],c=5;9>c;c++)n.push(a[c]);for(o=0;l>o;o++)for(a=gs[o],c=9;13>c;c++)i.push(a[c]);for(o=0;l>o;o++)a=gs[o],r.push(a[3]),r.push(a[4]);if(!Cs||ga!==u.POLYGON&&ga!==t)if(!xs||ga!==u.POLYGON&&ga!==t)if(ga===u.POINTS)for(o=0;l>o;o++)a=gs[o],Jt&&ot.stroke(a[6]),ot.point(a[0],a[1]);else if(ga===u.LINES)for(o=0;l>o+1;o+=2)a=gs[o],Jt&&ot.stroke(gs[o+1][6]),ot.line(a[0],a[1],gs[o+1][0],gs[o+1][1]);else if(ga===u.TRIANGLES)for(o=0;l>o+2;o+=3)a=gs[o],ct.beginPath(),ct.moveTo(a[0],a[1]),ct.lineTo(gs[o+1][0],gs[o+1][1]),ct.lineTo(gs[o+2][0],gs[o+2][1]),ct.lineTo(a[0],a[1]),Zt&&(ot.fill(gs[o+2][5]),N()),Jt&&(ot.stroke(gs[o+2][6]),O()),ct.closePath();else if(ga===u.TRIANGLE_STRIP)for(o=0;l>o+1;o++)a=gs[o],ct.beginPath(),ct.moveTo(gs[o+1][0],gs[o+1][1]),ct.lineTo(a[0],a[1]),Jt&&ot.stroke(gs[o+1][6]),Zt&&ot.fill(gs[o+1][5]),l>o+2&&(ct.lineTo(gs[o+2][0],gs[o+2][1]),Jt&&ot.stroke(gs[o+2][6]),Zt&&ot.fill(gs[o+2][5])),z();else if(ga===u.TRIANGLE_FAN){if(l>2)for(ct.beginPath(),ct.moveTo(gs[0][0],gs[0][1]),ct.lineTo(gs[1][0],gs[1][1]),ct.lineTo(gs[2][0],gs[2][1]),Zt&&(ot.fill(gs[2][5]),N()),Jt&&(ot.stroke(gs[2][6]),O()),ct.closePath(),o=3;l>o;o++)a=gs[o],ct.beginPath(),ct.moveTo(gs[0][0],gs[0][1]),ct.lineTo(gs[o-1][0],gs[o-1][1]),ct.lineTo(a[0],a[1]),Zt&&(ot.fill(a[5]),N()),Jt&&(ot.stroke(a[6]),O()),ct.closePath()}else if(ga===u.QUADS)for(o=0;l>o+3;o+=4){for(a=gs[o],ct.beginPath(),ct.moveTo(a[0],a[1]),c=1;4>c;c++)ct.lineTo(gs[o+c][0],gs[o+c][1]);ct.lineTo(a[0],a[1]),Zt&&(ot.fill(gs[o+3][5]),N()),Jt&&(ot.stroke(gs[o+3][6]),O()),ct.closePath()}else if(ga===u.QUAD_STRIP){if(l>3)for(o=0;l>o+1;o+=2)a=gs[o],ct.beginPath(),l>o+3?(ct.moveTo(gs[o+2][0],gs[o+2][1]),ct.lineTo(a[0],a[1]),ct.lineTo(gs[o+1][0],gs[o+1][1]),ct.lineTo(gs[o+3][0],gs[o+3][1]),Zt&&ot.fill(gs[o+3][5]),Jt&&ot.stroke(gs[o+3][6])):(ct.moveTo(a[0],a[1]),ct.lineTo(gs[o+1][0],gs[o+1][1])),z()}else{for(ct.beginPath(),ct.moveTo(gs[0][0],gs[0][1]),o=1;l>o;o++)a=gs[o],a.isVert&&(a.moveTo?ct.moveTo(a[0],a[1]):ct.lineTo(a[0],a[1]));z()}else{for(ct.beginPath(),o=0;l>o;o++)a=gs[o],gs[o].isVert?gs[o].moveTo?ct.moveTo(a[0],a[1]):ct.lineTo(a[0],a[1]):ct.bezierCurveTo(gs[o][0],gs[o][1],gs[o][2],gs[o][3],gs[o][4],gs[o][5]);z()}else if(l>3){for(s=[],n=1-$a,ct.beginPath(),ct.moveTo(gs[1][0],gs[1][1]),o=1;l>o+2;o++)a=gs[o],s[0]=[a[0],a[1]],s[1]=[a[0]+(n*gs[o+1][0]-n*gs[o-1][0])/6,a[1]+(n*gs[o+1][1]-n*gs[o-1][1])/6],s[2]=[gs[o+1][0]+(n*gs[o][0]-n*gs[o+2][0])/6,gs[o+1][1]+(n*gs[o][1]-n*gs[o+2][1])/6],s[3]=[gs[o+1][0],gs[o+1][1]],ct.bezierCurveTo(s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]);z()}xs=Cs=!1,$s=[],bs=0,e&&gs.pop()}},Os.prototype.endShape=function(e){if(0!==gs.length){var a=e===u.CLOSE;e=[];var s,n=[],i=[],r=[],o=[];ys=!0;var c,l,d=gs.length;for(c=0;d>c;c++)for(s=gs[c],l=0;3>l;l++)n.push(s[l]);for(c=0;d>c;c++)for(s=gs[c],l=5;9>l;l++)i.push(s[l]);for(c=0;d>c;c++)for(s=gs[c],l=9;13>l;l++)r.push(s[l]);for(c=0;d>c;c++)s=gs[c],o.push(s[3]),o.push(s[4]);if(a){for(n.push(gs[0][0]),n.push(gs[0][1]),n.push(gs[0][2]),c=5;9>c;c++)i.push(gs[0][c]);for(c=9;13>c;c++)r.push(gs[0][c]);o.push(gs[0][3]),o.push(gs[0][4])}if(!Cs||ga!==u.POLYGON&&ga!==t)if(!xs||ga!==u.POLYGON&&ga!==t){if(ga===u.POINTS){for(c=0;d>c;c++)for(s=gs[c],l=0;3>l;l++)e.push(s[l]);js(e,r)}else if(ga===u.LINES){for(c=0;d>c;c++)for(s=gs[c],l=0;3>l;l++)e.push(s[l]);for(c=0;d>c;c++)for(s=gs[c],l=5;9>l;l++)i.push(s[l]);Us(e,"LINES",r)}else if(ga===u.TRIANGLES){if(d>2)for(c=0;d>c+2;c+=3){for(n=[],o=[],e=[],i=[],r=[],l=0;3>l;l++)for(a=0;3>a;a++)e.push(gs[c+l][a]),n.push(gs[c+l][a]);for(l=0;3>l;l++)for(a=3;5>a;a++)o.push(gs[c+l][a]);for(l=0;3>l;l++)for(a=5;9>a;a++)i.push(gs[c+l][a]),r.push(gs[c+l][a+4]);Jt&&Us(e,"LINE_LOOP",r),(Zt||za)&&Hs(n,"TRIANGLES",i,o)}}else if(ga===u.TRIANGLE_STRIP){if(d>2)for(c=0;d>c+2;c++){for(e=[],n=[],r=[],i=[],o=[],l=0;3>l;l++)for(a=0;3>a;a++)e.push(gs[c+l][a]),n.push(gs[c+l][a]);for(l=0;3>l;l++)for(a=3;5>a;a++)o.push(gs[c+l][a]);for(l=0;3>l;l++)for(a=5;9>a;a++)r.push(gs[c+l][a+4]),i.push(gs[c+l][a]);(Zt||za)&&Hs(n,"TRIANGLE_STRIP",i,o),Jt&&Us(e,"LINE_LOOP",r)}}else if(ga===u.TRIANGLE_FAN){if(d>2){for(c=0;3>c;c++)for(s=gs[c],l=0;3>l;l++)e.push(s[l]);for(c=0;3>c;c++)for(s=gs[c],l=9;13>l;l++)r.push(s[l]);for(Jt&&Us(e,"LINE_LOOP",r),c=2;d>c+1;c++){for(e=[],r=[],e.push(gs[0][0]),e.push(gs[0][1]),e.push(gs[0][2]),r.push(gs[0][9]),r.push(gs[0][10]),r.push(gs[0][11]),r.push(gs[0][12]),l=0;2>l;l++)for(a=0;3>a;a++)e.push(gs[c+l][a]);for(l=0;2>l;l++)for(a=9;13>a;a++)r.push(gs[c+l][a]);Jt&&Us(e,"LINE_STRIP",r)}(Zt||za)&&Hs(n,"TRIANGLE_FAN",i,o)}}else if(ga===u.QUADS)for(c=0;d>c+3;c+=4){for(e=[],l=0;4>l;l++)for(s=gs[c+l],a=0;3>a;a++)e.push(s[a]);if(Jt&&Us(e,"LINE_LOOP",r),Zt){for(n=[],i=[],o=[],l=0;3>l;l++)n.push(gs[c][l]);for(l=5;9>l;l++)i.push(gs[c][l]);for(l=0;3>l;l++)n.push(gs[c+1][l]);for(l=5;9>l;l++)i.push(gs[c+1][l]);for(l=0;3>l;l++)n.push(gs[c+3][l]);for(l=5;9>l;l++)i.push(gs[c+3][l]);for(l=0;3>l;l++)n.push(gs[c+2][l]);for(l=5;9>l;l++)i.push(gs[c+2][l]);za&&(o.push(gs[c+0][3]),o.push(gs[c+0][4]),o.push(gs[c+1][3]),o.push(gs[c+1][4]),o.push(gs[c+3][3]),o.push(gs[c+3][4]),o.push(gs[c+2][3]),o.push(gs[c+2][4])),Hs(n,"TRIANGLE_STRIP",i,o)}}else if(ga===u.QUAD_STRIP){if(d>3){for(c=0;2>c;c++)for(s=gs[c],l=0;3>l;l++)e.push(s[l]);for(c=0;2>c;c++)for(s=gs[c],l=9;13>l;l++)r.push(s[l]);for(Us(e,"LINE_STRIP",r),d>4&&d%2>0&&(n.splice(n.length-3),gs.pop()),c=0;d>c+3;c+=2){for(e=[],r=[],l=0;3>l;l++)e.push(gs[c+1][l]);for(l=0;3>l;l++)e.push(gs[c+3][l]);for(l=0;3>l;l++)e.push(gs[c+2][l]);for(l=0;3>l;l++)e.push(gs[c+0][l]);for(l=9;13>l;l++)r.push(gs[c+1][l]);for(l=9;13>l;l++)r.push(gs[c+3][l]);for(l=9;13>l;l++)r.push(gs[c+2][l]);for(l=9;13>l;l++)r.push(gs[c+0][l]);Jt&&Us(e,"LINE_STRIP",r)}(Zt||za)&&Hs(n,"TRIANGLE_LIST",i,o)}}else if(1===d){for(l=0;3>l;l++)e.push(gs[0][l]);for(l=9;13>l;l++)r.push(gs[0][l]);js(e,r)}else{for(c=0;d>c;c++){for(s=gs[c],l=0;3>l;l++)e.push(s[l]);for(l=5;9>l;l++)r.push(s[l])}Jt&&a?Us(e,"LINE_LOOP",r):Jt&&!a&&Us(e,"LINE_STRIP",r),(Zt||za)&&Hs(n,"TRIANGLE_FAN",i,o)}za=!1,ct.useProgram($t),k("usingTexture3d",$t,"uUsingTexture",za)}else e=n,e.splice(e.length-3),r.splice(r.length-4),Jt&&Us(e,null,r),Zt&&Hs(n,"TRIANGLES",i);else Jt&&Us(n,null,r),Zt&&Hs(n,null,i);xs=Cs=!1,$s=[],bs=0}};var Xs=function(e,t){var a=1/e,s=a*a,n=s*a;t.set(0,0,0,1,n,s,a,0,6*n,2*s,0,0,6*n,0,0,0)},Ks=function(){ft||(ht=new Bs,ft=new Bs,Ca=!0);var e=$a;ht.set((e-1)/2,(e+3)/2,(-3-e)/2,(1-e)/2,1-e,(-5-e)/2,e+2,(e-1)/2,(e-1)/2,0,(1-e)/2,0,0,1,0,0),Xs(ba,ft),vt||(pt=new Bs),pt.set(ht),pt.preApply(vt),ft.apply(ht)};Ns.prototype.bezierVertex=function(){xs=!0;var e=[];if(ys)throw"vertex() must be used at least once before calling bezierVertex()";for(var t=0;t<arguments.length;t++)e[t]=arguments[t];gs.push(e),gs[gs.length-1].isVert=!1},Os.prototype.bezierVertex=function(){if(xs=!0,ys)throw"vertex() must be used at least once before calling bezierVertex()";if(9===arguments.length){mt===t&&(mt=new Bs);var e=gs.length-1;Xs(ya,mt),mt.apply(gt);for(var a=mt.array(),s=gs[e][0],n=gs[e][1],e=gs[e][2],i=a[4]*s+a[5]*arguments[0]+a[6]*arguments[3]+a[7]*arguments[6],r=a[8]*s+a[9]*arguments[0]+a[10]*arguments[3]+a[11]*arguments[6],o=a[12]*s+a[13]*arguments[0]+a[14]*arguments[3]+a[15]*arguments[6],c=a[4]*n+a[5]*arguments[1]+a[6]*arguments[4]+a[7]*arguments[7],l=a[8]*n+a[9]*arguments[1]+a[10]*arguments[4]+a[11]*arguments[7],d=a[12]*n+a[13]*arguments[1]+a[14]*arguments[4]+a[15]*arguments[7],u=a[4]*e+a[5]*arguments[2]+a[6]*arguments[5]+a[7]*arguments[8],h=a[8]*e+a[9]*arguments[2]+a[10]*arguments[5]+a[11]*arguments[8],a=a[12]*e+a[13]*arguments[2]+a[14]*arguments[5]+a[15]*arguments[8],p=0;ya>p;p++)s+=i,i+=r,r+=o,n+=c,c+=l,l+=d,e+=u,u+=h,h+=a,ot.vertex(s,n,e);ot.vertex(arguments[6],arguments[7],arguments[8])}},ot.texture=function(e){var t=dt.$ensureContext();if(e.__texture)t.bindTexture(t.TEXTURE_2D,e.__texture);else{if("canvas"===e.localName)t.bindTexture(t.TEXTURE_2D,Mt),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.generateMipmap(t.TEXTURE_2D);else{var a,s=t.createTexture(),n=l.createElement("canvas"),i=n.getContext("2d");if(e.width&0===e.width-1)n.width=e.width;else{for(a=1;a<e.width;)a*=2;n.width=a}if(e.height&0===e.height-1)n.height=e.height;else{for(a=1;a<e.height;)a*=2;n.height=a}i.drawImage(e.sourceImg,0,0,e.width,e.height,0,0,n.width,n.height),t.bindTexture(t.TEXTURE_2D,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),e.__texture=s}La=e.width,Na=e.height}za=!0,t.useProgram($t),k("usingTexture3d",$t,"uUsingTexture",za)},ot.textureMode=function(e){Oa=e},Ns.prototype.curveVertex=function(e,t){Cs=!0,ot.vertex(e,t)},Os.prototype.curveVertex=function(e,t,a){Cs=!0,Ca||Ks();var s=[];if(s[0]=e,s[1]=t,s[2]=a,$s.push(s),bs++,bs>3){var n=$s[bs-4][0],i=$s[bs-4][1],r=$s[bs-4][2],o=$s[bs-3][0],c=$s[bs-3][1],l=$s[bs-3][2],d=$s[bs-2][0],u=$s[bs-2][1],h=$s[bs-2][2],p=$s[bs-1][0],f=$s[bs-1][1],m=$s[bs-1][2];e=o,t=c,a=l;var v=ft.array(),s=v[4]*n+v[5]*o+v[6]*d+v[7]*p,g=v[8]*n+v[9]*o+v[10]*d+v[11]*p,n=v[12]*n+v[13]*o+v[14]*d+v[15]*p,o=v[4]*i+v[5]*c+v[6]*u+v[7]*f,d=v[8]*i+v[9]*c+v[10]*u+v[11]*f,i=v[12]*i+v[13]*c+v[14]*u+v[15]*f,c=v[4]*r+v[5]*l+v[6]*h+v[7]*m,u=v[8]*r+v[9]*l+v[10]*h+v[11]*m,r=v[12]*r+v[13]*l+v[14]*h+v[15]*m;for(ot.vertex(e,t,a),l=0;ba>l;l++)e+=s,s+=g,g+=n,t+=o,o+=d,d+=i,a+=c,c+=u,u+=r,ot.vertex(e,t,a)}},Ns.prototype.curve=function(e,t,a,s,n,i,r,o){ot.beginShape(),ot.curveVertex(e,t),ot.curveVertex(a,s),ot.curveVertex(n,i),ot.curveVertex(r,o),ot.endShape()},Os.prototype.curve=function(e,a,s,n,i,r,o,c,l,d,u,h){h!==t?(ot.beginShape(),ot.curveVertex(e,a,s),ot.curveVertex(n,i,r),ot.curveVertex(o,c,l),ot.curveVertex(d,u,h)):(ot.beginShape(),ot.curveVertex(e,a),ot.curveVertex(s,n),ot.curveVertex(i,r),ot.curveVertex(o,c)),ot.endShape()},ot.curveTightness=function(e){$a=e},ot.curveDetail=function(e){ba=e,Ks()},ot.rectMode=function(e){ca=e},ot.imageMode=function(e){switch(e){case u.CORNER:Ms=Ps;break;case u.CORNERS:Ms=Fs;break;case u.CENTER:Ms=Is;break;default:throw"Invalid imageMode"}},ot.ellipseMode=function(e){la=e},ot.arc=function(e,t,a,s,n,i){if(!(0>=a||n>i)){for(la===u.CORNERS?(a-=e,s-=t):la===u.RADIUS?(e-=a,t-=s,a*=2,s*=2):la===u.CENTER&&(e-=a/2,t-=s/2);0>n;)n+=u.TWO_PI,i+=u.TWO_PI;i-n>u.TWO_PI&&(n=0,i=u.TWO_PI),a/=2,s/=2,e+=a,t+=s,n=0|.5+2*n*ot.RAD_TO_DEG,i=0|.5+2*i*ot.RAD_TO_DEG;var r,o;if(Zt){var c=Jt;for(Jt=!1,ot.beginShape(),ot.vertex(e,t),r=n;i>=r;r++)o=r%u.SINCOS_LENGTH,ot.vertex(e+cs[o]*a,t+os[o]*s);ot.endShape(u.CLOSE),Jt=c}if(Jt){for(c=Zt,Zt=!1,ot.beginShape(),r=n;i>=r;r++)o=r%u.SINCOS_LENGTH,ot.vertex(e+cs[o]*a,t+os[o]*s);ot.endShape(),Zt=c}}},Ns.prototype.line=function(e,a,s,n){if(Jt)if(e=Math.round(e),s=Math.round(s),a=Math.round(a),n=Math.round(n),e===s&&a===n)ot.point(e,a);else{for(var i=t,r=t,o=!0,i=Gt.array(),c=[1,0,0,0,1,0],l=0;6>l&&o;l++)o=i[l]===c[l];o&&(e===s?(a>n&&(i=a,a=n,n=i),n++,1===sa%2&&ct.translate(.5,0)):a===n&&(e>s&&(i=e,e=s,s=i),s++,1===sa%2&&ct.translate(0,.5)),1===sa&&(r=ct.lineCap,ct.lineCap="butt")),ct.beginPath(),ct.moveTo(e||0,a||0),ct.lineTo(s||0,n||0),O(),o&&(e===s&&1===sa%2?ct.translate(-.5,0):a===n&&1===sa%2&&ct.translate(0,-.5),1===sa&&(ct.lineCap=r))}},Os.prototype.line=function(e,a,s,n,i,r){(i===t||r===t)&&(r=0,i=n,n=s,s=0),e===n&&a===i&&s===r?ot.point(e,a,s):(e=[e,a,s,n,i,r],a=new Bs,a.scale(1,-1,1),a.apply(Gt.array()),a.transpose(),sa>0&&Jt&&(ct.useProgram(bt),_("uModel2d",bt,"uModel",!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),_("uView2d",bt,"uView",!1,a.array()),w("uColor2d",bt,"uColor",ea),k("uIsDrawingText",bt,"uIsDrawingText",!1),E("aVertex2d",bt,"aVertex",3,At),A("aTextureCoord2d",bt,"aTextureCoord"),ct.bufferData(ct.ARRAY_BUFFER,new m(e),ct.STREAM_DRAW),ct.drawArrays(ct.LINES,0,2)))},Ns.prototype.bezier=function(){if(8!==arguments.length)throw"You must use 8 parameters for bezier() in 2D mode";ot.beginShape(),ot.vertex(arguments[0],arguments[1]),ot.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]),ot.endShape()},Os.prototype.bezier=function(){if(12!==arguments.length)throw"You must use 12 parameters for bezier() in 3D mode";ot.beginShape(),ot.vertex(arguments[0],arguments[1],arguments[2]),ot.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]),ot.endShape()},ot.bezierDetail=function(e){ya=e},ot.bezierPoint=function(e,t,a,s,n){return(1-n)*(1-n)*(1-n)*e+3*(1-n)*(1-n)*n*t+3*(1-n)*n*n*a+n*n*n*s},ot.bezierTangent=function(e,t,a,s,n){return 3*n*n*(-e+3*t-3*a+s)+6*n*(e-2*t+a)+3*(-e+t)},ot.curvePoint=function(e,t,a,s,n){return.5*(2*t+(-e+a)*n+(2*e-5*t+4*a-s)*n*n+(-e+3*t-3*a+s)*n*n*n)},ot.curveTangent=function(e,t,a,s,n){return.5*(-e+a+2*(2*e-5*t+4*a-s)*n+3*(-e+3*t-3*a+s)*n*n)},ot.triangle=function(e,t,a,s,n,i){ot.beginShape(u.TRIANGLES),ot.vertex(e,t,0),ot.vertex(a,s,0),ot.vertex(n,i,0),ot.endShape()},ot.quad=function(e,t,a,s,n,i,r,o){ot.beginShape(u.QUADS),ot.vertex(e,t,0),ot.vertex(a,s,0),ot.vertex(n,i,0),ot.vertex(r,o,0),ot.endShape()},Ns.prototype.rect=function(e,a,s,n,i,r,o,c){if(s||n)if(ca===u.CORNERS?(s-=e,n-=a):ca===u.RADIUS?(s*=2,n*=2,e-=s/2,a-=n/2):ca===u.CENTER&&(e-=s/2,a-=n/2),e=Math.round(e),a=Math.round(a),s=Math.round(s),n=Math.round(n),i!==t){c===t&&(c=o=r=i);var l=s/2,d=n/2;(i>l||i>d)&&(i=Math.min(l,d)),(r>l||r>d)&&(r=Math.min(l,d)),(o>l||o>d)&&(o=Math.min(l,d)),(c>l||c>d)&&(c=Math.min(l,d)),Zt&&!Jt||ct.translate(.5,.5),ct.beginPath(),ct.moveTo(e+i,a),ct.lineTo(e+s-r,a),ct.quadraticCurveTo(e+s,a,e+s,a+r),ct.lineTo(e+s,a+n-o),ct.quadraticCurveTo(e+s,a+n,e+s-o,a+n),ct.lineTo(e+c,a+n),ct.quadraticCurveTo(e,a+n,e,a+n-c),ct.lineTo(e,a+i),ct.quadraticCurveTo(e,a,e+i,a),Zt&&!Jt||ct.translate(-.5,-.5),N(),O()}else Jt&&1===sa%2&&ct.translate(.5,.5),ct.beginPath(),ct.rect(e,a,s,n),N(),O(),Jt&&1===sa%2&&ct.translate(-.5,-.5)},Os.prototype.rect=function(e,a,s,n,i){if(i!==t)throw"rect() with rounded corners is not supported in 3D mode";ca===u.CORNERS?(s-=e,n-=a):ca===u.RADIUS?(s*=2,n*=2,e-=s/2,a-=n/2):ca===u.CENTER&&(e-=s/2,a-=n/2),i=new Bs,i.translate(e,a,0),i.scale(s,n,1),i.transpose(),a=new Bs,a.scale(1,-1,1),a.apply(Gt.array()),a.transpose(),sa>0&&Jt&&(ct.useProgram(bt),_("uModel2d",bt,"uModel",!1,i.array()),_("uView2d",bt,"uView",!1,a.array()),w("uColor2d",bt,"uColor",ea),k("uIsDrawingText2d",bt,"uIsDrawingText",!1),E("aVertex2d",bt,"aVertex",3,kt),A("aTextureCoord2d",bt,"aTextureCoord"),ct.drawArrays(ct.LINE_LOOP,0,Rs.length/3)),Zt&&(ct.useProgram($t),_("uModel3d",$t,"uModel",!1,i.array()),_("uView3d",$t,"uView",!1,a.array()),ct.enable(ct.POLYGON_OFFSET_FILL),ct.polygonOffset(1,1),w("color3d",$t,"uColor",Yt),ts>0?(e=new Bs,e.set(a),a=new Bs,a.set(i),e.mult(a),a=new Bs,a.set(e),a.invert(),a.transpose(),_("uNormalTransform3d",$t,"uNormalTransform",!1,a.array()),E("aNormal3d",$t,"aNormal",3,_t)):A("normal3d",$t,"aNormal"),E("vertex3d",$t,"aVertex",3,kt),ct.drawArrays(ct.TRIANGLE_FAN,0,Rs.length/3),ct.disable(ct.POLYGON_OFFSET_FILL))},Ns.prototype.ellipse=function(e,t,a,s){if(e=e||0,t=t||0,!(0>=a&&0>=s))if(la===u.RADIUS?(a*=2,s*=2):la===u.CORNERS?(a-=e,s-=t,e+=a/2,t+=s/2):la===u.CORNER&&(e+=a/2,t+=s/2),a===s)ct.beginPath(),ct.arc(e,t,a/2,0,u.TWO_PI,!1),N(),O();else{a/=2,s/=2;var n=.5522847498307933*a,i=.5522847498307933*s;ot.beginShape(),ot.vertex(e+a,t),ot.bezierVertex(e+a,t-i,e+n,t-s,e,t-s),ot.bezierVertex(e-n,t-s,e-a,t-i,e-a,t),ot.bezierVertex(e-a,t+i,e-n,t+s,e,t+s),ot.bezierVertex(e+n,t+s,e+a,t+i,e+a,t),ot.endShape()}},Os.prototype.ellipse=function(e,t,a,s){if(e=e||0,t=t||0,!(0>=a&&0>=s)){la===u.RADIUS?(a*=2,s*=2):la===u.CORNERS?(a-=e,s-=t,e+=a/2,t+=s/2):la===u.CORNER&&(e+=a/2,t+=s/2),a/=2,s/=2;var n=.5522847498307933*a,i=.5522847498307933*s;if(ot.beginShape(),ot.vertex(e+a,t),ot.bezierVertex(e+a,t-i,0,e+n,t-s,0,e,t-s,0),ot.bezierVertex(e-n,t-s,0,e-a,t-i,0,e-a,t,0),ot.bezierVertex(e-a,t+i,0,e-n,t+s,0,e,t+s,0),ot.bezierVertex(e+n,t+s,0,e+a,t+i,0,e+a,t,0),ot.endShape(),Zt){for(n=s=a=0;n<gs.length;n++)a+=gs[n][0],s+=gs[n][1];for(a/=gs.length,s/=gs.length,n=[],e=[],t=[],n[0]=a,n[1]=s,n[2]=0,n[3]=0,n[4]=0,n[5]=Yt[0],n[6]=Yt[1],n[7]=Yt[2],n[8]=Yt[3],n[9]=ea[0],n[10]=ea[1],n[11]=ea[2],n[12]=ea[3],n[13]=da,n[14]=ua,n[15]=ha,gs.unshift(n),n=0;n<gs.length;n++){for(a=0;3>a;a++)e.push(gs[n][a]);
for(a=5;9>a;a++)t.push(gs[n][a])}Hs(e,"TRIANGLE_FAN",t)}}},ot.normal=function(e,t,a){if(3!==arguments.length||"number"!=typeof e||"number"!=typeof t||"number"!=typeof a)throw"normal() requires three numeric arguments.";da=e,ua=t,ha=a,0!==ga&&(pa===u.NORMAL_MODE_AUTO?pa=u.NORMAL_MODE_SHAPE:pa===u.NORMAL_MODE_SHAPE&&(pa=u.NORMAL_MODE_VERTEX))},ot.save=function(e,a){return a!==t?c.open(a.toDataURL(),"_blank"):c.open(ot.externals.canvas.toDataURL(),"_blank")};var Zs=0;ot.saveFrame=function(e){e===t&&(e="screen-####.png"),e=e.replace(/#+/,function(e){for(var t=""+Zs++;t.length<e.length;)t="0"+t;return t}),ot.save(e)};var Ys=l.createElement("canvas").getContext("2d"),Ws=[t,t,t],Qs=function(e,t,a){if(this.__isDirty=!1,e instanceof p)this.fromHTMLImageData(e);else if(t||a){if(this.width=e||1,this.height=t||1,e=this.sourceImg=l.createElement("canvas"),e.width=this.width,e.height=this.height,this.imageData=e.getContext("2d").createImageData(this.width,this.height),this.format=a===u.ARGB||a===u.ALPHA?a:u.RGB,this.format===u.RGB)for(a=3,e=this.imageData.data,t=e.length;t>a;a+=4)e[a]=255;this.__isDirty=!0,this.updatePixels()}else this.height=this.width=0,this.imageData=Ys.createImageData(1,1),this.format=u.ARGB;this.pixels=V(this)};Qs.prototype={__isPImage:!0,updatePixels:function(){var e=this.sourceImg;e&&e instanceof h&&this.__isDirty&&e.getContext("2d").putImageData(this.imageData,0,0),this.__isDirty=!1},fromHTMLImageData:function(e){var t=q(e);try{var a=t.context.getImageData(0,0,e.width,e.height);this.fromImageData(a)}catch(s){e.width&&e.height&&(this.isRemote=!0,this.width=e.width,this.height=e.height)}this.sourceImg=e},get:function(e,t,a,s){return arguments.length?2===arguments.length?ot.get(e,t,this):4===arguments.length?ot.get(e,t,a,s,this):void 0:ot.get(this)},set:function(e,t,a){ot.set(e,t,a,this),this.__isDirty=!0},blend:function(e,t,a,s,n,i,r,o,c,l){9===arguments.length?ot.blend(this,e,t,a,s,n,i,r,o,c,this):10===arguments.length&&ot.blend(e,t,a,s,n,i,r,o,c,l,this),delete this.sourceImg},copy:function(e,t,a,s,n,i,r,o,c){8===arguments.length?ot.blend(this,e,t,a,s,n,i,r,o,u.REPLACE,this):9===arguments.length&&ot.blend(e,t,a,s,n,i,r,o,c,u.REPLACE,this),delete this.sourceImg},filter:function(e,t){2===arguments.length?ot.filter(e,t,this):1===arguments.length&&ot.filter(e,null,this),delete this.sourceImg},save:function(e){ot.save(e,this)},resize:function(e,t){if(this.isRemote)throw"Image is loaded remotely. Cannot resize.";if(0!==this.width||0!==this.height){0===e&&0!==t?e=Math.floor(this.width/this.height*t):0===t&&0!==e&&(t=Math.floor(this.height/this.width*e));var a=q(this.imageData).canvas,a=q(a,e,t).context.getImageData(0,0,e,t);this.fromImageData(a)}},mask:function(e){var t,a,s=this.toImageData();if(e instanceof Qs||e.__isPImage){if(e.width!==this.width||e.height!==this.height)throw"mask must have the same dimensions as PImage.";for(e=e.toImageData(),t=2,a=4*this.width*this.height;a>t;t+=4)s.data[t+1]=e.data[t]}else if(e instanceof Array){if(this.width*this.height!==e.length)throw"mask array must be the same length as PImage pixels array.";for(t=0,a=e.length;a>t;++t)s.data[4*t+3]=e[t]}this.fromImageData(s)},loadPixels:d,toImageData:function(){return this.isRemote?this.sourceImg:this.__isDirty?q(this.sourceImg).context.getImageData(0,0,this.width,this.height):this.imageData},toDataURL:function(){if(this.isRemote)throw"Image is loaded remotely. Cannot create dataURI.";return q(this.imageData).canvas.toDataURL()},fromImageData:function(e){var t=e.width,a=e.height,s=l.createElement("canvas"),n=s.getContext("2d");this.width=s.width=t,this.height=s.height=a,n.putImageData(e,0,0),this.format=u.ARGB,this.imageData=e,this.sourceImg=s}},ot.PImage=Qs,ot.createImage=function(e,t,a){return new Qs(e,t,a)},ot.loadImage=function(e,t,a){if(lt.imageCache.images[e])return t=new Qs(lt.imageCache.images[e]),t.loaded=!0,t;t=new Qs;var s=l.createElement("img");return t.sourceImg=s,s.onload=function(e,t,a){return function(){t.fromHTMLImageData(e),t.loaded=!0,a&&a()}}(s,t,a),s.src=e,t},ot.requestImage=ot.loadImage,ot.get=function(e,t,a,s,n){if(void 0!==n)return G(e,t,a,s,n);if(void 0!==s)return B(e,t,a,s);if(void 0!==a){if(a.isRemote)throw"Image is loaded remotely. Cannot get x,y.";return e=4*t*a.width+4*e,a=a.imageData.data,a[e+3]<<24&u.ALPHA_MASK|a[e]<<16&u.RED_MASK|a[e+1]<<8&u.GREEN_MASK|a[e+2]&u.BLUE_MASK}return void 0!==t?(e>=ot.width||0>e||0>t||t>=ot.height?a=0:Ya?(e=4*((0|e)+ot.width*(0|t)),a=ot.imageData.data,a=a[e+3]<<24&u.ALPHA_MASK|a[e]<<16&u.RED_MASK|a[e+1]<<8&u.GREEN_MASK|a[e+2]&u.BLUE_MASK):(a=ot.toImageData(0|e,0|t,1,1).data,a=a[3]<<24&u.ALPHA_MASK|a[0]<<16&u.RED_MASK|a[1]<<8&u.GREEN_MASK|a[2]&u.BLUE_MASK),a):void 0!==e?G(0,0,e.width,e.height,e):B(0,0,ot.width,ot.height)},ot.createGraphics=function(e,t,a){var s=new x;return s.size(e,t,a),s.background(0,0),s},ot.set=function(e,t,a,s){if(3===arguments.length)"number"==typeof a?e<ot.width&&e>=0&&t>=0&&t<ot.height&&(Ya||(ot.loadPixels(),null===Za&&(Ot=ct,Za=new U),Ya=!0,ct=Za,zt=0),ot.pixels.setPixel((0|e)+ot.width*(0|t),a),++zt>Wa&&j()):(a instanceof Qs||a.__isPImage)&&ot.image(a,e,t);else if(4===arguments.length){if(s.isRemote)throw"Image is loaded remotely. Cannot set x,y.";var n=ot.color.toArray(a),i=4*t*s.width+4*e,r=s.imageData.data;r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}},ot.imageData={},ot.pixels={getLength:function(){return ot.imageData.data.length?ot.imageData.data.length/4:0},getPixel:function(e){e*=4;var t=ot.imageData.data;return 4278190080&t[e+3]<<24|16711680&t[e+0]<<16|65280&t[e+1]<<8|255&t[e+2]},setPixel:function(e,t){var a=4*e,s=ot.imageData.data;s[a+0]=(16711680&t)>>>16,s[a+1]=(65280&t)>>>8,s[a+2]=255&t,s[a+3]=(4278190080&t)>>>24},toArray:function(){for(var e=[],t=ot.imageData.width*ot.imageData.height,a=ot.imageData.data,s=0,n=0;t>s;s++,n+=4)e.push(4278190080&a[n+3]<<24|16711680&a[n+0]<<16|65280&a[n+1]<<8|255&a[n+2]);return e},set:function(e){for(var t=0,a=e.length;a>t;t++)this.setPixel(t,e[t])}},ot.loadPixels=function(){ot.imageData=dt.$ensureContext().getImageData(0,0,ot.width,ot.height)},ot.updatePixels=function(){ot.imageData&&dt.$ensureContext().putImageData(ot.imageData,0,0)},ot.hint=function(e){var t=dt.$ensureContext();e===u.DISABLE_DEPTH_TEST?(t.disable(t.DEPTH_TEST),t.depthMask(!1),t.clear(t.DEPTH_BUFFER_BIT)):e===u.ENABLE_DEPTH_TEST?(t.enable(t.DEPTH_TEST),t.depthMask(!0)):e===u.ENABLE_OPENGL_2X_SMOOTH||e===u.ENABLE_OPENGL_4X_SMOOTH?ia=!0:e===u.DISABLE_OPENGL_2X_SMOOTH&&(ia=!1)};var Js=function(e,t,a,s){if(e instanceof Qs||e.__isPImage){if(!e.loaded)throw"Error using image in background(): PImage not loaded.";if(e.width!==ot.width||e.height!==ot.height)throw"Background image must be the same dimensions as the canvas."}else e=ot.color(e,t,a,s);xa=e};Ns.prototype.background=function(e,a,s,n){e!==t&&Js(e,a,s,n),xa instanceof Qs||xa.__isPImage?(ct.save(),ct.setTransform(1,0,0,1,0,0),ot.image(xa,0,0)):(ct.save(),ct.setTransform(1,0,0,1,0,0),ot.alpha(xa)!==wa&&ct.clearRect(0,0,ot.width,ot.height),ct.fillStyle=ot.color.toString(xa),ct.fillRect(0,0,ot.width,ot.height),Qt=!0),D()},Os.prototype.background=function(e,t,a,s){0<arguments.length&&Js(e,t,a,s);var n=ot.color.toGLArray(xa);ct.clearColor(n[0],n[1],n[2],n[3]),ct.clear(ct.COLOR_BUFFER_BIT|ct.DEPTH_BUFFER_BIT)},Ns.prototype.image=function(e,t,a,s,n){if(t=Math.round(t),a=Math.round(a),0<e.width){var i=Ms(t||0,a||0,s||e.width,n||e.height,4>arguments.length);if(e.sourceImg&&null===Sa){var r=e.sourceImg;e.__isDirty&&e.updatePixels(),ct.drawImage(r,0,0,r.width,r.height,i.x,i.y,i.w,i.h)}else r=e.toImageData(),null!==Sa&&(Sa(r),e.__isDirty=!0),ct.drawImage(q(r).canvas,0,0,e.width,e.height,i.x,i.y,i.w,i.h)}},Os.prototype.image=function(e,t,a,s,n){0<e.width&&(t=Math.round(t),a=Math.round(a),s=s||e.width,n=n||e.height,ot.beginShape(ot.QUADS),ot.texture(e),ot.vertex(t,a,0,0,0),ot.vertex(t,a+n,0,0,n),ot.vertex(t+s,a+n,0,s,n),ot.vertex(t+s,a,0,s,0),ot.endShape())},ot.tint=function(e,t,a,s){e=ot.color(e,t,a,s);var n=ot.red(e)/ka,i=ot.green(e)/_a,r=ot.blue(e)/Ea,o=ot.alpha(e)/wa;Sa=function(e){var t=e.data;e=4*e.width*e.height;for(var a=0;e>a;)t[a++]*=n,t[a++]*=i,t[a++]*=r,t[a++]*=o},Da=function(e){for(var t=0;t<e.length;)e[t++]=n,e[t++]=i,e[t++]=r,e[t++]=o}},ot.noTint=function(){Da=Sa=null},ot.copy=function(e,a,s,n,i,r,o,c,l){l===t&&(l=c,c=o,o=r,r=i,i=n,n=s,s=a,a=e,e=ot),ot.blend(e,a,s,n,i,r,o,c,l,u.REPLACE)},ot.blend=function(e,a,s,n,i,r,o,c,l,d,u){if(e.isRemote)throw"Image is loaded remotely. Cannot blend image.";d===t&&(d=l,l=c,c=o,o=r,r=i,i=n,n=s,s=a,a=e,e=ot),n=a+n,i=s+i,c=r+c,l=o+l;var h=u||ot;u!==t&&d!==t||ot.loadPixels(),e.loadPixels(),e===ot&&ot.intersect(a,s,n,i,r,o,c,l)?ot.blit_resize(ot.get(a,s,n-a,i-s),0,0,n-a-1,i-s-1,h.imageData.data,h.width,h.height,r,o,c,l,d):ot.blit_resize(e,a,s,n,i,h.imageData.data,h.width,h.height,r,o,c,l,d),u===t&&ot.updatePixels()};var en=function(e,t){var a,s,n,i,r,o,c,l,d,u,h,p,f=0,m=t.pixels.getLength(),g=new v(m);if(e)for(;m>f;)for(a=f,s=f+t.width;s>f;)n=i=t.pixels.getPixel(f),o=f-1,r=f+1,c=f-t.width,l=f+t.width,a>o&&(o=f),r>=s&&(r=f),0>c&&(c=0),l>=m&&(l=f),c=t.pixels.getPixel(c),o=t.pixels.getPixel(o),l=t.pixels.getPixel(l),r=t.pixels.getPixel(r),n=77*(255&n>>16)+151*(255&n>>8)+28*(255&n),u=77*(255&o>>16)+151*(255&o>>8)+28*(255&o),d=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),h=77*(255&c>>16)+151*(255&c>>8)+28*(255&c),p=77*(255&l>>16)+151*(255&l>>8)+28*(255&l),n>u&&(i=o,n=u),n>d&&(i=r,n=d),n>h&&(i=c,n=h),n>p&&(i=l),g[f++]=i;else for(;m>f;)for(a=f,s=f+t.width;s>f;)n=i=t.pixels.getPixel(f),o=f-1,r=f+1,c=f-t.width,l=f+t.width,a>o&&(o=f),r>=s&&(r=f),0>c&&(c=0),l>=m&&(l=f),c=t.pixels.getPixel(c),o=t.pixels.getPixel(o),l=t.pixels.getPixel(l),r=t.pixels.getPixel(r),n=77*(255&n>>16)+151*(255&n>>8)+28*(255&n),u=77*(255&o>>16)+151*(255&o>>8)+28*(255&o),d=77*(255&r>>16)+151*(255&r>>8)+28*(255&r),h=77*(255&c>>16)+151*(255&c>>8)+28*(255&c),p=77*(255&l>>16)+151*(255&l>>8)+28*(255&l),u>n&&(i=o,n=u),d>n&&(i=r,n=d),h>n&&(i=c,n=h),p>n&&(i=l),g[f++]=i;t.pixels.set(g)};ot.filter=function(e,a,s){var n,i,r,o;if(3===arguments.length?(s.loadPixels(),n=s):(ot.loadPixels(),n=ot),a===t&&(a=null),n.isRemote)throw"Image is loaded remotely. Cannot filter image.";var c=n.pixels.getLength();switch(e){case u.BLUR:var l,d,h,p,f,v,g,$,b,C=a||1,x=n;r=x.pixels.getLength(),o=new m(r),c=new m(r),i=new m(r),r=new m(r);var y,w,k,_,E=0,C=ot.floor(3.5*C),C=1>C?1:248>C?C:248;if(ot.shared.blurRadius!==C){ot.shared.blurRadius=C,ot.shared.blurKernelSize=1+(ot.shared.blurRadius<<1),ot.shared.blurKernel=new m(ot.shared.blurKernelSize);var A=ot.shared.blurKernel,R=ot.shared.blurKernelSize;for(_=0;R>_;_++)A[_]=0;for(R=(C-1)*(C-1),_=1;C>_;_++)A[C+_]=A[void 0]=R;A[C]=C*C}C=x.height,_=x.width,A=ot.shared.blurKernelSize,$=ot.shared.blurRadius;var R=ot.shared.blurKernel,T=x.imageData.data;for(w=0;C>w;w++){for(y=0;_>y;y++){if(h=d=l=p=x=0,v=y-$,0>v)f=-v,v=0;else{if(v>=_)break;f=0}for(k=f;A>k&&!(v>=_);k++)g=4*(v+E),f=R[k],p+=f*T[g+3],l+=f*T[g],d+=f*T[g+1],h+=f*T[g+2],x+=f,v++;g=E+y,r[g]=p/x,o[g]=l/x,c[g]=d/x,i[g]=h/x}E+=_}for(E=0,$=-$,b=$*_,w=0;C>w;w++){for(y=0;_>y;y++){if(h=d=l=p=x=0,0>$)f=g=-$,v=y;else{if($>=C)break;f=0,g=$,v=y+b}for(k=f;A>k&&!(g>=C);k++)f=R[k],p+=f*r[v],l+=f*o[v],d+=f*c[v],h+=f*i[v],x+=f,g++,v+=_;g=4*(y+E),T[g]=l/x,T[g+1]=d/x,T[g+2]=h/x,T[g+3]=p/x}E+=_,b+=_,$++}break;case u.GRAY:if(n.format===u.ALPHA){for(o=0;c>o;o++)i=255-n.pixels.getPixel(o),n.pixels.setPixel(o,4278190080|i<<16|i<<8|i);n.format=u.RGB}else for(o=0;c>o;o++)i=n.pixels.getPixel(o),r=77*(255&i>>16)+151*(255&i>>8)+28*(255&i)>>8,n.pixels.setPixel(o,i&u.ALPHA_MASK|r<<16|r<<8|r);break;case u.INVERT:for(o=0;c>o;o++)n.pixels.setPixel(o,16777215^n.pixels.getPixel(o));break;case u.POSTERIZE:if(null===a)throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)";if(i=ot.floor(a),2>i||i>255)throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)";for(r=i-1,o=0;c>o;o++)E=255&n.pixels.getPixel(o)>>16,C=255&n.pixels.getPixel(o)>>8,_=255&n.pixels.getPixel(o),E=255*(E*i>>8)/r,C=255*(C*i>>8)/r,_=255*(_*i>>8)/r,n.pixels.setPixel(o,4278190080&n.pixels.getPixel(o)|E<<16|C<<8|_);break;case u.OPAQUE:for(o=0;c>o;o++)n.pixels.setPixel(o,4278190080|n.pixels.getPixel(o));n.format=u.RGB;break;case u.THRESHOLD:if(null===a&&(a=.5),0>a||a>1)throw"Level must be between 0 and 1 for filter(THRESHOLD, level)";for(i=ot.floor(255*a),o=0;c>o;o++)r=ot.max((n.pixels.getPixel(o)&u.RED_MASK)>>16,ot.max((n.pixels.getPixel(o)&u.GREEN_MASK)>>8,n.pixels.getPixel(o)&u.BLUE_MASK)),n.pixels.setPixel(o,n.pixels.getPixel(o)&u.ALPHA_MASK|(i>r?0:16777215));break;case u.ERODE:en(!0,n);break;case u.DILATE:en(!1,n)}n.updatePixels()},ot.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null},ot.intersect=function(e,t,a,s,n,i,r,o){return a=a-e+1,s=s-t+1,r=r-n+1,o=o-i+1,e>n?(r+=n-e,r>a&&(r=a)):(e=a+e-n,r>e&&(r=e)),t>i?(o+=i-t,o>s&&(o=s)):(t=s+t-i,o>t&&(o=t)),!(0>=r||0>=o)};var tn={};if(tn[u.BLEND]=ot.modes.blend,tn[u.ADD]=ot.modes.add,tn[u.SUBTRACT]=ot.modes.subtract,tn[u.LIGHTEST]=ot.modes.lightest,tn[u.DARKEST]=ot.modes.darkest,tn[u.REPLACE]=ot.modes.replace,tn[u.DIFFERENCE]=ot.modes.difference,tn[u.EXCLUSION]=ot.modes.exclusion,tn[u.MULTIPLY]=ot.modes.multiply,tn[u.SCREEN]=ot.modes.screen,tn[u.OVERLAY]=ot.modes.overlay,tn[u.HARD_LIGHT]=ot.modes.hard_light,tn[u.SOFT_LIGHT]=ot.modes.soft_light,tn[u.DODGE]=ot.modes.dodge,tn[u.BURN]=ot.modes.burn,ot.blit_resize=function(e,t,a,s,n,i,r,o,c,l,d,h,p){if(0>t&&(t=0),0>a&&(a=0),s>=e.width&&(s=e.width-1),n>=e.height&&(n=e.height-1),s-=t,n-=a,d-=c,h-=l,!(0>=d||0>=h||0>=s||0>=n||c>=r||l>=o||t>=e.width||a>=e.height)){s=Math.floor(s/d*u.PRECISIONF),n=Math.floor(n/h*u.PRECISIONF);var f=ot.shared;f.srcXOffset=Math.floor(0>c?-c*s:t*u.PRECISIONF),f.srcYOffset=Math.floor(0>l?-l*n:a*u.PRECISIONF),0>c&&(d+=c,c=0),0>l&&(h+=l,l=0),d=Math.min(d,r-c),h=Math.min(h,o-l),t=l*r+c;var m;f.srcBuffer=e.imageData.data,f.iw=e.width,f.iw1=e.width-1,f.ih1=e.height-1,a=tn[p];var v,g,$,b;c=u.ALPHA_MASK,l=u.RED_MASK;var C=u.GREEN_MASK,x=u.BLUE_MASK,y=u.PREC_MAXVAL,w=u.PRECISIONB,k=u.PREC_RED_SHIFT,_=u.PREC_ALPHA_SHIFT,E=f.srcBuffer,A=Math.min;for(p=0;h>p;p++){for(f.sX=f.srcXOffset,f.fracV=f.srcYOffset&y,f.ifV=y-f.fracV,f.v1=(f.srcYOffset>>w)*f.iw,f.v2=A((f.srcYOffset>>w)+1,f.ih1)*f.iw,e=0;d>e;e++)o=4*(t+e),m=i[o+3]<<24&c|i[o]<<16&l|i[o+1]<<8&C|i[o+2]&x,f.fracU=f.sX&y,f.ifU=y-f.fracU,f.ul=f.ifU*f.ifV>>w,f.ll=f.ifU*f.fracV>>w,f.ur=f.fracU*f.ifV>>w,f.lr=f.fracU*f.fracV>>w,f.u1=f.sX>>w,f.u2=A(f.u1+1,f.iw1),v=4*(f.v1+f.u1),g=4*(f.v1+f.u2),$=4*(f.v2+f.u1),b=4*(f.v2+f.u2),f.cUL=E[v+3]<<24&c|E[v]<<16&l|E[v+1]<<8&C|E[v+2]&x,f.cUR=E[g+3]<<24&c|E[g]<<16&l|E[g+1]<<8&C|E[g+2]&x,f.cLL=E[$+3]<<24&c|E[$]<<16&l|E[$+1]<<8&C|E[$+2]&x,f.cLR=E[b+3]<<24&c|E[b]<<16&l|E[b+1]<<8&C|E[b+2]&x,f.r=f.ul*((f.cUL&l)>>16)+f.ll*((f.cLL&l)>>16)+f.ur*((f.cUR&l)>>16)+f.lr*((f.cLR&l)>>16)<<k&l,f.g=f.ul*(f.cUL&C)+f.ll*(f.cLL&C)+f.ur*(f.cUR&C)+f.lr*(f.cLR&C)>>>w&C,f.b=f.ul*(f.cUL&x)+f.ll*(f.cLL&x)+f.ur*(f.cUR&x)+f.lr*(f.cLR&x)>>>w,f.a=f.ul*((f.cUL&c)>>>24)+f.ll*((f.cLL&c)>>>24)+f.ur*((f.cUR&c)>>>24)+f.lr*((f.cLR&c)>>>24)<<_&c,m=a(m,f.a|f.r|f.g|f.b),i[o]=(m&l)>>>16,i[o+1]=(m&C)>>>8,i[o+2]=m&x,i[o+3]=(m&c)>>>24,f.sX+=s;t+=r,f.srcYOffset+=n}}},ot.loadFont=function(e,a){if(e===t)throw"font name required in loadFont.";if(-1===e.indexOf(".svg"))return a===t&&(a=Ka.size),PFont.get(e,a);var s=ot.loadGlyphs(e);return{name:e,css:"12px sans-serif",glyph:!0,units_per_em:s.units_per_em,horiz_adv_x:1/s.units_per_em*s.horiz_adv_x,ascent:s.ascent,descent:s.descent,width:function(t){for(var a=0,s=t.length,n=0;s>n;n++)try{a+=parseFloat(ot.glyphLook(ot.glyphTable[e],t[n]).horiz_adv_x)}catch(i){x.debug(i)}return a/ot.glyphTable[e].units_per_em}}},ot.createFont=function(e,t){return ot.loadFont(e,t)},ot.textFont=function(e,a){a!==t&&(e.glyph||(e=PFont.get(e.name,a)),ja=a),Ka=e,Ga=Ka.name,Ua=Ka.ascent,Ha=Ka.descent,Xa=Ka.leading,dt.$ensureContext().font=Ka.css},ot.textSize=function(e){Ka=PFont.get(Ga,e),ja=e,Ua=Ka.ascent,Ha=Ka.descent,Xa=Ka.leading,dt.$ensureContext().font=Ka.css},ot.textAscent=function(){return Ua},ot.textDescent=function(){return Ha},ot.textLeading=function(e){Xa=e},ot.textAlign=function(e,t){qa=e,Va=t||u.BASELINE},Ns.prototype.textWidth=function(e){e=H(e).split(/\r?\n/g);var t,a=0,s=e.length;for(ct.font=Ka.css,t=0;s>t;++t)a=Math.max(a,Ka.measureTextWidth(e[t]));return 0|a},Os.prototype.textWidth=function(e){e=H(e).split(/\r?\n/g);var a,s=0,n=e.length;ut===t&&(ut=l.createElement("canvas"));var i=ut.getContext("2d");for(i.font=Ka.css,a=0;n>a;++a)s=Math.max(s,i.measureText(e[a]).width);return 0|s},ot.glyphLook=function(e,t){try{switch(t){case"1":return e.one;case"2":return e.two;case"3":return e.three;case"4":return e.four;case"5":return e.five;case"6":return e.six;case"7":return e.seven;case"8":return e.eight;case"9":return e.nine;case"0":return e.zero;case" ":return e.space;case"$":return e.dollar;case"!":return e.exclam;case'"':return e.quotedbl;case"#":return e.numbersign;case"%":return e.percent;case"&":return e.ampersand;case"'":return e.quotesingle;case"(":return e.parenleft;case")":return e.parenright;case"*":return e.asterisk;case"+":return e.plus;case",":return e.comma;case"-":return e.hyphen;case".":return e.period;case"/":return e.slash;case"_":return e.underscore;case":":return e.colon;case";":return e.semicolon;case"<":return e.less;case"=":return e.equal;case">":return e.greater;case"?":return e.question;case"@":return e.at;case"[":return e.bracketleft;case"\\":return e.backslash;case"]":return e.bracketright;case"^":return e.asciicircum;case"`":return e.grave;case"{":return e.braceleft;case"|":return e.bar;case"}":return e.braceright;case"~":return e.asciitilde;default:return e[t]}}catch(a){x.debug(a)}},Ns.prototype.text$line=function(e,t,a,s,n){if(s=s=0,Ka.glyph){for(s=ot.glyphTable[Ga],ct.save(),ct.translate(t,a+ja),n!==u.RIGHT&&n!==u.CENTER||s.width(e),t=1/s.units_per_em*ja,ct.scale(t,t),t=0,a=e.length;a>t;t++)try{ot.glyphLook(s,e[t]).draw()}catch(i){x.debug(i)}D()}else e&&"fillText"in ct&&(Qt&&(ct.fillStyle=ot.color.toString(Wt),Qt=!1),(n===u.RIGHT||n===u.CENTER)&&(s=Ka.measureTextWidth(e),s=n===u.RIGHT?-s:-s/2),ct.fillText(e,t+s,a))},Os.prototype.text$line=function(e,a,s,n,i){ut===t&&(ut=l.createElement("canvas"));var r=ct;ct=ut.getContext("2d"),ct.font=Ka.css;var o=Ka.measureTextWidth(e);ut.width=o,ut.height=ja,ct=ut.getContext("2d"),ct.font=Ka.css,ct.textBaseline="top",Ns.prototype.text$line(e,0,0,0,u.LEFT),e=ut.width/ut.height,ct=r,ct.bindTexture(ct.TEXTURE_2D,Ft),ct.texImage2D(ct.TEXTURE_2D,0,ct.RGBA,ct.RGBA,ct.UNSIGNED_BYTE,ut),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MAG_FILTER,ct.LINEAR),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_MIN_FILTER,ct.LINEAR),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_T,ct.CLAMP_TO_EDGE),ct.texParameteri(ct.TEXTURE_2D,ct.TEXTURE_WRAP_S,ct.CLAMP_TO_EDGE),r=0,i===u.RIGHT?r=-o:i===u.CENTER&&(r=-o/2),i=new Bs,o=.5*ja,i.translate(a+r-o/2,s-o,n),i.scale(-e*o,-o,o),i.translate(-1,-1,-1),i.transpose(),a=new Bs,a.scale(1,-1,1),a.apply(Gt.array()),a.transpose(),ct.useProgram(bt),E("aVertex2d",bt,"aVertex",3,It),E("aTextureCoord2d",bt,"aTextureCoord",2,Lt),k("uSampler2d",bt,"uSampler",[0]),k("uIsDrawingText2d",bt,"uIsDrawingText",!0),_("uModel2d",bt,"uModel",!1,i.array()),_("uView2d",bt,"uView",!1,a.array()),w("uColor2d",bt,"uColor",Yt),ct.bindBuffer(ct.ELEMENT_ARRAY_BUFFER,Nt),ct.drawElements(ct.TRIANGLES,6,ct.UNSIGNED_SHORT,0)},ot.text=function(){Ba!==u.SHAPE&&(3===arguments.length?X(H(arguments[0]),arguments[1],arguments[2],0):4===arguments.length?X(H(arguments[0]),arguments[1],arguments[2],arguments[3]):5===arguments.length?K(H(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0):6===arguments.length&&K(H(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))},ot.textMode=function(e){Ba=e},ot.loadGlyphs=function(e){var a,s,n,i,r,o,d,u,h,p,f,m,v=function(e,t){var a,s=0,n=[],i=RegExp(e,"g");for(a=n[s]=i.exec(t);a;)s++,a=n[s]=i.exec(t);return n},g=function(e){var t=v("[A-Za-z][0-9\\- ]+|Z",e);m="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();",u=e=o=r=i=n=s=a=0,h="",p=t.length-1;for(var c=0;p>c;c++){var l=t[c][0];switch(e=v("[0-9\\-]+",l),l[0]){case"M":a=parseFloat(e[0][0]),s=parseFloat(e[1][0]),m+="curContext.moveTo("+a+","+-s+");";break;case"L":a=parseFloat(e[0][0]),s=parseFloat(e[1][0]),m+="curContext.lineTo("+a+","+-s+");";break;case"H":a=parseFloat(e[0][0]),m+="curContext.lineTo("+a+","+-s+");";break;case"V":s=parseFloat(e[0][0]),m+="curContext.lineTo("+a+","+-s+");";break;case"T":r=parseFloat(e[0][0]),o=parseFloat(e[1][0]),"Q"===h||"T"===h?(e=Math.sqrt(Math.pow(a-n,2)+Math.pow(i-s,2)),u=Math.PI+Math.atan2(n-a,i-s),n=a+Math.sin(u)*e,i=s+Math.cos(u)*e):(n=a,i=s),m+="curContext.quadraticCurveTo("+n+","+-i+","+r+","+-o+");",a=r,s=o;break;case"Q":n=parseFloat(e[0][0]),i=parseFloat(e[1][0]),r=parseFloat(e[2][0]),o=parseFloat(e[3][0]),m+="curContext.quadraticCurveTo("+n+","+-i+","+r+","+-o+");",a=r,s=o;break;case"Z":m+="curContext.closePath();"}h=l[0]}return m+="afterPathDraw();",m+="curContext.translate("+f+",0);",m+="}}",new Function("beforePathDraw","afterPathDraw",m)(function(){return ct.save(),dt.$ensureContext()},function(){N(),O(),D()})},$=function(a){var s=a.getElementsByTagName("font");ot.glyphTable[e].horiz_adv_x=s[0].getAttribute("horiz-adv-x"),s=a.getElementsByTagName("font-face")[0],ot.glyphTable[e].units_per_em=parseFloat(s.getAttribute("units-per-em")),ot.glyphTable[e].ascent=parseFloat(s.getAttribute("ascent")),ot.glyphTable[e].descent=parseFloat(s.getAttribute("descent")),a=a.getElementsByTagName("glyph");for(var s=a.length,n=0;s>n;n++){var i=a[n].getAttribute("unicode"),r=a[n].getAttribute("glyph-name");f=a[n].getAttribute("horiz-adv-x"),null===f&&(f=ot.glyphTable[e].horiz_adv_x),d=a[n].getAttribute("d"),d!==t&&(m=g(d),ot.glyphTable[e][r]={name:r,unicode:i,horiz_adv_x:f,draw:m.draw})}};return ot.glyphTable[e]={},function(){var t;try{t=l.implementation.createDocument("","",null)}catch(a){return x.debug(a.message),void 0}try{t.async=!1,t.load(e),$(t.getElementsByTagName("svg")[0])}catch(s){x.debug(s);try{var n=new c.XMLHttpRequest;n.open("GET",e,!1),n.send(null),$(n.responseXML.documentElement)}catch(i){x.debug(s)}}}(e),ot.glyphTable[e]},ot.param=function(e){var t="data-processing-"+e;if(nt.hasAttribute(t))return nt.getAttribute(t);for(var t=0,a=nt.childNodes.length;a>t;++t){var s=nt.childNodes.item(t);if(1===s.nodeType&&"param"===s.tagName.toLowerCase()&&s.getAttribute("name")===e)return s.getAttribute("value")}return lt.params.hasOwnProperty(e)?lt.params[e]:null},zs.prototype.translate=Y("translate"),zs.prototype.transform=Y("transform"),zs.prototype.scale=Y("scale"),zs.prototype.pushMatrix=Y("pushMatrix"),zs.prototype.popMatrix=Y("popMatrix"),zs.prototype.resetMatrix=Y("resetMatrix"),zs.prototype.applyMatrix=Y("applyMatrix"),zs.prototype.rotate=Y("rotate"),zs.prototype.rotateZ=Y("rotateZ"),zs.prototype.shearX=Y("shearX"),zs.prototype.shearY=Y("shearY"),zs.prototype.redraw=Y("redraw"),zs.prototype.toImageData=Y("toImageData"),zs.prototype.ambientLight=Y("ambientLight"),zs.prototype.directionalLight=Y("directionalLight"),zs.prototype.lightFalloff=Y("lightFalloff"),zs.prototype.lightSpecular=Y("lightSpecular"),zs.prototype.pointLight=Y("pointLight"),zs.prototype.noLights=Y("noLights"),zs.prototype.spotLight=Y("spotLight"),zs.prototype.beginCamera=Y("beginCamera"),zs.prototype.endCamera=Y("endCamera"),zs.prototype.frustum=Y("frustum"),zs.prototype.box=Y("box"),zs.prototype.sphere=Y("sphere"),zs.prototype.ambient=Y("ambient"),zs.prototype.emissive=Y("emissive"),zs.prototype.shininess=Y("shininess"),zs.prototype.specular=Y("specular"),zs.prototype.fill=Y("fill"),zs.prototype.stroke=Y("stroke"),zs.prototype.strokeWeight=Y("strokeWeight"),zs.prototype.smooth=Y("smooth"),zs.prototype.noSmooth=Y("noSmooth"),zs.prototype.point=Y("point"),zs.prototype.vertex=Y("vertex"),zs.prototype.endShape=Y("endShape"),zs.prototype.bezierVertex=Y("bezierVertex"),zs.prototype.curveVertex=Y("curveVertex"),zs.prototype.curve=Y("curve"),zs.prototype.line=Y("line"),zs.prototype.bezier=Y("bezier"),zs.prototype.rect=Y("rect"),zs.prototype.ellipse=Y("ellipse"),zs.prototype.background=Y("background"),zs.prototype.image=Y("image"),zs.prototype.textWidth=Y("textWidth"),zs.prototype.text$line=Y("text$line"),zs.prototype.$ensureContext=Y("$ensureContext"),zs.prototype.$newPMatrix=Y("$newPMatrix"),zs.prototype.size=function(e,t,a){Z(a===u.WEBGL?"3D":"2D"),ot.size(e,t,a)},zs.prototype.$init=d,Ns.prototype.$init=function(){ot.size(ot.width,ot.height),ct.lineCap="round",ot.noSmooth(),ot.disableContextMenu()},Os.prototype.$init=function(){ot.use3DContext=!0,ot.disableContextMenu()},Ls.prototype.$ensureContext=function(){return ct},nt.getAttribute("tabindex")||nt.setAttribute("tabindex",0),it)lt=new x.Sketch,Z(),ot.size=function(e,t,a){a&&a===u.WEBGL?Z("3D"):Z("2D"),ot.size(e,t,a)};else{lt=a instanceof x.Sketch?a:"function"==typeof a?new x.Sketch(a):a?x.compile(a):new x.Sketch(function(){}),ot.externals.sketch=lt,Z(),nt.onfocus=function(){ot.focused=!0},nt.onblur=function(){ot.focused=!1,lt.options.globalKeyEvents||(ot.__keyPressed=!1,Qa=[],Ja=null)},lt.options.pauseOnBlur&&(y(c,"focus",function(){ra&&ot.loop()}),y(c,"blur",function(){ra&&na&&(ot.noLoop(),ra=!0),ot.__keyPressed=!1,Qa=[],Ja=null}));var an=lt.options.globalKeyEvents?c:nt;y(an,"keydown",tt),y(an,"keypress",at),y(an,"keyup",st);for(var sn in x.lib)x.lib.hasOwnProperty(sn)&&(x.lib[sn].hasOwnProperty("attach")?x.lib[sn].attach(ot):x.lib[sn]instanceof Function&&x.lib[sn].call(this));var nn=function(e){if(lt.imageCache.pending||PFont.preloading.pending(100))c.setTimeout(function(){nn(e)},100);else{if(c.opera){var t,a,n=lt.imageCache.operaCache;for(t in n)n.hasOwnProperty(t)&&(a=n[t],null!==a&&l.body.removeChild(a),delete n[t])}lt.attach(e,s),lt.onLoad(e),e.setup&&(e.setup(),e.resetMatrix(),lt.onSetup()),j(),e.draw&&(ra?e.loop():e.redraw())}};this.externals.canvas.id!==t&&this.externals.canvas.id.length||(this.externals.canvas.id="__processing"+b.length),C[this.externals.canvas.id]=b.length,b.push(this),nn(ot)}};return x.debug=function(){return"console"in c?function(e){c.console.log("Processing.js: "+e)}:d}(),x.prototype=s,x.instances=b,x.getInstanceById=function(e){return b[C[e]]},function(e){function t(e){return function(){throw"Processing.js does not support "+e+"."}}for(var a,s,n="open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()".split(" "),i=n.length;i--;)a=n[i],s=a.replace("()",""),e[s]=t(a)}(s),x}},{}],27:[function(e,t){var a={virtEquals:e("./Helpers/virtEquals"),virtHashCode:e("./Helpers/virtHashCode"),ObjectIterator:e("./Helpers/ObjectIterator"),PConstants:e("./Helpers/PConstants"),ArrayList:e("./Objects/ArrayList"),HashMap:e("./Objects/HashMap"),PVector:e("./Objects/PVector"),PFont:e("./Objects/PFont"),Char:e("./Objects/Char"),XMLAttribute:e("./Objects/XMLAttribute"),XMLElement:e("./Objects/XMLElement"),PMatrix2D:e("./Objects/PMatrix2D"),PMatrix3D:e("./Objects/PMatrix3D"),PShape:e("./Objects/PShape"),colors:e("./Objects/webcolors"),PShapeSVG:e("./Objects/PShapeSVG"),CommonFunctions:e("./P5Functions/commonFunctions"),defaultScope:e("./Helpers/defaultScope"),Processing:e("./Processing"),setupParser:e("./Parser/Parser"),finalize:e("./Helpers/finalizeProcessing")};a.extend={withMath:e("./P5Functions/Math.js"),withProxyFunctions:e("./P5Functions/JavaProxyFunctions")(a.virtHashCode,a.virtEquals),withTouch:e("./P5Functions/touchmouse"),withCommonFunctions:a.CommonFunctions.withCommonFunctions},t.exports=function(t,s){var n=function(){},i=a.virtEquals,r=a.virtHashCode,o=a.PConstants,c=a.CommonFunctions,l=a.ObjectIterator,d=a.Char,u=a.XMLAttribute(),h=a.ArrayList({virtHashCode:r,virtEquals:i}),i=a.HashMap({virtHashCode:r,virtEquals:i}),r=a.PVector({PConstants:o}),p=a.PFont({Browser:t,noop:n}),u=a.XMLElement({Browser:t,XMLAttribute:u}),f=a.PMatrix2D({p:c}),m=a.PMatrix3D({p:c}),f=a.PShape({PConstants:o,PMatrix2D:f,PMatrix3D:m}),c=a.PShapeSVG({CommonFunctions:c,PConstants:o,PShape:f,XMLElement:u,colors:a.colors}),o=a.defaultScope({ArrayList:h,HashMap:i,PVector:r,PFont:p,PShapeSVG:c,ObjectIterator:l,PConstants:o,Char:d,XMLElement:u,XML:u}),l=a.Processing({defaultScope:o,Browser:t,extend:a.extend,noop:n}),l=a.setupParser(l,{Browser:t,aFunctions:s,defaultScope:o});return l=a.finalize(l,{version:e("../package.json").version,isDomPresent:t.isDomPresent,window:t.window,document:t.document,noop:n})}},{"../package.json":2,"./Helpers/ObjectIterator":3,"./Helpers/PConstants":4,"./Helpers/defaultScope":5,"./Helpers/finalizeProcessing":6,"./Helpers/virtEquals":7,"./Helpers/virtHashCode":8,"./Objects/ArrayList":9,"./Objects/Char":10,"./Objects/HashMap":11,"./Objects/PFont":12,"./Objects/PMatrix2D":13,"./Objects/PMatrix3D":14,"./Objects/PShape":15,"./Objects/PShapeSVG":16,"./Objects/PVector":17,"./Objects/XMLAttribute":18,"./Objects/XMLElement":19,"./Objects/webcolors":20,"./P5Functions/JavaProxyFunctions":21,"./P5Functions/Math.js":22,"./P5Functions/commonFunctions":23,"./P5Functions/touchmouse":24,"./Parser/Parser":25,"./Processing":26}]},{},[1]);
>>>>>>> a328d865b6ed283942d92a4ddfaca1a6d621a6f2
